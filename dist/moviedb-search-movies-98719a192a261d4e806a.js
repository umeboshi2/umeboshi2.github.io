(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{177:function(e,t){e.exports="You can **search** for a movie, or choose from this \n<a href=\"#pages/sample-moviedb-tvshows\" class='sample-list-anchor'>list:</a>\n\n"},178:function(e,t,n){"use strict";var r,o,i,a,u,l,s,c,p,f,d,h,v,b,m,y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(3),r=n(0),a=n(1),v=n(2),p=n(52),n(10).default,u=n(61).default,l=n(95),s=n(93);var g=n(92);f=g.movieSearchForm,r.Radio.channel("global"),r.Radio.channel("messages"),r.Radio.channel("moviedb"),c=n(177),b="https://www.themoviedb.org/static_cache/v4/logos/powered-by-square-green-11c0c7f8e03c4f44aa54d5e91d9531aa9860a9161c49f5fa741b730c5b21a1f2.svg",n(91);var w=n(60);d=w.posterImage,m=w.tvShowDescription,h=v.renderable(function(e){return v.div(".card.bg-body-d10",function(){return v.div(".row",function(){return v.div(".col-lg-3",function(){return d(e),v.button(".select-result.btn.btn-primary",{style:"display:none"},"Select this show")}),v.div(".card-block.col-lg-8.ml-2",function(){return m(e)})})})}),o=v.renderable(function(e){return v.article(".document-view.content",function(){return v.div(".body",function(){return v.div(".listview-header.bg-moviedb-logo",function(){return v.a({href:"https://developers.themoviedb.org",target:"_blank"},function(){return v.h1(".d-inline.color-moviedb-logo","TheMovieDb API Demo"),v.img(".bg-moviedb-logo.d-inline",{src:b,style:"max-width:4rem;"})})}),v.raw(p(c)),v.div(".search-form.listview-list-entry"),v.div(".paginate-bar"),v.div(".search-results")})})}),i=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.View),y(t,[{key:"doSomething",value:function(e){var t,n,r,o;return(o=this.getChildView("searchResults")).ui.header.is(":visible")||o.ui.header.show(),t=o.collection.state.totalRecords+'  results for "'+e.get("query")+'"',o.triggerMethod("set:header",t),r=this.getRegion("paginateBar"),this.collection.state.totalPages>1?(n=new u({collection:this.collection,setKeyHandler:!0}),r.show(n)):r.hasView()?r.empty():void 0}},{key:"onRender",value:function(){var e,t;return t=new l({collection:this.collection,template:f}),this.showChildView("searchForm",t),e=new s({collection:this.collection,entryTemplate:h,entryUrlRoot:"#moviedb/movies/view"}),this.showChildView("searchResults",e),window.listAnchor=this.ui.sampleListAnchor,console.log("sampleListAnchor",this.ui.sampleListAnchor)}}]),t}();return e.prototype.template=o,e.prototype.templateContext={appName:"tvmaze"},e.prototype.ui={searchForm:".search-form",paginateBar:".paginate-bar",searchResults:".search-results",sampleListAnchor:".sample-list-anchor"},e.prototype.childViewEvents={"save:form:success":"doSomething"},e.prototype.regions={searchForm:"@ui.searchForm",paginateBar:"@ui.paginateBar",searchResults:"@ui.searchResults"},e}.call(void 0),e.exports=i},60:function(e,t,n){"use strict";var r,o,i,a,u,l,s,c,p,f;n(3),n(0),n(1),p=n(2),a=n(53).default,l=p.renderable(function(e){var t,n,r,o;return r=e.noImageSize||"5x",t=e.imgClass||".mr-3",n=e.imgWidth||200,(null!=e?e.poster_path:void 0)?(o="https://image.tmdb.org/t/p/w"+n+e.poster_path,p.img(t,{src:o,style:"width:"+n+"px"})):a(r)}),f=p.renderable(function(e){var t,n;return p.h3(".mt-0",e.name),"Invalid Date"!==(n=new Date(e.first_air_date).toDateString())&&p.h5("Premiered: "+n),"Invalid Date"!==(t=new Date(e.last_air_date).toDateString())&&p.h5("Ended: "+t),p.input(".rating",{type:"number",style:"display:none",value:e.vote_average}),p.p(e.overview)}),r=p.renderable(function(e){var t,n;return p.h3(".mt-0",e.title),(null!=e?e.tagline:void 0)&&p.h5(""+e.tagline),"Invalid Date"!==(n=new Date(e.release_date).toDateString())&&p.h5("Released: "+n),"Invalid Date"!==(t=new Date(e.last_air_date).toDateString())&&p.h4("Ended: "+t),p.input(".rating",{type:"number",style:"display:none",value:e.vote_average}),p.p(e.overview)}),u=p.renderable(function(){return p.div(".jsonview.listview-list-entry",{style:"overflow:auto"})}),c=p.renderable(function(e){return p.div(".card.bg-body-d5",function(){return p.div(".row",function(){return p.div(".col-lg-3",function(){return l(e)}),p.div(".card-block.col-lg-8",function(){return f(e)})})})}),s=p.renderable(function(e){return c(e),p.div(".seasons-row.row"),p.div(".row",function(){return p.div(".col-md-12",function(){return u()})})}),i=p.renderable(function(e){return p.div(".card.bg-body-d5",function(){return p.div(".row",function(){return p.div(".col-lg-3",function(){return l(e)}),p.div(".card-block.col-lg-8",function(){return r(e)})})})}),o=p.renderable(function(e){return i(e),p.div(".row",function(){return p.div(".col-md-12",function(){return u()})})}),e.exports={posterImage:l,tvShowDescription:f,objectJsonTemplate:u,showTemplateCard:c,showTemplate:s,movieTemplateCard:i,movieTemplate:o}},91:function(e,t,n){},92:function(e,t,n){"use strict";var r,o,i,a;i=n(2);var u=n(51);r=u.form_group_input_div,a=i.renderable(function(){return r({input_id:"input_query",label:"TV Show",input_attributes:{name:"query",placeholder:"Enter a TV show","data-validation":"query"}}),i.input(".submit-btn.btn.btn-primary.btn-sm",{type:"submit",value:"Search"}),i.div(".spinner.fa.fa-spinner.fa-spin.text-primary")}),o=i.renderable(function(){return r({input_id:"input_query",label:"Movie Search",input_attributes:{name:"query",placeholder:'Enter a query such as "gone with the wine"'}}),i.input(".submit-btn.btn.btn-primary.btn-sm",{type:"submit",value:"Search"}),i.div(".spinner.fa.fa-spinner.fa-spin.text-primary")}),e.exports={tvSearchForm:a,movieSearchForm:o}},93:function(e,t,n){"use strict";var r,o,i,a,u,l,s,c,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r=n(3),o=n(0),a=n(1),c=n(2),n(57),n(56),window.jQuery=r,n(117),n(116),n(115),n(114),s=n(10).default,n(53).default,i=n(82).default;var v=n(60);v.posterImage,v.tvShowDescription,o.Radio.channel("messages"),o.Radio.channel("moviedb"),u=function(){var e=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,a.View),p(t,[{key:"inLocalCollection",value:function(){var e;return e=this.model.toJSON().show.id,this.getOption("localCollection").get(e)}},{key:"onRender",value:function(){return this.ui.selectResult.show(),this.model.get("vote_average"),this.ui.rating.rating({min:1,max:10,theme:"krajee-fa",readonly:!0,size:"xs"})}},{key:"handleImageHover",value:function(){return this.ui.mainImage.css({cursor:"pointer"})}},{key:"selectResult",value:function(){var e,t;return e=this.model.toJSON().id,t=this.getOption("entryUrlRoot"),s(t+"/"+e)}}]),t}();return e.prototype.ui={selectResult:".select-result",rating:".rating"},e.prototype.events={"click @ui.selectResult":"selectResult"},e}.call(void 0),l=function(){var e=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,a.View),p(t,[{key:"onRender",value:function(){var e;return this.ui.header.hide(),e=new a.CollectionView({collection:this.collection,childView:u,childViewOptions:{localCollection:new o.Collection,entryUrlRoot:this.getOption("entryUrlRoot"),template:this.getOption("entryTemplate")}}),this.showChildView("itemList",e)}}]),t}();return e.prototype.template=c.renderable(function(e){return c.div(".results-header.listview-header",function(){return c.text("Matched Movies")}),c.div(".result-list")}),e.prototype.ui={header:".results-header",itemList:".result-list"},e.prototype.regions={itemList:"@ui.itemList"},e.prototype.behaviors={HasHeader:{behaviorClass:i}},e}.call(void 0),e.exports=l},94:function(e,t,n){"use strict";var r,o;n(3),n(4),(r=n(0)).Radio.channel("messages"),r.Radio.channel("moviedb"),o=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Model),t}();return e.prototype.validation={query:{required:!0,minLength:11}},e}.call(void 0),e.exports=o},95:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o,i,a,u,l,s;n(3),s=n(4),o=n(0),n(1),n(2),n(52),n(64),i=n(55).default,n(51).form_group_input_div,u=n(94),a=o.Radio.channel("messages"),o.Radio.channel("moviedb"),l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.autoClickSubmit=e.autoClickSubmit.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"ui",value:function(){return{query:'[name="query"]'}}},{key:"initialize",value:function(e){return function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this,e)}},{key:"initializeAutoSubmit",value:function(e){var t=this;return this.autoClickSubmitOnce=s.once(this.autoClickSubmit),setTimeout(function(){return t.autoClickSubmitOnce()},1e3)}},{key:"createModel",value:function(){return console.log("UIUI",this.ui),new u}},{key:"updateModel",value:function(){return this.model.set("query",this.ui.query.val())}},{key:"saveModel",value:function(){var e,t=this;return this.model.get("query"),this.collection.queryParams.query=this.model.get("query"),(e=this.collection.fetch()).done(function(){return console.log("saveModel response",e,t.collection),t.trigger("save:form:success",t.model)}),e.fail(function(){return a.request("warning",t.tvshow+" not found."),t.trigger("save:form:failure",t.model)})}},{key:"autoClickSubmit",value:function(){return function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")}(this,t),this.ui.submitButton.click(),console.log("Submit clicked")}}]),t}(),e.exports=l}}]);
//# sourceMappingURL=moviedb-search-movies-98719a192a261d4e806a.js.map