(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{353:function(e,t,n){"use strict";var i,r,o,u,a,l,d,c,p,f,s,_=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();r=n(1),u=n(2),s=n(4),c=n(84),f=n(27).default;var b=n(85);d=b.form_group_input_div,a=r.Radio.channel("messages"),i=r.Radio.channel("ebcsv"),p=function(e,t,n){return{input_id:"input_"+e,label:t,input_attributes:{name:e,placeholder:n}}},l=s.renderable((function(e){var t;return t=p("destname","New Description","newdescription"),s.div(".form-inline",(function(){return d(t),s.div("#copy-dsc-btn.btn.btn-default","Copy"),s.div("#edit-dsc-btn.btn.btn-default","Edit")})),s.div(".listview-header",(function(){return s.text("Viewing Description "+e.name)})),s.hr(),s.article(".document-view.content",(function(){return s.div(".body",(function(){return s.raw(c(e.content))}))}))})),o=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),_(t,[{key:"edit_description",value:function(){return f("#ebcsv/descriptions/edit/"+this.model.id)}},{key:"copy_description",value:function(){var e,t,n;if("bar",e=this.ui.destname_input.val())return(t=i.request("new-ebdsc")).set("name",e),t.set("title",this.model.get("title")),t.set("content",this.model.get("content")),i.request("ebdsc-collection").add(t),(n=t.save()).fail((function(){return a.request("danger","Failed to save new description!")})),n.done((function(){var e;return e="Copied new description "+t.get("name"),a.request("success",e),f("#ebcsv/descriptions/view/"+t.id)}));a.request("warning","Please input a new description name.")}}]),t}(u.View);return e.prototype.template=l,e.prototype.ui={copy_btn:"#copy-dsc-btn",edit_btn:"#edit-dsc-btn",destname_input:'input[name="destname"]'},e.prototype.events={"click @ui.copy_btn":"copy_description","click @ui.edit_btn":"edit_description"},e}.call(void 0),e.exports=o},85:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.name_content_form=t.login_form=t.make_login_form=t.make_field_select=t.make_field_textarea=t.make_field_input=t.form_group_input_div=void 0;var i,r,o,u,a,l,d,c=f(n(4)),p=f(n(88));function f(e){return e&&e.__esModule?e:{default:e}}t.form_group_input_div=i=c.default.renderable((function(e){return c.default.div(".form-group",(function(){var t,n,i;return c.default.label(".control-label",{for:e.input_id},e.label),i="#"+e.input_id+".form-control",t=e.input_attributes,n=c.default.input,(null!=e?e.input_type:void 0)?(n=c.default[e.input_type])(i,t,(function(){return c.default.text(null!=e?e.content:void 0)})):n(i,t),c.default.div(".invalid-feedback")}))})),t.make_field_input=o=function(e){return c.default.renderable((function(t){return i({input_id:"input_"+e,label:(0,p.default)(e),input_attributes:{name:e,placeholder:e,value:t[e],data:{validation:e}}})}))},t.make_field_textarea=a=function(e){return c.default.renderable((function(t){return i({input_id:"input_"+e,input_type:"textarea",label:(0,p.default)(e),input_attributes:{name:e,placeholder:e,data:{validation:e}},content:t[e]})}))},t.make_field_select=u=function(e,t){return c.default.renderable((function(n){return c.default.div(".form-group",(function(){return c.default.label(".control-label",{for:"select_"+e}),(0,p.default)(e)})),c.default.select(".form-control",{name:"select_"+e},(function(){var i,r,o,u;for(u=[],i=0,r=t.length;i<r;i++)o=t[i],n[e]===o?u.push(c.default.option({selected:null,value:o},o)):u.push(c.default.option({value:o},o));return u}))}))},t.make_login_form=l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/login",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST";return c.default.renderable((function(n){return c.default.form({role:"form",method:t,action:e},(function(){return i({input_id:"input_username",label:"User Name",input_attributes:{name:"username",placeholder:"User Name"}}),i({input_id:"input_password",label:"Password",input_attributes:{name:"password",type:"password",placeholder:"Type your password here...."}}),c.default.button(".btn.btn-secondary",{type:"submit"},"login")}))}))},t.login_form=r=l(),t.name_content_form=d=c.default.renderable((function(e){return i({input_id:"input_name",label:"Name",input_attributes:{name:"name",placeholder:"Name"}}),i({input_id:"input_content",input_type:c.default.textarea,label:"Content",input_attributes:{name:"content",placeholder:"..."}}),c.default.input(".btn.btn-secondary.btn-sm",{type:"submit",value:"Add"})})),t.form_group_input_div=i,t.make_field_input=o,t.make_field_textarea=a,t.make_field_select=u,t.make_login_form=l,t.login_form=r,t.name_content_form=d}}]);
//# sourceMappingURL=ebcsv-view-description-c9e31a3d419ffdcbd048.js.map