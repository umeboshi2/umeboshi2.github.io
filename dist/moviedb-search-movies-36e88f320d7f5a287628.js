(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{146:function(e,t){e.exports="You can **search** for a movie, or choose from this \n<a href=\"#pages/sample-moviedb-tvshows\" class='sample-list-anchor'>list:</a>\n\n"},214:function(e,t,i){var r,n,o,a,s,l,u,c,d,h,m,p,v,g,f;i(4),r=i(2),a=i(3),v=i(0),d=i(44),i(14).default,s=i(53).default,l=i(90),u=i(88),({movieSearchForm:h}=i(87)),r.Radio.channel("global"),r.Radio.channel("messages"),r.Radio.channel("moviedb"),c=i(146),g="https://www.themoviedb.org/static_cache/v4/logos/powered-by-square-green-11c0c7f8e03c4f44aa54d5e91d9531aa9860a9161c49f5fa741b730c5b21a1f2.svg",i(86),({posterImage:m,tvShowDescription:f}=i(52)),p=v.renderable(function(e){return v.div(".card.bg-body-d10",function(){return v.div(".row",function(){return v.div(".col-lg-3",function(){return m(e),v.button(".select-result.btn.btn-primary",{style:"display:none"},"Select this show")}),v.div(".card-block.col-lg-8.ml-2",function(){return f(e)})})})}),n=v.renderable(function(e){return v.article(".document-view.content",function(){return v.div(".body",function(){return v.div(".listview-header.bg-moviedb-logo",function(){return v.a({href:"https://developers.themoviedb.org",target:"_blank"},function(){return v.h1(".d-inline.color-moviedb-logo","TheMovieDb API Demo"),v.img(".bg-moviedb-logo.d-inline",{src:g,style:"max-width:4rem;"})})}),v.raw(d(c)),v.div(".search-form.listview-list-entry"),v.div(".paginate-bar"),v.div(".search-results")})})}),o=function(){class e extends a.View{doSomething(e){var t,i,r,n;return(n=this.getChildView("searchResults")).ui.header.is(":visible")||n.ui.header.show(),t=`${n.collection.state.totalRecords}  results for "${e.get("query")}"`,n.triggerMethod("set:header",t),r=this.getRegion("paginateBar"),this.collection.state.totalPages>1?(i=new s({collection:this.collection,setKeyHandler:!0}),r.show(i)):r.hasView()?r.empty():void 0}onRender(){var e,t;return t=new l({collection:this.collection,template:h}),this.showChildView("searchForm",t),e=new u({collection:this.collection,entryTemplate:p,entryUrlRoot:"#moviedb/movies/view"}),this.showChildView("searchResults",e),window.listAnchor=this.ui.sampleListAnchor,console.log("sampleListAnchor",this.ui.sampleListAnchor)}}return e.prototype.template=n,e.prototype.templateContext={appName:"tvmaze"},e.prototype.ui={searchForm:".search-form",paginateBar:".paginate-bar",searchResults:".search-results",sampleListAnchor:".sample-list-anchor"},e.prototype.childViewEvents={"save:form:success":"doSomething"},e.prototype.regions={searchForm:"@ui.searchForm",paginateBar:"@ui.paginateBar",searchResults:"@ui.searchResults"},e}.call(this),e.exports=o},52:function(e,t,i){var r,n,o,a,s,l,u,c,d,h;i(4),i(2),i(3),d=i(0),a=i(45).default,l=d.renderable(function(e){var t,i,r,n;return r=e.noImageSize||"5x",t=e.imgClass||".mr-3",i=e.imgWidth||200,(null!=e?e.poster_path:void 0)?(n=`https://image.tmdb.org/t/p/w${i}${e.poster_path}`,d.img(t,{src:n,style:`width:${i}px`})):a(r)}),h=d.renderable(function(e){var t,i;return d.h3(".mt-0",e.name),"Invalid Date"!==(i=new Date(e.first_air_date).toDateString())&&d.h5(`Premiered: ${i}`),"Invalid Date"!==(t=new Date(e.last_air_date).toDateString())&&d.h5(`Ended: ${t}`),d.input(".rating",{type:"number",style:"display:none",value:e.vote_average}),d.p(e.overview)}),r=d.renderable(function(e){var t,i;return d.h3(".mt-0",e.title),(null!=e?e.tagline:void 0)&&d.h5(`${e.tagline}`),"Invalid Date"!==(i=new Date(e.release_date).toDateString())&&d.h5(`Released: ${i}`),"Invalid Date"!==(t=new Date(e.last_air_date).toDateString())&&d.h4(`Ended: ${t}`),d.input(".rating",{type:"number",style:"display:none",value:e.vote_average}),d.p(e.overview)}),s=d.renderable(function(){return d.div(".jsonview.listview-list-entry",{style:"overflow:auto"})}),c=d.renderable(function(e){return d.div(".card.bg-body-d5",function(){return d.div(".row",function(){return d.div(".col-lg-3",function(){return l(e)}),d.div(".card-block.col-lg-8",function(){return h(e)})})})}),u=d.renderable(function(e){return c(e),d.div(".seasons-row.row"),d.div(".row",function(){return d.div(".col-md-12",function(){return s()})})}),o=d.renderable(function(e){return d.div(".card.bg-body-d5",function(){return d.div(".row",function(){return d.div(".col-lg-3",function(){return l(e)}),d.div(".card-block.col-lg-8",function(){return r(e)})})})}),n=d.renderable(function(e){return o(e),d.div(".row",function(){return d.div(".col-md-12",function(){return s()})})}),e.exports={posterImage:l,tvShowDescription:h,objectJsonTemplate:s,showTemplateCard:c,showTemplate:u,movieTemplateCard:o,movieTemplate:n}},86:function(e,t,i){},87:function(e,t,i){var r,n,o,a;o=i(0),({form_group_input_div:r}=i(43)),a=o.renderable(function(){return r({input_id:"input_query",label:"TV Show",input_attributes:{name:"query",placeholder:"Enter a TV show","data-validation":"query"}}),o.input(".submit-btn.btn.btn-primary.btn-sm",{type:"submit",value:"Search"}),o.div(".spinner.fa.fa-spinner.fa-spin.text-primary")}),n=o.renderable(function(){return r({input_id:"input_query",label:"Movie Search",input_attributes:{name:"query",placeholder:'Enter a query such as "gone with the wine"'}}),o.input(".submit-btn.btn.btn-primary.btn-sm",{type:"submit",value:"Search"}),o.div(".spinner.fa.fa-spinner.fa-spin.text-primary")}),e.exports={tvSearchForm:a,movieSearchForm:n}},88:function(e,t,i){var r,n,o,a,s,l,u,c,d,h;r=i(4),n=i(2),a=i(3),d=i(0),i(49),i(48),window.jQuery=r,i(111),i(110),i(109),i(108),u=i(14).default,i(45).default,o=i(77).default,({posterImage:c,tvShowDescription:h}=i(52)),n.Radio.channel("messages"),n.Radio.channel("moviedb"),s=function(){class e extends a.View{inLocalCollection(){var e;return e=this.model.toJSON().show.id,this.getOption("localCollection").get(e)}onRender(){return this.ui.selectResult.show(),this.model.get("vote_average"),this.ui.rating.rating({min:1,max:10,theme:"krajee-fa",readonly:!0,size:"xs"})}handleImageHover(){return this.ui.mainImage.css({cursor:"pointer"})}selectResult(){var e,t;return e=this.model.toJSON().id,t=this.getOption("entryUrlRoot"),u(`${t}/${e}`)}}return e.prototype.ui={selectResult:".select-result",rating:".rating"},e.prototype.events={"click @ui.selectResult":"selectResult"},e}.call(this),l=function(){class e extends a.View{onRender(){var e;return this.ui.header.hide(),e=new a.CollectionView({collection:this.collection,childView:s,childViewOptions:{localCollection:new n.Collection,entryUrlRoot:this.getOption("entryUrlRoot"),template:this.getOption("entryTemplate")}}),this.showChildView("itemList",e)}}return e.prototype.template=d.renderable(function(e){return d.div(".results-header.listview-header",function(){return d.text("Matched Movies")}),d.div(".result-list")}),e.prototype.ui={header:".results-header",itemList:".result-list"},e.prototype.regions={itemList:"@ui.itemList"},e.prototype.behaviors={HasHeader:{behaviorClass:o}},e}.call(this),e.exports=l},89:function(e,t,i){var r,n;i(4),i(7),(r=i(2)).Radio.channel("messages"),r.Radio.channel("moviedb"),n=function(){class e extends r.Model{}return e.prototype.validation={query:{required:!0,minLength:11}},e}.call(this),e.exports=n},90:function(e,t,i){var r,n,o,a,s,l,u;i(4),l=i(7),r=i(2),i(3),i(0),i(44),i(61),n=i(47).default,({form_group_input_div:u}=i(43)),a=i(89),o=r.Radio.channel("messages"),r.Radio.channel("moviedb"),s=class e extends n{constructor(){super(...arguments),this.autoClickSubmit=this.autoClickSubmit.bind(this)}ui(){return{query:'[name="query"]'}}initialize(e){return super.initialize(e)}initializeAutoSubmit(e){return this.autoClickSubmitOnce=l.once(this.autoClickSubmit),setTimeout(()=>this.autoClickSubmitOnce(),1e3)}createModel(){return console.log("UIUI",this.ui),new a}updateModel(){return this.model.set("query",this.ui.query.val())}saveModel(){var e;return this.model.get("query"),this.collection.queryParams.query=this.model.get("query"),(e=this.collection.fetch()).done(()=>(console.log("saveModel response",e,this.collection),this.trigger("save:form:success",this.model))),e.fail(()=>(o.request("warning",`${this.tvshow} not found.`),this.trigger("save:form:failure",this.model)))}autoClickSubmit(){return function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")}(this,e),this.ui.submitButton.click(),console.log("Submit clicked")}},e.exports=s}}]);
//# sourceMappingURL=moviedb-search-movies-36e88f320d7f5a287628.js.map