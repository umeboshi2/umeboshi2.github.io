(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{107:function(e,t){e.exports="\n\nYou can **search** for a TV show, or go directly \nto the [list of shows](#tvmaze/shows).\n\n"},108:function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r);t.default=class extends i.a.Behavior{onSetHeader(e){return this.ui.header.text(e)}}},109:function(e,t,n){var r,i,s,o,a,l,u,c,h,d,f;i=n(1),o=n(3),f=n(2),n(64),n(63),c=n(13).default,h=n(56).default,s=n(108).default,a=i.Radio.channel("messages"),r=i.Radio.channel("tvmaze"),d=f.renderable(function(e){var t;return t=e.show,f.div(".card.bg-body-d5",function(){return f.div(".row",function(){return f.div(".col-sm-2",function(){var e;return(null!=(e=t.image)?e.medium:void 0)?f.img(".main-image.card-img-bottom",{src:t.image.medium}):h("5x")}),f.div(".col-sm-9",function(){return f.div(".card-block.bg-body-d10",function(){return f.h3(".card-title",t.name),f.h4(`Premiered: ${new Date(t.premiered).toDateString()}`),f.raw(t.summary)}),f.button(".select-show.btn.btn-primary",{style:"display:none"},"Select this show")})})})}),u=function(){class e extends o.View{inLocalCollection(){var e;return e=this.model.toJSON().show.id,this.getOption("localCollection").get(e)}onRender(){if(!this.inLocalCollection())return this.ui.selectShow.show()}handleImageHover(){if(this.inLocalCollection())return this.ui.mainImage.css({cursor:"pointer"})}viewShow(){var e;return e=this.model.toJSON().show.id,c(`#tvmaze/shows/view/${e}`)}selectShow(){var e,t,n;return e=this.model.toJSON().show.id,(t=(n=r.request("get-remote-show",e)).fetch()).done(function(){return r.request("save-local-show",n.toJSON()).then(function(t){return c(`#tvmaze/shows/view/${e}`)})}),t.fail(function(){return a.request("danger","Bad move")})}}return e.prototype.template=d,e.prototype.ui={selectShow:".select-show",mainImage:".main-image"},e.prototype.events={"click @ui.selectShow":"selectShow","mouseenter @ui.mainImage":"handleImageHover","click @ui.mainImage":"viewShow"},e}.call(this),l=function(){class e extends o.View{onRender(){var e;return this.ui.header.hide(),e=new o.CollectionView({collection:this.collection,childView:u,childViewOptions:{localCollection:r.request("get-local-tvshows")}}),this.showChildView("itemList",e)}}return e.prototype.template=f.renderable(function(e){return f.div(".listview-header",function(){return f.text("Matched TV Shows")}),f.div(".show-list")}),e.prototype.ui={header:".listview-header",itemList:".show-list"},e.prototype.regions={itemList:"@ui.itemList"},e.prototype.behaviors={HasHeader:{behaviorClass:s}},e}.call(this),e.exports=l},110:function(e,t,n){var r,i,s,o,a,l,u;n(4),n(7),r=n(1),n(3),u=n(2),n(44),i=n(50).default,n(13).default,({form_group_input_div:a}=n(43)),s=r.Radio.channel("messages"),r.Radio.channel("tvmaze"),l=u.renderable(function(){return a({input_id:"input_show",label:"TV Show",input_attributes:{name:"tv_show",placeholder:"tiny toons"}}),u.input(".btn.btn-primary.btn-sm",{type:"submit",value:"Search"}),u.div(".spinner.fa.fa-spinner.fa-spin.text-primary")}),o=function(){class e extends i{createModel(){return this.getOption("collection"),new r.Model}updateModel(){return this.tvshow=this.ui.tvShow.val(),this.model.set("tvshow",this.tvshow)}saveModel(){var e;return(e=this.collection.fetch({data:{q:this.tvshow}})).done(()=>this.trigger("save:form:success",this.model)),e.fail(()=>(s.request("warning",`${this.tvshow} not found.`),this.trigger("save:form:failure",this.model)))}}return e.prototype.template=l,e.prototype.ui={tvShow:'[name="tv_show"]'},e}.call(this),e.exports=o},170:function(e,t,n){var r,i,s,o,a,l,u,c,h;n(4),r=n(1),o=n(3),h=n(2),c=n(44),n(13).default,n(62).default,a=n(110),l=n(109),r.Radio.channel("global"),r.Radio.channel("messages"),r.Radio.channel("tvmaze"),u=n(107),h.renderable(function(e){return".btn.btn-sm",h.li(".list-group-item",function(){return h.span(function(){return h.a({href:`#tvmaze/view/show/${e.id}`},e.content.name)}),h.span(".btn-group.pull-right",function(){return h.button(".delete-item.btn.btn-sm.btn-danger.fa.fa-close","delete")})})}),h.renderable(function(){return h.div(".listview-header",function(){return h.text("TV Shows")}),h.ul(".list-group")}),i=h.renderable(function(e){return h.article(".document-view.content",function(){return h.div(".body",function(){return h.h1("TV Maze API Demo"),h.div(".search-form.listview-list-entry"),h.div(".search-results"),h.raw(c(u))})})}),s=function(){class e extends o.View{doSomething(e){var t,n;return(n=this.getChildView("searchResults")).ui.header.is(":visible")||n.ui.header.show(),t=`${n.collection.length}  results for "${e.get("tvshow")}"`,n.triggerMethod("set:header",t)}onRender(){var e,t;return t=new a({collection:this.collection}),this.showChildView("searchForm",t),e=new l({collection:this.collection}),this.showChildView("searchResults",e)}}return e.prototype.template=i,e.prototype.templateContext={appName:"tvmaze"},e.prototype.ui={searchForm:".search-form",searchResults:".search-results"},e.prototype.childViewEvents={"save:form:success":"doSomething"},e.prototype.regions={searchForm:"@ui.searchForm",searchResults:"@ui.searchResults"},e}.call(this),e.exports=s},48:function(e,t){var n,r,i=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var l,u=[],c=!1,h=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):h=-1,u.length&&f())}function f(){if(!c){var e=a(d);c=!0;for(var t=u.length;t;){for(l=u,u=[];++h<t;)l&&l[h].run();h=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new m(e,t)),1!==u.length||c||a(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},52:function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,a,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(s(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(i(n))for(a=Array.prototype.slice.call(arguments,1),o=(u=n.slice()).length,l=0;l<o;l++)u[l].apply(this,a);return!0},n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(o=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},n.prototype.removeListener=function(e,t){var n,s,o,a;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(n=this._events[e]).length,s=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(a=o;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){s=a;break}if(s<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},56:function(e,t,n){"use strict";n.r(t);var r=n(2),i=n.n(r);t.default=i.a.renderable(function(e="5x"){return i.a.span(`.fa-stack.fa-${e}`,function(){return i.a.i(".fa.fa-image.fa-stack-1x"),i.a.i(".fa.fa-ban.fa-stack-2x.text-danger")})})},62:function(e,t,n){"use strict";n.r(t);var r,i,s=n(1),o=n.n(s),a=n(3),l=n.n(a),u=n(2),c=n.n(u);i=o.a.Radio.channel("messages"),r=c.a.renderable(function(e){return c.a.div(".modal-content",function(){return c.a.div(".modal-header",function(){return c.a.h3(".modal-title",function(){return c.a.text(`Do you really want to delete ${e.content.name}?`),c.a.img({src:e.content.image.medium})}),c.a.button(".close",{type:"button",data:{dismiss:"modal"}},function(){return c.a.span({"aria-hidden":"true"},function(){return c.a.raw("&times")})})}),c.a.div(".modal-body",function(){return c.a.div("#selected-children")}),c.a.div(".modal-footer",function(){return c.a.button(".confirm-delete.btn.btn-primary",{type:"button",data:{dismiss:"modal"}},function(){return c.a.i(".fa.fa-check"),c.a.text("OK")}),c.a.button(".cancel-delete.btn.btn-danger",{type:"button",data:{dismiss:"modal"}},function(){return c.a.i(".fa.fa-close"),c.a.text("Cancel")})})})}),t.default=function(){class e extends l.a.View{events(){return{"click @ui.confirmDelete":"confirmDelete"}}confirmDelete(){var e,t;return e=this.model.get("name"),(t=this.model.destroy()).done(function(){return i.request("success",`${e} deleted.`)}),t.fail(function(){return i.request("danger",`${e} NOT deleted.`)})}}return e.prototype.template=r,e.prototype.className="modal-dialog",e.prototype.ui={confirmDelete:".confirm-delete",cancelButton:".cancel-delete"},e}.call(this)}}]);