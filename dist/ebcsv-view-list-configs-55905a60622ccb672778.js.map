{"version":3,"sources":["webpack:///./src/applets/ebcsv/views/config-views/list.coffee","webpack:///./node_modules/tbirds/src/templates/forms.coffee","webpack:///./node_modules/tbirds/src/templates/buttons.coffee","webpack:///./src/applets/ebcsv/views/basecrudviews.coffee","webpack:///./node_modules/tbirds/src/templates/basecrud.coffee"],"names":["Backbone","ItemTemplate","ItemView","ListTemplate","ListView","Templates","Views","form_group_input_div","__webpack_require__","default","Radio","channel","base_item_template","base_list_template","BaseItemView","route_name","template","item_type","modelEvents","change:name","BaseListView","childView","childViewContainer","module","exports","login_form","make_field_input","make_field_select","make_field_textarea","make_login_form","name_content_form","_util_capitalize__WEBPACK_IMPORTED_MODULE_1__","teacup__WEBPACK_IMPORTED_MODULE_0___default","a","renderable","data","div","atts","input_type","selector","label","for","input_id","input_attributes","input","text","content","field","model","Object","name","placeholder","value","optlist","select","i","len","opt","results","length","option","selected","action","method","user","form","role","type","button","textarea","divbutton","dropdown_toggle","modal_close_button","navbar_collapse_button","spanbutton","teacup__WEBPACK_IMPORTED_MODULE_0__","n","component","attrs","renderContents","span","icon","data-dismiss","h4","target","data-toggle","data-target","href","ConfirmDeleteModal","ConfirmDeleteTemplate","MainChannel","MessageChannel","navigate_to_url","tc","h3","dismiss","aria-hidden","raw","Marionette","View","[object Object]","click @ui.confirm_delete","response","this","get","destroy","done","request","fail","className","ui","confirm_delete","cancel_button","click @ui.edit_item","click @ui.delete_item","id","view","backdrop","modal_region","getView","getRegion","show","_show_modal","edit_item","delete_item","item","CompositeView","make_new_item","click @ui.make_new_item","_util_capitalize__WEBPACK_IMPORTED_MODULE_3__","item_btn","li","hr","ul"],"mappings":"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","file":"ebcsv-view-list-configs-55905a60622ccb672778.js","sourcesContent":["Backbone = require 'backbone'\nMarionette = require 'backbone.marionette'\ntc = require 'teacup'\n\nnavigate_to_url = require('tbirds/util/navigate-to-url').default\n\n\nMainChannel = Backbone.Radio.channel 'global'\nMessageChannel = Backbone.Radio.channel 'messages'\nAppChannel = Backbone.Radio.channel 'ebcsv'\n\n########################################\nTemplates = require 'tbirds/templates/basecrud'\n\nViews = require '../basecrudviews'\n\nItemTemplate = Templates.base_item_template 'config', 'ebcsv'\n        \nListTemplate = Templates.base_list_template 'config'\n\n\n\n#import tc from 'teacup'\nmarked = require 'marked'\n\n\n{ form_group_input_div } = require 'tbirds/templates/forms'\ncapitalize = require 'tbirds/util/capitalize'\n\nclass ItemView extends Views.BaseItemView\n  route_name: 'ebcsv'\n  template: ItemTemplate\n  item_type: 'config'\n\n  modelEvents:\n    'change:name': 'render'\n    \n\n  \nclass ListView extends Views.BaseListView\n  route_name: 'ebcsv'\n  childView: ItemView\n  template: ListTemplate\n  childViewContainer: '#config-container'\n  item_type: 'config'\n    \n    \nmodule.exports = ListView\n\n","import tc from 'teacup'\n\nimport capitalize from '../util/capitalize'\n\nif __useCssModules__\n  require \"../../sass/forms.scss\"\n\n########################################\n# Form Templates\n########################################\nform_group_input_div = tc.renderable (data) ->\n  tc.div '.form-group', ->\n    tc.label '.control-label',\n      for:data.input_id\n      data.label\n    selector = \"##{data.input_id}.form-control\"\n    atts = data.input_attributes\n    input_type = tc.input\n    if data?.input_type\n      input_type = tc[data.input_type]\n      input_type selector, atts, ->\n        tc.text data?.content\n    else\n      input_type selector, atts\n\nmake_field_input = (field) ->\n  tc.renderable (model) ->\n    form_group_input_div\n      input_id: \"input_#{field}\"\n      label: capitalize field\n      input_attributes:\n        name: field\n        placeholder: field\n        value: model[field]\n    \nmake_field_textarea = (field) ->\n  tc.renderable (model) ->\n    form_group_input_div\n      input_id: \"input_#{field}\"\n      input_type: 'textarea'\n      label: capitalize field\n      input_attributes:\n        name: field\n        placeholder: field\n      content: model[field]\n\nmake_field_select = (field, optlist) ->\n  tc.renderable (model) ->\n    tc.div '.form-group', ->\n      tc.label '.control-label',\n        for:\"select_#{field}\"\n      capitalize field\n    tc.select '.form-control', name:\"select_#{field}\", ->\n      for opt in optlist\n        if model[field] is opt\n          tc.option selected:null, value:opt, opt\n        else\n          tc.option value:opt, opt\n          \nmake_login_form = (action='/login', method='POST') ->\n  tc.renderable (user) ->\n    tc.form\n      role:'form'\n      method: method\n      action: action, ->\n        form_group_input_div\n          input_id: 'input_username'\n          label: 'User Name'\n          input_attributes:\n            name: 'username'\n            placeholder: 'User Name'\n        form_group_input_div\n          input_id: 'input_password'\n          label: 'Password'\n          input_attributes:\n            name: 'password'\n            type: 'password'\n            placeholder: 'Type your password here....'\n        tc.button '.btn.btn-secondary', type:'submit', 'login'\n\nlogin_form = make_login_form()\n\nname_content_form = tc.renderable (model) ->\n  form_group_input_div\n    input_id: 'input_name'\n    label: 'Name'\n    input_attributes:\n      name: 'name'\n      placeholder: 'Name'\n  form_group_input_div\n    input_id: 'input_content'\n    input_type: tc.textarea\n    label: 'Content'\n    input_attributes:\n      name: 'content'\n      placeholder: '...'\n  tc.input '.btn.btn-secondary.btn-sm', type:'submit', value:'Add'\n\n########################################\nexport {\n  form_group_input_div\n  make_field_input\n  make_field_textarea\n  make_field_select\n  make_login_form\n  login_form\n  name_content_form\n  }\n  \n","import tc from 'teacup'\n\n\n########################################\n# Button Templates\n########################################\nspanbutton = tc.component (selector, attrs, renderContents) ->\n  tc.span \"#{selector}.btn.btn-secondary.btn-sm\", renderContents\n\ndivbutton = tc.component (selector, attrs, renderContents) ->\n  tc.div \"#{selector}.btn.btn-secondary.btn-sm\", renderContents\n\nmodal_close_button = tc.renderable (label='Close', icon='close')->\n  tc.div '.btn.btn-secondary.btn-sm', 'data-dismiss': 'modal', ->\n    tc.h4 '.modal-title', ->\n      tc.i \".fa.fa-#{icon}\"\n      tc.text label\n\nnavbar_collapse_button  = tc.renderable (target) ->\n  tc.button '.navbar-toggle', type:'button', 'data-toggle':'collapse',\n  'data-target': \"##{target}\", ->\n    tc.span '.sr-only', 'Toggle Navigation'\n    tc.span '.icon-bar'\n    tc.span '.icon-bar'\n    tc.span '.icon-bar'\n\ndropdown_toggle = tc.component (selector, attrs, renderContents) ->\n  tc.a \"#{selector}.dropdown-toggle\", href:attrs.href,\n  'data-toggle':'dropdown', renderContents\n\nexport {\n  spanbutton\n  divbutton\n  modal_close_button\n  navbar_collapse_button\n  dropdown_toggle\n  }\n  \n","Backbone = require 'backbone'\nMarionette = require 'backbone.marionette'\ntc = require 'teacup'\n\nnavigate_to_url = require('tbirds/util/navigate-to-url').default\nrequire 'tbirds/regions/bsmodal'\n{ modal_close_button } = require 'tbirds/templates/buttons'\n\nMainChannel = Backbone.Radio.channel 'global'\nMessageChannel = Backbone.Radio.channel 'messages'\n\n\n\nConfirmDeleteTemplate = tc.renderable (model) ->\n  tc.div '.modal-content', ->\n    tc.div '.modal-header', ->\n      tc.h3 '.modal-title', \"Do you really want to delete #{model.name}?\"\n      tc.button '.close', type:'button', data:{dismiss:'modal'}, ->\n        tc.span \"aria-hidden\":\"true\", ->\n          tc.raw '&times'\n    tc.div '.modal-body', ->\n      tc.div '#selected-children'\n    tc.div '.modal-footer', ->\n      tc.button '.confirm-delete.btn.btn-primary',\n      type:'button', data:{dismiss:'modal'}, ->\n        tc.i '.fa.fa-check'\n        tc.text \"OK\"\n      tc.button '.cancel-delete.btn.btn-danger',\n      type:'button', data:{dismiss:'modal'}, ->\n        tc.i '.fa.fa-close'\n        tc.text \"Cancel\"\n\nclass ConfirmDeleteModal extends Backbone.Marionette.View\n  template: ConfirmDeleteTemplate\n  className: 'modal-dialog'\n  ui:\n    confirm_delete: '.confirm-delete'\n    cancel_button: '.cancel-delete'\n    \n  events: ->\n    'click @ui.confirm_delete': 'confirm_delete'\n\n  confirm_delete: ->\n    name = @model.get 'name'\n    response = @model.destroy()\n    response.done ->\n      MessageChannel.request 'success', \"#{name} deleted.\",\n    response.fail ->\n      MessageChannel.request 'danger', \"#{name} NOT deleted.\"\n      \nclass BaseItemView extends Backbone.Marionette.View\n  ui:\n    edit_item: '.edit-item'\n    delete_item: '.delete-item'\n    item: '.list-item'\n    \n  events: ->\n    'click @ui.edit_item': 'edit_item'\n    'click @ui.delete_item': 'delete_item'\n    \n  edit_item: ->\n    navigate_to_url \"##{@route_name}/#{@item_type}s/edit/#{@model.id}\"\n    \n  _show_modal: (view, backdrop) ->\n    app = MainChannel.request 'main:app:object'\n    layout = app.getView()\n    modal_region = layout.getRegion 'modal'\n    modal_region.backdrop = backdrop\n    modal_region.show view\n\n  \n  delete_item: ->\n    if __DEV__\n      console.log \"delete_#{@item_type}\", @model\n    view = new ConfirmDeleteModal\n      model: @model\n    if __DEV__\n      console.log 'modal view', view\n    @_show_modal view, true\n    #MainChannel.request 'main:app:show-modal', view, {backdrop:true}\n    \n\nclass BaseListView extends Backbone.Marionette.CompositeView\n  childViewContainer: \"##{@item_type}-container\"\n  ui: ->\n    make_new_item: \"#new-#{@item_type}\"\n    \n  events: ->\n    'click @ui.make_new_item': 'make_new_item'\n\n  make_new_item: ->\n    # FIXME - fix url dont't add 's'\n    navigate_to_url \"##{@route_name}/#{@item_type}s/new\"\n    \n  \n\nmodule.exports =\n  BaseItemView: BaseItemView\n  BaseListView: BaseListView\n  \n\n","import tc from 'teacup'\nimport marked from 'marked'\n\n\nimport { form_group_input_div } from './forms'\nimport capitalize from '../util/capitalize'\n\n# Main Templates must use teacup.\n# The template must be a teacup.renderable,\n# and accept a layout model as an argument.\n\n########################################\n# Templates\n########################################\n\nbase_item_template = (name, route_name) ->\n  tc.renderable (model) ->\n    item_btn = \".btn.btn-secondary.btn-sm\"\n    tc.li \".list-group-item.#{name}-item\", ->\n      tc.span ->\n        tc.a href:\"##{route_name}/#{name}s/view/#{model.id}\", model.name\n      tc.span '.btn-group.pull-right', ->\n        tc.button \".edit-item.#{item_btn}.btn-info.fa.fa-edit\", 'edit'\n        tc.button \".delete-item.#{item_btn}.btn-danger.fa.fa-close\", 'delete'\n\nbase_list_template = (name) ->\n  tc.renderable (model) ->\n    tc.div '.listview-header', ->\n      tc.text capitalize name\n    tc.hr()\n    tc.ul \"##{name}-container.list-group\"\n\nexport {\n  base_item_template\n  base_list_template\n  }\n  \n"],"sourceRoot":""}