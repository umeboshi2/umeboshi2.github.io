(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{147:function(e,t){e.exports="You can **search** for a TV show, or choose from this \n<a href=\"#pages/sample-moviedb-tvshows\" class='sample-list-anchor'>list:</a>\n\n"},152:function(e,t,n){"use strict";n.r(t);var i,r,o,a,s=n(2),l=n.n(s),u=n(3),c=n.n(u),d=n(0),h=n.n(d);r=l.a.Radio.channel("messages"),a=h.a.renderable(function(e){return h.a.h3(".modal-title",function(){return h.a.text("Do you really want to delete this?")}),h.a.button(".close",{type:"button",data:{dismiss:"modal"}},function(){return h.a.span({"aria-hidden":"true"},function(){return h.a.raw("&times")})})}),o=h.a.renderable(function(e){return h.a.div()}),i=h.a.renderable(function(e){return h.a.div(".modal-content",function(){return h.a.div(".modal-header",function(){return(e.headerTemplate||a)(e)}),h.a.div(".modal-body",function(){return(e.modalBodyTemplate||o)(e)}),h.a.div(".modal-footer",function(){return h.a.button(".confirm-delete.btn.btn-primary",{type:"button",data:{dismiss:"modal"}},function(){return h.a.i(".fa.fa-check"),h.a.text("OK")}),h.a.button(".cancel-delete.btn.btn-danger",{type:"button",data:{dismiss:"modal"}},function(){return h.a.i(".fa.fa-close"),h.a.text("Cancel")})})})}),t.default=function(){class e extends c.a.View{events(){return{"click @ui.confirmDelete":"confirmDelete"}}confirmDelete(){var e,t;return e=this.model.get("name"),(t=this.model.destroy()).done(function(){return r.request("success",`${e} deleted.`)}),t.fail(function(){return r.request("danger",`${e} NOT deleted.`)})}}return e.prototype.template=i,e.prototype.className="modal-dialog",e.prototype.ui={confirmDelete:".confirm-delete",cancelButton:".cancel-delete"},e}.call(this)},215:function(e,t,n){var i,r,o,a,s,l,u,c,d,h,m,p,v,f,b;n(4),i=n(2),a=n(3),p=n(0),d=n(44),n(14).default,s=n(53).default,n(152).default,l=n(90),u=n(88),({tvSearchForm:f}=n(87)),i.Radio.channel("global"),i.Radio.channel("messages"),i.Radio.channel("moviedb"),c=n(147),v="https://www.themoviedb.org/static_cache/v4/logos/powered-by-square-green-11c0c7f8e03c4f44aa54d5e91d9531aa9860a9161c49f5fa741b730c5b21a1f2.svg",n(86),({posterImage:h,tvShowDescription:b}=n(52)),m=p.renderable(function(e){return p.div(".card.bg-body-d10",function(){return p.div(".row",function(){return p.div(".col-lg-3",function(){return h(e),p.button(".select-result.btn.btn-primary",{style:"display:none"},"Select this show")}),p.div(".card-block.col-lg-8.ml-2",function(){return b(e)})})})}),r=p.renderable(function(e){return p.article(".document-view.content",function(){return p.div(".body",function(){return p.div(".listview-header.bg-moviedb-logo",function(){return p.a({href:"https://developers.themoviedb.org",target:"_blank"},function(){return p.h1(".d-inline.color-moviedb-logo","TheMovieDb API Demo"),p.img(".bg-moviedb-logo.d-inline",{src:v,style:"max-width:4rem;"})})}),p.raw(d(c)),p.div(".search-form.listview-list-entry"),p.div(".paginate-bar"),p.div(".search-results")})})}),o=function(){class e extends a.View{doSomething(e){var t,n,i,r;return(r=this.getChildView("searchResults")).ui.header.is(":visible")||r.ui.header.show(),t=`${r.collection.state.totalRecords}  results for "${e.get("query")}"`,r.triggerMethod("set:header",t),i=this.getRegion("paginateBar"),this.collection.state.totalPages>1?(n=new s({collection:this.collection,setKeyHandler:!0}),i.show(n)):i.hasView()?i.empty():void 0}onRender(){var e,t;return t=new l({collection:this.collection,template:f}),this.showChildView("searchForm",t),e=new u({collection:this.collection,entryTemplate:m,entryUrlRoot:"#moviedb/tv/shows/view"}),this.showChildView("searchResults",e),window.listAnchor=this.ui.sampleListAnchor,console.log("sampleListAnchor",this.ui.sampleListAnchor)}}return e.prototype.template=r,e.prototype.templateContext={appName:"moviedb"},e.prototype.ui={searchForm:".search-form",paginateBar:".paginate-bar",searchResults:".search-results",sampleListAnchor:".sample-list-anchor"},e.prototype.childViewEvents={"save:form:success":"doSomething"},e.prototype.regions={searchForm:"@ui.searchForm",paginateBar:"@ui.paginateBar",searchResults:"@ui.searchResults"},e}.call(this),e.exports=o},52:function(e,t,n){var i,r,o,a,s,l,u,c,d,h;n(4),n(2),n(3),d=n(0),a=n(45).default,l=d.renderable(function(e){var t,n,i,r;return i=e.noImageSize||"5x",t=e.imgClass||".mr-3",n=e.imgWidth||200,(null!=e?e.poster_path:void 0)?(r=`https://image.tmdb.org/t/p/w${n}${e.poster_path}`,d.img(t,{src:r,style:`width:${n}px`})):a(i)}),h=d.renderable(function(e){var t,n;return d.h3(".mt-0",e.name),"Invalid Date"!==(n=new Date(e.first_air_date).toDateString())&&d.h5(`Premiered: ${n}`),"Invalid Date"!==(t=new Date(e.last_air_date).toDateString())&&d.h5(`Ended: ${t}`),d.input(".rating",{type:"number",style:"display:none",value:e.vote_average}),d.p(e.overview)}),i=d.renderable(function(e){var t,n;return d.h3(".mt-0",e.title),(null!=e?e.tagline:void 0)&&d.h5(`${e.tagline}`),"Invalid Date"!==(n=new Date(e.release_date).toDateString())&&d.h5(`Released: ${n}`),"Invalid Date"!==(t=new Date(e.last_air_date).toDateString())&&d.h4(`Ended: ${t}`),d.input(".rating",{type:"number",style:"display:none",value:e.vote_average}),d.p(e.overview)}),s=d.renderable(function(){return d.div(".jsonview.listview-list-entry",{style:"overflow:auto"})}),c=d.renderable(function(e){return d.div(".card.bg-body-d5",function(){return d.div(".row",function(){return d.div(".col-lg-3",function(){return l(e)}),d.div(".card-block.col-lg-8",function(){return h(e)})})})}),u=d.renderable(function(e){return c(e),d.div(".seasons-row.row"),d.div(".row",function(){return d.div(".col-md-12",function(){return s()})})}),o=d.renderable(function(e){return d.div(".card.bg-body-d5",function(){return d.div(".row",function(){return d.div(".col-lg-3",function(){return l(e)}),d.div(".card-block.col-lg-8",function(){return i(e)})})})}),r=d.renderable(function(e){return o(e),d.div(".row",function(){return d.div(".col-md-12",function(){return s()})})}),e.exports={posterImage:l,tvShowDescription:h,objectJsonTemplate:s,showTemplateCard:c,showTemplate:u,movieTemplateCard:o,movieTemplate:r}},86:function(e,t,n){},87:function(e,t,n){var i,r,o,a;o=n(0),({form_group_input_div:i}=n(43)),a=o.renderable(function(){return i({input_id:"input_query",label:"TV Show",input_attributes:{name:"query",placeholder:"Enter a TV show","data-validation":"query"}}),o.input(".submit-btn.btn.btn-primary.btn-sm",{type:"submit",value:"Search"}),o.div(".spinner.fa.fa-spinner.fa-spin.text-primary")}),r=o.renderable(function(){return i({input_id:"input_query",label:"Movie Search",input_attributes:{name:"query",placeholder:'Enter a query such as "gone with the wine"'}}),o.input(".submit-btn.btn.btn-primary.btn-sm",{type:"submit",value:"Search"}),o.div(".spinner.fa.fa-spinner.fa-spin.text-primary")}),e.exports={tvSearchForm:a,movieSearchForm:r}},88:function(e,t,n){var i,r,o,a,s,l,u,c,d,h;i=n(4),r=n(2),a=n(3),d=n(0),n(49),n(48),window.jQuery=i,n(111),n(110),n(109),n(108),u=n(14).default,n(45).default,o=n(77).default,({posterImage:c,tvShowDescription:h}=n(52)),r.Radio.channel("messages"),r.Radio.channel("moviedb"),s=function(){class e extends a.View{inLocalCollection(){var e;return e=this.model.toJSON().show.id,this.getOption("localCollection").get(e)}onRender(){return this.ui.selectResult.show(),this.model.get("vote_average"),this.ui.rating.rating({min:1,max:10,theme:"krajee-fa",readonly:!0,size:"xs"})}handleImageHover(){return this.ui.mainImage.css({cursor:"pointer"})}selectResult(){var e,t;return e=this.model.toJSON().id,t=this.getOption("entryUrlRoot"),u(`${t}/${e}`)}}return e.prototype.ui={selectResult:".select-result",rating:".rating"},e.prototype.events={"click @ui.selectResult":"selectResult"},e}.call(this),l=function(){class e extends a.View{onRender(){var e;return this.ui.header.hide(),e=new a.CollectionView({collection:this.collection,childView:s,childViewOptions:{localCollection:new r.Collection,entryUrlRoot:this.getOption("entryUrlRoot"),template:this.getOption("entryTemplate")}}),this.showChildView("itemList",e)}}return e.prototype.template=d.renderable(function(e){return d.div(".results-header.listview-header",function(){return d.text("Matched Movies")}),d.div(".result-list")}),e.prototype.ui={header:".results-header",itemList:".result-list"},e.prototype.regions={itemList:"@ui.itemList"},e.prototype.behaviors={HasHeader:{behaviorClass:o}},e}.call(this),e.exports=l},89:function(e,t,n){var i,r;n(4),n(7),(i=n(2)).Radio.channel("messages"),i.Radio.channel("moviedb"),r=function(){class e extends i.Model{}return e.prototype.validation={query:{required:!0,minLength:11}},e}.call(this),e.exports=r},90:function(e,t,n){var i,r,o,a,s,l,u;n(4),l=n(7),i=n(2),n(3),n(0),n(44),n(61),r=n(47).default,({form_group_input_div:u}=n(43)),a=n(89),o=i.Radio.channel("messages"),i.Radio.channel("moviedb"),s=class e extends r{constructor(){super(...arguments),this.autoClickSubmit=this.autoClickSubmit.bind(this)}ui(){return{query:'[name="query"]'}}initialize(e){return super.initialize(e)}initializeAutoSubmit(e){return this.autoClickSubmitOnce=l.once(this.autoClickSubmit),setTimeout(()=>this.autoClickSubmitOnce(),1e3)}createModel(){return console.log("UIUI",this.ui),new a}updateModel(){return this.model.set("query",this.ui.query.val())}saveModel(){var e;return this.model.get("query"),this.collection.queryParams.query=this.model.get("query"),(e=this.collection.fetch()).done(()=>(console.log("saveModel response",e,this.collection),this.trigger("save:form:success",this.model))),e.fail(()=>(o.request("warning",`${this.tvshow} not found.`),this.trigger("save:form:failure",this.model)))}autoClickSubmit(){return function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")}(this,e),this.ui.submitButton.click(),console.log("Submit clicked")}},e.exports=s}}]);
//# sourceMappingURL=moviedb-view-index-67d3840070728eebbc64.js.map