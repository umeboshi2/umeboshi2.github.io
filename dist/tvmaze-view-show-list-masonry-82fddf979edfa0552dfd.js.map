{"version":3,"sources":["webpack:///./src/applets/tvmaze/views/masonry-show-list.coffee","webpack:///./node_modules/tbirds/src/templates/no-image-span.coffee","webpack:///./node_modules/imagesloaded/imagesloaded.js","webpack:///./node_modules/tbirds/src/views/paginate-bar.coffee","webpack:///./src/applets/tvmaze/views/confirm-delete-modal.coffee","webpack:///./src/applets/tvmaze/views/templates/tvshow-item.coffee","webpack:///./node_modules/tbirds/src/behaviors/has-masonry.coffee"],"names":["Backbone","ConfirmDeleteModal","HasMasonryView","ItemCollectionView","ItemView","ListView","MainChannel","Marionette","PaginateBar","itemTemplate","listContainer","listTemplate","marked","navigate_to_url","tc","view_template","__webpack_require__","default","Radio","channel","renderable","console","log","div","text","nav","button","View","[object Object]","event","preventDefault","this","model","id","view","backdrop","modal_region","request","getView","getRegion","show","_show_modal","template","ui","item","link","deleteItem","events","click @ui.link","click @ui.deleteItem","CollectionView","childView","header","itemList","flatListButton","paginateBar","pager","collection","showChildView","off","options","regions","click @ui.flatListButton","behaviors","behaviorClass","hasPageableCollection","masonryOptions","itemSelector","isInitLayout","horizontalOrder","columnWidth","stagger","raw","appName","MainView","templateContext","module","exports","__webpack_exports__","teacup__WEBPACK_IMPORTED_MODULE_0___default","a","size","span","i","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","window","factory","undefined","EvEmitter","$","jQuery","extend","b","prop","arraySlice","Array","prototype","slice","ImagesLoaded","elem","onAlways","queryElem","document","querySelectorAll","elements","obj","isArray","length","call","makeArray","on","getImages","jqDeferred","Deferred","setTimeout","check","bind","error","Object","create","images","forEach","addElementImages","nodeName","addImage","background","addElementBackgroundImages","nodeType","elementNodeTypes","childImgs","img","children","child","1","9","11","LoadingImage","Background","url","element","Image","style","getComputedStyle","reURL","matches","exec","backgroundImage","addBackground","loadingImage","push","_this","onProgress","image","message","progress","progressedCount","hasAnyBroken","once","complete","isLoaded","emitEvent","notify","debug","eventName","isComplete","jqMethod","getIsImageComplete","confirm","naturalWidth","proxyImage","addEventListener","src","handleEvent","method","type","onload","unbindEvents","onerror","removeEventListener","makeJQueryPlugin","fn","imagesLoaded","callback","promise","apply","teacup__WEBPACK_IMPORTED_MODULE_3__","teacup__WEBPACK_IMPORTED_MODULE_3___default","n","boundMethodCheck","instance","Constructor","Error","backbone__WEBPACK_IMPORTED_MODULE_1___default","PaginationView","backbone_marionette__WEBPACK_IMPORTED_MODULE_2___default","keydownHandler","updateNavButtons","pageNumber","jquery__WEBPACK_IMPORTED_MODULE_0___default","target","attr","getPage","Number","cp","nextItem","prevItem","state","prevButton","parent","currentPage","firstPage","hasClass","addClass","removeClass","nextButton","lastPage","numberedPage","direction","onFirstPage","onLastPage","resp","getNextPage","getPreviousPage","getAnotherPage","getOption","onRenderHandleKeys","onBeforeDestroyHandleKeys","command","key","ref","results","value","keycommands","keyCode","handleKeyCommand","keydown","unbind","tagName","className","p","ref1","Collection","totalPages","li","href","data","click @ui.numberedPage","click @ui.prevButton","click @ui.nextButton","prev","next","ConfirmDeleteTemplate","MessageChannel","teacup__WEBPACK_IMPORTED_MODULE_2__","teacup__WEBPACK_IMPORTED_MODULE_2___default","backbone__WEBPACK_IMPORTED_MODULE_0___default","h3","content","name","medium","dismiss","aria-hidden","backbone_marionette__WEBPACK_IMPORTED_MODULE_1___default","click @ui.confirmDelete","response","get","destroy","done","fail","confirmDelete","cancelButton","cardClasses","divStyle","noImage","viewLink","strong","ref2","ref3","imagesloaded__WEBPACK_IMPORTED_MODULE_3__","imagesloaded__WEBPACK_IMPORTED_MODULE_3___default","Behavior","list","container","masonry","masonry_layout__WEBPACK_IMPORTED_MODULE_2___default","items","reloadItems","layout","setMasonry","setMasonryLayout","afterDomRefresh","gutter"],"mappings":"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","file":"tvmaze-view-show-list-masonry-82fddf979edfa0552dfd.js","sourcesContent":["$ = require 'jquery'\nBackbone = require 'backbone'\nMarionette = require 'backbone.marionette'\ntc = require 'teacup'\nmarked = require 'marked'\n\nHasMasonryView = require('tbirds/behaviors/has-masonry').default\nnoImage = require('tbirds/templates/no-image-span').default\nPaginateBar = require('tbirds/views/paginate-bar').default\n\nnavigate_to_url = require('tbirds/util/navigate-to-url').default\n\nConfirmDeleteModal = require('./confirm-delete-modal').default\nitemTemplate = require './templates/tvshow-item'\n\nMainChannel = Backbone.Radio.channel 'global'\nMessageChannel = Backbone.Radio.channel 'messages'\n\nlistContainer = '.show-list'\n\nlistTemplate = tc.renderable ->\n  console.log \"SHOW ME\"\n  tc.div '.listview-header', ->\n    tc.text \"TV Shows\"\n  tc.nav '.paginate-bar'\n  tc.button '.flat-list.btn.btn-info', \"Show flat list\"\n  tc.div listContainer\n\n\nclass ItemView extends Marionette.View\n  template: itemTemplate\n  ui:\n    item: '.show-item'\n    link: 'a'\n    deleteItem: '.delete-item'\n  events:\n    'click @ui.link': 'showRole'\n    'click @ui.deleteItem': 'deleteItem'\n  showRole: (event) ->\n    event.preventDefault()\n    navigate_to_url \"#tvmaze/shows/view/#{@model.id}\"\n  _show_modal: (view, backdrop) ->\n    app = MainChannel.request 'main:app:object'\n    layout = app.getView()\n    modal_region = layout.getRegion 'modal'\n    modal_region.backdrop = backdrop\n    modal_region.show view\n  deleteItem: ->\n    view = new ConfirmDeleteModal\n      model: @model\n    @_show_modal view, true\n    \nclass ItemCollectionView extends Marionette.CollectionView\n  childView: ItemView\n\nclass ListView extends Marionette.View\n  template: listTemplate\n  options:\n    listContainer: listContainer\n  ui: ->\n    header: '.listview-header'\n    itemList: listContainer\n    flatListButton: '.flat-list'\n    paginateBar: '.paginate-bar'\n  regions:\n    paginateBar: '@ui.paginateBar'\n    itemList: '@ui.itemList'\n  events:\n    'click @ui.flatListButton': 'showFlatList'\n  behaviors:\n    HasMasonryView:\n      behaviorClass: HasMasonryView\n      listContainer: listContainer\n      hasPageableCollection: true\n      masonryOptions:\n        itemSelector: '.show-item'\n        isInitLayout: false\n        horizontalOrder: true\n        columnWidth: 100\n        stagger: 30\n  onRender: ->\n    view = new ItemCollectionView\n      collection: @collection\n    @showChildView 'itemList', view\n    pager = new PaginateBar\n      collection: @collection\n    @showChildView 'paginateBar', pager\n  onBeforeDestroy: ->\n    @collection.off 'pageable:state:change'\n  showFlatList: ->\n    navigate_to_url '#tvmaze/shows/flat'\n    \nview_template = tc.renderable (model) ->\n  tc.div '.row.listview-list-entry', ->\n    tc.raw marked \"# #{model.appName} started.\"\n    \nclass MainView extends Marionette.View\n  template: view_template\n  templateContext:\n    appName: 'tvmaze'\n    \nmodule.exports = ListView\n\n","import tc from 'teacup'\n\n#export default (size='5x') ->\n#  return tc.renderable\nexport default tc.renderable (size='5x') ->\n  tc.span \".fa-stack.fa-#{size}\", ->\n    tc.i \".fa.fa-image.fa-stack-1x\"\n    tc.i \".fa.fa-ban.fa-stack-2x.text-danger\"\n    \n","/*!\n * imagesLoaded v4.1.4\n * JavaScript is all like \"You images are done yet or what?\"\n * MIT License\n */\n\n( function( window, factory ) { 'use strict';\n  // universal module definition\n\n  /*global define: false, module: false, require: false */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'ev-emitter/ev-emitter'\n    ], function( EvEmitter ) {\n      return factory( window, EvEmitter );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter')\n    );\n  } else {\n    // browser global\n    window.imagesLoaded = factory(\n      window,\n      window.EvEmitter\n    );\n  }\n\n})( typeof window !== 'undefined' ? window : this,\n\n// --------------------------  factory -------------------------- //\n\nfunction factory( window, EvEmitter ) {\n\n'use strict';\n\nvar $ = window.jQuery;\nvar console = window.console;\n\n// -------------------------- helpers -------------------------- //\n\n// extend objects\nfunction extend( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n}\n\nvar arraySlice = Array.prototype.slice;\n\n// turn element or nodeList into an array\nfunction makeArray( obj ) {\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    return obj;\n  }\n\n  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  if ( isArrayLike ) {\n    // convert nodeList to array\n    return arraySlice.call( obj );\n  }\n\n  // array of single index\n  return [ obj ];\n}\n\n// -------------------------- imagesLoaded -------------------------- //\n\n/**\n * @param {Array, Element, NodeList, String} elem\n * @param {Object or Function} options - if function, use as callback\n * @param {Function} onAlways - callback function\n */\nfunction ImagesLoaded( elem, options, onAlways ) {\n  // coerce ImagesLoaded() without new, to be new ImagesLoaded()\n  if ( !( this instanceof ImagesLoaded ) ) {\n    return new ImagesLoaded( elem, options, onAlways );\n  }\n  // use elem as selector string\n  var queryElem = elem;\n  if ( typeof elem == 'string' ) {\n    queryElem = document.querySelectorAll( elem );\n  }\n  // bail if bad element\n  if ( !queryElem ) {\n    console.error( 'Bad element for imagesLoaded ' + ( queryElem || elem ) );\n    return;\n  }\n\n  this.elements = makeArray( queryElem );\n  this.options = extend( {}, this.options );\n  // shift arguments if no options set\n  if ( typeof options == 'function' ) {\n    onAlways = options;\n  } else {\n    extend( this.options, options );\n  }\n\n  if ( onAlways ) {\n    this.on( 'always', onAlways );\n  }\n\n  this.getImages();\n\n  if ( $ ) {\n    // add jQuery Deferred object\n    this.jqDeferred = new $.Deferred();\n  }\n\n  // HACK check async to allow time to bind listeners\n  setTimeout( this.check.bind( this ) );\n}\n\nImagesLoaded.prototype = Object.create( EvEmitter.prototype );\n\nImagesLoaded.prototype.options = {};\n\nImagesLoaded.prototype.getImages = function() {\n  this.images = [];\n\n  // filter & find items if we have an item selector\n  this.elements.forEach( this.addElementImages, this );\n};\n\n/**\n * @param {Node} element\n */\nImagesLoaded.prototype.addElementImages = function( elem ) {\n  // filter siblings\n  if ( elem.nodeName == 'IMG' ) {\n    this.addImage( elem );\n  }\n  // get background image on element\n  if ( this.options.background === true ) {\n    this.addElementBackgroundImages( elem );\n  }\n\n  // find children\n  // no non-element nodes, #143\n  var nodeType = elem.nodeType;\n  if ( !nodeType || !elementNodeTypes[ nodeType ] ) {\n    return;\n  }\n  var childImgs = elem.querySelectorAll('img');\n  // concat childElems to filterFound array\n  for ( var i=0; i < childImgs.length; i++ ) {\n    var img = childImgs[i];\n    this.addImage( img );\n  }\n\n  // get child background images\n  if ( typeof this.options.background == 'string' ) {\n    var children = elem.querySelectorAll( this.options.background );\n    for ( i=0; i < children.length; i++ ) {\n      var child = children[i];\n      this.addElementBackgroundImages( child );\n    }\n  }\n};\n\nvar elementNodeTypes = {\n  1: true,\n  9: true,\n  11: true\n};\n\nImagesLoaded.prototype.addElementBackgroundImages = function( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    // Firefox returns null if in a hidden iframe https://bugzil.la/548397\n    return;\n  }\n  // get url inside url(\"...\")\n  var reURL = /url\\((['\"])?(.*?)\\1\\)/gi;\n  var matches = reURL.exec( style.backgroundImage );\n  while ( matches !== null ) {\n    var url = matches && matches[2];\n    if ( url ) {\n      this.addBackground( url, elem );\n    }\n    matches = reURL.exec( style.backgroundImage );\n  }\n};\n\n/**\n * @param {Image} img\n */\nImagesLoaded.prototype.addImage = function( img ) {\n  var loadingImage = new LoadingImage( img );\n  this.images.push( loadingImage );\n};\n\nImagesLoaded.prototype.addBackground = function( url, elem ) {\n  var background = new Background( url, elem );\n  this.images.push( background );\n};\n\nImagesLoaded.prototype.check = function() {\n  var _this = this;\n  this.progressedCount = 0;\n  this.hasAnyBroken = false;\n  // complete if no images\n  if ( !this.images.length ) {\n    this.complete();\n    return;\n  }\n\n  function onProgress( image, elem, message ) {\n    // HACK - Chrome triggers event before object properties have changed. #83\n    setTimeout( function() {\n      _this.progress( image, elem, message );\n    });\n  }\n\n  this.images.forEach( function( loadingImage ) {\n    loadingImage.once( 'progress', onProgress );\n    loadingImage.check();\n  });\n};\n\nImagesLoaded.prototype.progress = function( image, elem, message ) {\n  this.progressedCount++;\n  this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded;\n  // progress event\n  this.emitEvent( 'progress', [ this, image, elem ] );\n  if ( this.jqDeferred && this.jqDeferred.notify ) {\n    this.jqDeferred.notify( this, image );\n  }\n  // check if completed\n  if ( this.progressedCount == this.images.length ) {\n    this.complete();\n  }\n\n  if ( this.options.debug && console ) {\n    console.log( 'progress: ' + message, image, elem );\n  }\n};\n\nImagesLoaded.prototype.complete = function() {\n  var eventName = this.hasAnyBroken ? 'fail' : 'done';\n  this.isComplete = true;\n  this.emitEvent( eventName, [ this ] );\n  this.emitEvent( 'always', [ this ] );\n  if ( this.jqDeferred ) {\n    var jqMethod = this.hasAnyBroken ? 'reject' : 'resolve';\n    this.jqDeferred[ jqMethod ]( this );\n  }\n};\n\n// --------------------------  -------------------------- //\n\nfunction LoadingImage( img ) {\n  this.img = img;\n}\n\nLoadingImage.prototype = Object.create( EvEmitter.prototype );\n\nLoadingImage.prototype.check = function() {\n  // If complete is true and browser supports natural sizes,\n  // try to check for image status manually.\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    // report based on naturalWidth\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    return;\n  }\n\n  // If none of the checks above matched, simulate loading on detached element.\n  this.proxyImage = new Image();\n  this.proxyImage.addEventListener( 'load', this );\n  this.proxyImage.addEventListener( 'error', this );\n  // bind to image as well for Firefox. #191\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.proxyImage.src = this.img.src;\n};\n\nLoadingImage.prototype.getIsImageComplete = function() {\n  // check for non-zero, non-undefined naturalWidth\n  // fixes Safari+InfiniteScroll+Masonry bug infinite-scroll#671\n  return this.img.complete && this.img.naturalWidth;\n};\n\nLoadingImage.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.img, message ] );\n};\n\n// ----- events ----- //\n\n// trigger specified handler for event type\nLoadingImage.prototype.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\nLoadingImage.prototype.onload = function() {\n  this.confirm( true, 'onload' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.onerror = function() {\n  this.confirm( false, 'onerror' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.unbindEvents = function() {\n  this.proxyImage.removeEventListener( 'load', this );\n  this.proxyImage.removeEventListener( 'error', this );\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\n// -------------------------- Background -------------------------- //\n\nfunction Background( url, element ) {\n  this.url = url;\n  this.element = element;\n  this.img = new Image();\n}\n\n// inherit LoadingImage prototype\nBackground.prototype = Object.create( LoadingImage.prototype );\n\nBackground.prototype.check = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.img.src = this.url;\n  // check if image is already complete\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    this.unbindEvents();\n  }\n};\n\nBackground.prototype.unbindEvents = function() {\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\nBackground.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.element, message ] );\n};\n\n// -------------------------- jQuery -------------------------- //\n\nImagesLoaded.makeJQueryPlugin = function( jQuery ) {\n  jQuery = jQuery || window.jQuery;\n  if ( !jQuery ) {\n    return;\n  }\n  // set local variable\n  $ = jQuery;\n  // $().imagesLoaded()\n  $.fn.imagesLoaded = function( options, callback ) {\n    var instance = new ImagesLoaded( this, options, callback );\n    return instance.jqDeferred.promise( $(this) );\n  };\n};\n// try making plugin\nImagesLoaded.makeJQueryPlugin();\n\n// --------------------------  -------------------------- //\n\nreturn ImagesLoaded;\n\n});\n","import $ from 'jquery'\nimport Backbone from 'backbone'\nimport Marionette from 'backbone.marionette'\nimport tc from 'teacup'\n\nMainChannel = Backbone.Radio.channel 'global'\nMessageChannel = Backbone.Radio.channel 'messages'\n\n# this needs to be contained in a 'nav' region\nexport default class PaginationView extends Marionette.View\n  tagName: 'ul'\n  className: 'pagination'\n  template: tc.renderable (model) ->\n    if model instanceof Backbone.Collection\n      state = model.state\n    else\n      state = model.collection.state\n    totalPages = state.totalPages\n    firstPage = state.firstPage\n    lastPage = state.lastPage\n    tc.li '.page-item', ->\n      tc.a '.prev.page-link.bg-body-d5', ->\n        tc.i '.fa.fa-arrow-left'\n    for p in [firstPage..lastPage]\n      tc.li '.page-item', ->\n        tc.a '.numbered-page.page-link.bg-body-d5.text-dark',\n        href:'#', data: pageNumber: p, p\n    tc.li '.page-item', ->\n      tc.a '.next.page-link.bg-body-d5', ->\n        tc.i '.fa.fa-arrow-right'\n  templateContext: ->\n    collection: @collection\n  ui:\n    numberedPage: '.numbered-page'\n    prevButton: '.prev'\n    nextButton: '.next'\n  events:\n    'click @ui.numberedPage': 'turnPage'\n    'click @ui.prevButton': 'getPreviousPage'\n    'click @ui.nextButton': 'getNextPage'\n  onDomRefresh: ->\n    @updateNavButtons()\n  turnPage: (event) ->\n    event.preventDefault()\n    el = $(event.target)\n    pageNumber = el.attr 'data-pagenumber'\n    @collection.getPage Number pageNumber\n    @updateNavButtons()\n\n  updateNavButtons: ->\n    state = @collection.state\n    prevItem = @ui.prevButton.parent()\n    if state.currentPage == state.firstPage\n      unless prevItem.hasClass 'disabled'\n        prevItem.addClass 'disabled'\n    else\n      if prevItem.hasClass 'disabled'\n        prevItem.removeClass 'disabled'\n    nextItem = @ui.nextButton.parent()\n    if state.currentPage == state.lastPage\n      unless nextItem.hasClass 'disabled'\n        nextItem.addClass 'disabled'\n    else\n      if nextItem.addClass 'disabled'\n        nextItem.removeClass 'disabled'\n    @ui.numberedPage.parent().removeClass 'active'\n    @ui.numberedPage.removeClass 'text-white'\n    @ui.numberedPage.addClass 'text-dark'\n    cp = $(\"[data-pagenumber=\\\"#{state.currentPage}\\\"]\")\n    cpp = cp.parent()\n    cpp.addClass 'active'\n    cp.removeClass 'text-dark'\n    cp.addClass 'text-white'\n\n  getAnotherPage: (direction) ->\n    state = @collection.state\n    onLastPage = state.currentPage == state.lastPage\n    # we need this in case the pages start at zero\n    onFirstPage = state.currentPage == state.firstPage\n    if direction is 'prev' and not onFirstPage\n      if state.currentPage != state.firstPage\n        resp = @collection.getPreviousPage()\n    else if direction is 'next' and not onLastPage\n      resp = @collection.getNextPage()\n    else if onLastPage\n      return\n    else\n      throw new Error \"bad direction '#{direction}'\"\n    @updateNavButtons()\n    return resp\n    \n  getPreviousPage: ->\n    return @getAnotherPage 'prev'\n      \n  getNextPage: ->\n    return @getAnotherPage 'next'\n      \n  onRender: ->\n    setKeyHandler = @getOption 'setKeyHandler'\n    if setKeyHandler\n      @onRenderHandleKeys()\n      \n  onBeforeDestroy: ->\n    setKeyHandler = @getOption 'setKeyHandler'\n    if setKeyHandler\n      @onBeforeDestroyHandleKeys()\n    \n  keycommands:\n    prev: 37\n    next: 39\n  handleKeyCommand: (command) ->\n    if command in ['prev', 'next']\n      @getAnotherPage command\n  keydownHandler: (event) =>\n    for key, value of @keycommands\n      if event.keyCode == value\n        @handleKeyCommand key\n\n  onRenderHandleKeys: ->\n    $(\"html\").keydown @keydownHandler\n\n  onBeforeDestroyHandleKeys: ->\n    $(\"html\").unbind 'keydown', @keydownHandler\n    \n","import Backbone from 'backbone'\nimport Marionette from 'backbone.marionette'\nimport tc from 'teacup'\n\nMessageChannel = Backbone.Radio.channel 'messages'\n\nConfirmDeleteTemplate = tc.renderable (model) ->\n  tc.div '.modal-content', ->\n    tc.div '.modal-header', ->\n      tc.h3 '.modal-title', ->\n        tc.text \"Do you really want to delete #{model.content.name}?\"\n        tc.img src:model.content.image.medium\n      tc.button '.close', type:'button', data:{dismiss:'modal'}, ->\n        tc.span \"aria-hidden\":\"true\", ->\n          tc.raw '&times'\n    tc.div '.modal-body', ->\n      tc.div '#selected-children'\n    tc.div '.modal-footer', ->\n      tc.button '.confirm-delete.btn.btn-primary',\n      type:'button', data:{dismiss:'modal'}, ->\n        tc.i '.fa.fa-check'\n        tc.text \"OK\"\n      tc.button '.cancel-delete.btn.btn-danger',\n      type:'button', data:{dismiss:'modal'}, ->\n        tc.i '.fa.fa-close'\n        tc.text \"Cancel\"\n\nexport default class ConfirmDeleteModal extends Marionette.View\n  template: ConfirmDeleteTemplate\n  className: 'modal-dialog'\n  ui:\n    confirmDelete: '.confirm-delete'\n    cancelButton: '.cancel-delete'\n    \n  events: ->\n    'click @ui.confirmDelete': 'confirmDelete'\n\n  confirmDelete: ->\n    name = @model.get 'name'\n    response = @model.destroy()\n    response.done ->\n      MessageChannel.request 'success', \"#{name} deleted.\",\n    response.fail ->\n      MessageChannel.request 'danger', \"#{name} NOT deleted.\"\n      \n","tc = require 'teacup'\nmarked = require 'marked'\n\nnoImage = require('tbirds/templates/no-image-span').default\n\ndivStyle = 'width:20%;border-style:solid;border-width:3px'\ncardClasses = 'col-md-3.bg-body-d5'\n\nitemTemplate = tc.renderable (model) ->\n  divStyle = model.divStyle or divStyle\n  cardClasses = model.cardClasses or cardClasses\n  viewLink = \"#tvmaze/view/show/#{model.id}\"\n  itemBtn = '.btn.btn-sm'\n  tc.div \".show-item.card.#{cardClasses}\", style:divStyle, ->\n    tc.div '.card-header', ->\n      tc.strong '.card-title', model?.content?.name\n    tc.div '.card-block', ->\n      tc.a href:viewLink, ->\n        img = model.content?.image?.medium\n        if img\n          tc.img '.card-img-bottom',\n          src:model.content?.image?.medium,\n          #style:'width:50%;height:50%'\n        else\n          noImage '4x'\n\nmodule.exports = itemTemplate\n\n\n","import Backbone from 'backbone'\nimport Marionette from 'backbone.marionette'\nimport Masonry from 'masonry-layout'\nimport imagesLoaded from 'imagesloaded'\n\nclass HasMasonryView extends Marionette.Behavior\n  options:\n    listContainer: '.list-container'\n    hasPageableCollection: false\n    masonryOptions:\n      gutter: 1\n      isInitLayout: false\n      itemSelector: '.item'\n      columnWidth: 10\n      horizontalOrder: true\n  ui: ->\n    list: @getOption 'listContainer'\n  regions:\n    list: '@ui.list'\n    \n  setMasonry: ->\n    container = @getOption 'listContainer'\n    masonryOptions = @getOption 'masonryOptions'\n    @view.masonry = new Masonry container, masonryOptions\n    \n  setMasonryLayout: ->\n    masonryOptions = @getOption 'masonryOptions'\n    items = @$ masonryOptions.itemSelector\n    imagesLoaded items, =>\n      # FIXME we need to find a better option\n      setTimeout =>\n        @view.masonry.reloadItems()\n        @view.masonry.layout()\n      , 700\n      \n  onBeforeDestroy: ->\n    @view.masonry.destroy()\n    \n  onDomRefresh: () ->\n    @setMasonry()\n    @setMasonryLayout()\n    if @view?.afterDomRefresh\n      @view.afterDomRefresh()\n    \n  collectionEvents: ->\n    data = {}\n    if @getOption 'hasPageableCollection'\n      data['pageable:state:change'] = 'setMasonryLayout'\n    return data\n    \nexport default HasMasonryView\n"],"sourceRoot":""}