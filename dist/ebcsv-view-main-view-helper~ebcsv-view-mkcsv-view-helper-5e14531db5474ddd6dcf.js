/*! For license information please see ebcsv-view-main-view-helper~ebcsv-view-mkcsv-view-helper-5e14531db5474ddd6dcf.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{155:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s,u,l,c,p,f,d,h,m,g,_,v,b,y;s=n(5),l=n(1),_=n(2),n(93),y=n(4),n(19);var w=n(85);w.make_field_input,w.make_field_select;var k=n(97);b=k.modal_close_button,m=n(314),d=n(156),g=l.Radio.channel("global"),v=l.Radio.channel("messages"),u=l.Radio.channel("ebcsv"),c=g.request("main:app:BaseModalView"),h=function(){var e=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),t}(c);return e.prototype.template=y.renderable((function(e){return e.mainsection,y.div(".modal-dialog.modal-lg",(function(){return y.div(".modal-content",(function(){return y.div(".modal-body",(function(){var t;return t=e.src.replace("http://","//"),y.iframe({style:"width:97%;height:75vh;",src:t})})),y.div(".modal-footer",(function(){return y.ul(".list-inline",(function(){return"btn.btn-default.btn-sm",y.li("#close-modal",(function(){return b("Close","check")}))}))}))}))}))})),e}.call(void 0),f=function(){var e=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"onDomRefresh",value:function(){return this.trigger("show:image")}}]),t}(_.View);return e.prototype.template=y.renderable((function(e){var t;return t=(t=e.image_src.replace("/lg/","/sm/")).replace("http://","//"),y.img({src:t})})),e.prototype.ui={image:"img"},e.prototype.triggers={"click @ui.image":"show:image:modal"},e.prototype.behaviors=[d],e}.call(void 0),p=function(){var e=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._parse_html=e._parse_html.bind(e),e}return a(t,e),o(t,[{key:"mouse_enter_item",value:function(e){return this.ui.info_btn.show()}},{key:"mouse_leave_item",value:function(e){return this.ui.info_btn.hide()}},{key:"show_comic_json",value:function(e){var t;if("A"!==e.target.tagName)return t=new m({model:this.model}),g.request("show-modal",t)}},{key:"show_comic_page",value:function(e){var t,n;if(e.preventDefault(),"A"===(t=e.target).tagName)return n=new h({model:new l.Model({src:t.href})}),g.request("show-modal",n)}},{key:"_handleComicImage",value:function(e){var t,n,o,i=this;t=u.request("get-comic-url-model"),(o=(n=new t({url:e})).fetch({data:{url:e}})).then((function(t){return n.get("image_src")?i._show_comic_image(n,!1):i._get_comic_data(e,i._parse_html)})),o.fail((function(){return i._get_comic_data(e,i._parse_html)}))}},{key:"_handleLocalUrls",value:function(e){var t,n;return(n=u.request("get-comic-image-urls"))[e]?(t=new l.Model({image_src:n[e],url:e}),this._show_comic_image(t,!1)):e?this._get_comic_data(e,this._parse_html):void 0}},{key:"onDomRefresh",value:function(){var e;return this.ui.info_btn.hide(),e=this.model.get("links").link.url,this._handleComicImage(e)}},{key:"_get_comic_data",value:function(e,t){var n;return console.log("_get_comic_data",e),new URL(e),(n=l.ajax({type:"GET",dataType:"html",url:"//cors-anywhere.herokuapp.com/"+e})).done((function(){return t(e,n.responseText)})),n.fail((function(){return v.request("warning","Couldn't get the info")}))}},{key:"_parse_html",value:function(e,n){var o,i,r,a,l,c,p,f,d=this;for(function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")}(this,t),p=[],a=0,c=(i=s.parseHTML(n)).length;a<c;a++)"LINK"===(r=i[a]).tagName&&"image_src"===r.rel&&p.push(r);return p.length>1&&v.request("warning","Too many links for this comic."),l=p[0].href,o=u.request("get-comic-url-model"),(f=new o({url:e,image_src:l})).save().done((function(){return d._show_comic_image(f,!1)}))}},{key:"_set_local_images_url",value:function(e){return e.get("url"),e.get("image_src")}},{key:"_show_comic_image",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n&&this._set_local_images_url(e),t=new f({model:e}),this.showChildView("image",t)}},{key:"show_comic",value:function(){var e,t,n,o,i=this;return t=this.model.get("links"),o=t.link.url,new URL(o),(n=(e=u.request("clzpage-collection")).fetch({data:{where:{url:o}}})).fail((function(){return"There was a problem talking to the server",v.request("warning","There was a problem talking to the server")})),n.done((function(){if(e.length>1&&v.request("warning",o+" is not unique!"),!e.length)return i._get_comic_data(o,i._add_comic_to_db)}))}},{key:"get_comic_data",value:function(e){var t,n,o=this;return t=new URL(e),(n=l.ajax({type:"GET",dataType:"html",url:"/clzcore"+t.pathname})).done((function(){var e;return e=new _.View({template:n.responseText}),o.showChildView("info",e)})),n.fail((function(){return v.request("warning","Couldn't get the info")}))}}]),t}(_.View);return e.prototype.template=y.renderable((function(e){var t;return t=e.mainsection,y.div(".item.listview-list-entry.thumbnail.col-md-2",(function(){return y.div(".comic-image",(function(){return y.i(".fa.fa-spinner.fa-spin"),y.text("loading")})),y.div(".caption",(function(){var n,o;return y.span((function(){return y.i(".info-button.fa.fa-info.fa-pull-left.btn.btn-default.btn-sm"),y.h5({style:"text-overflow: ellipsis;"},t.series.displayname+" #"+e.issue)})),n=(n=(null!=t?t.title:void 0)||(null!=e&&null!=(o=e.edition)?o.displayname:void 0))||y.strong("UNTITLED"),y.a(".clz-link",{href:""+e.links.link.url,target:"_blank"},n)}))}))})),e.prototype.ui={info_btn:".info-button",clz_link:".clz-link",item:".item",image:".comic-image"},e.prototype.regions={image:"@ui.image"},e.prototype.events={"click @ui.info_btn":"show_comic_json","click @ui.clz_link":"show_comic_page","mouseenter @ui.item":"mouse_enter_item","mouseleave @ui.item":"mouse_leave_item"},e.prototype.childViewTriggers={"show:image":"show:image"},e}.call(void 0),e.exports=p},156:function(e,t,n){"use strict";var o,i,r,a,s,u,l,c,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o=n(1),u=n(2),c=n(4);var m=n(85);m.make_field_input,m.make_field_select;var g=n(97);l=g.modal_close_button,s=o.Radio.channel("global"),o.Radio.channel("messages"),o.Radio.channel("ebcsv"),i=s.request("main:app:BaseModalView"),a=function(){var e=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),t}(i);return e.prototype.template=c.renderable((function(e){return e.mainsection,c.div(".modal-dialog",(function(){return c.div(".modal-content",(function(){return c.div(".modal-body",(function(){return c.img({src:e.image_src})})),c.div(".modal-footer",(function(){return c.ul(".list-inline",(function(){return"btn.btn-default.btn-sm",c.li("#close-modal",(function(){return l("Close","check")}))}))}))}))}))})),e}.call(void 0),r=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),p(t,[{key:"onShowImageModal",value:function(){var e;return e=new a({model:this.view.model}),s.request("show-modal",e)}}]),t}(u.Behavior),e.exports=r},157:function(e,t,n){"use strict";var o,i,r,a,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(1),i=n(2),r=n(93),a=n(94),o=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"ui",value:function(){return{list:this.getOption("listContainer")}}},{key:"setMasonry",value:function(){var e,t;return e=this.getOption("listContainer"),t=this.getOption("masonryOptions"),this.view.masonry=new r(e,t)}},{key:"setMasonryLayout",value:function(){var e,t,n=this;return t=this.getOption("masonryOptions"),e=this.$(t.itemSelector),a(e,(function(){return n.view.masonry.reloadItems(),n.view.masonry.layout()}))}},{key:"onBeforeDestroy",value:function(){return this.view.masonry.destroy()}},{key:"onDomRefresh",value:function(){var e;if(this.setMasonry(),this.setMasonryLayout(),null!=(e=this.view)?e.afterDomRefresh:void 0)return this.view.afterDomRefresh()}}]),t}(i.Behavior);return e.prototype.options={listContainer:".list-container",channel:"global",masonryOptions:{gutter:1,isInitLayout:!1,itemSelector:".item",columnWidth:10,horizontalOrder:!0}},e.prototype.regions={list:"@ui.list"},e}.call(void 0),e.exports=o},190:function(e,t,n){"use strict";var o,i,r,a,s,u,l,c,p,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(5),o=n(1),c=n(2),n(93),n(94),p=n(4),s=n(138),n(19);var g=n(85);g.make_field_input,g.make_field_select,r=n(155),l=n(157),o.Radio.channel("global"),o.Radio.channel("messages"),o.Radio.channel("ebcsv"),u=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,e),f(t,[{key:"onChildviewShowImage",value:function(e){return this.setMasonryLayout()}}]),t}(l),i=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,e),t}(c.CollectionView);return e.prototype.childView=r,e.prototype.emptyView=s,e.prototype.childViewTriggers={"show:image":"show:image"},e}.call(void 0),a=function(){var e=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,e),f(t,[{key:"ui",value:function(){return{list:this.getOption("listContainer")}}},{key:"onRender",value:function(){var e;return e=new i({collection:this.collection}),this.showChildView("list",e)}}]),t}(c.View);return e.prototype.options={listContainer:"#comiclist-container"},e.prototype.regions={list:"@ui.list"},e.prototype.behaviors={HasLateImages:{behaviorClass:u,listContainer:"#comiclist-container",masonryOptions:{gutter:1,isInitLayout:!1,itemSelector:".item",columnWidth:10,horizontalOrder:!1}}},e.prototype.template=p.renderable((function(e){return p.div("#comiclist-container")})),e}.call(void 0),e.exports=a},314:function(e,t,n){"use strict";var o,i,r,a,s,u,l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(0),o=n(1),s=n(2),l=n(4),r=n(103),n(91),n(84);var p=n(97);u=p.modal_close_button,i=n(34).default,o.Radio.channel("global"),o.Radio.channel("ebcsv"),a=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"expand_view",value:function(){return this.expanded_view?(this.json_view.collapse(!0),this.expanded_view=!1,this.ui.expand_btn.text("Expand")):(this.json_view.expand(!0),this.expanded_view=!0,this.ui.expand_btn.text("Collapse"))}},{key:"onDomRefresh",value:function(){return console.log("onDomRefresh->jsonview"),this.expanded_view=!1,this.json_view=new r(this.model.toJSON()),this.ui.body.prepend(this.json_view.dom)}}]),t}(s.View);return e.prototype.behaviors=[i],e.prototype.template=l.renderable((function(e){var t;return t=e.mainsection,l.div(".modal-dialog",(function(){return l.div(".modal-content",(function(){return l.h3(t.series.displayname+" #"+t.issue),l.div(".modal-body",(function(){return l.div(".expand-button.btn.btn-default","Expand"),l.div(".panel")})),l.div(".modal-footer",(function(){return l.ul(".list-inline",(function(){return"btn.btn-default.btn-sm",l.li("#close-modal",(function(){return u("Close","check")}))}))}))}))}))})),e.prototype.ui={body:".panel",expand_btn:".expand-button",close_btn:"#close-modal div"},e.prototype.events={"click @ui.expand_btn":"expand_view"},e}.call(void 0),e.exports=a},85:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.name_content_form=t.login_form=t.make_login_form=t.make_field_select=t.make_field_textarea=t.make_field_input=t.form_group_input_div=void 0;var o,i,r,a,s,u,l,c=f(n(4)),p=f(n(86));function f(e){return e&&e.__esModule?e:{default:e}}t.form_group_input_div=o=c.default.renderable((function(e){return c.default.div(".form-group",(function(){var t,n,o;return c.default.label(".control-label",{for:e.input_id},e.label),o="#"+e.input_id+".form-control",t=e.input_attributes,n=c.default.input,(null!=e?e.input_type:void 0)?(n=c.default[e.input_type])(o,t,(function(){return c.default.text(null!=e?e.content:void 0)})):n(o,t),c.default.div(".invalid-feedback")}))})),t.make_field_input=r=function(e){return c.default.renderable((function(t){return o({input_id:"input_"+e,label:(0,p.default)(e),input_attributes:{name:e,placeholder:e,value:t[e],data:{validation:e}}})}))},t.make_field_textarea=s=function(e){return c.default.renderable((function(t){return o({input_id:"input_"+e,input_type:"textarea",label:(0,p.default)(e),input_attributes:{name:e,placeholder:e,data:{validation:e}},content:t[e]})}))},t.make_field_select=a=function(e,t){return c.default.renderable((function(n){return c.default.div(".form-group",(function(){return c.default.label(".control-label",{for:"select_"+e}),(0,p.default)(e)})),c.default.select(".form-control",{name:"select_"+e},(function(){var o,i,r,a;for(a=[],o=0,i=t.length;o<i;o++)r=t[o],n[e]===r?a.push(c.default.option({selected:null,value:r},r)):a.push(c.default.option({value:r},r));return a}))}))},t.make_login_form=u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/login",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST";return c.default.renderable((function(n){return c.default.form({role:"form",method:t,action:e},(function(){return o({input_id:"input_username",label:"User Name",input_attributes:{name:"username",placeholder:"User Name"}}),o({input_id:"input_password",label:"Password",input_attributes:{name:"password",type:"password",placeholder:"Type your password here...."}}),c.default.button(".btn.btn-secondary",{type:"submit"},"login")}))}))},t.login_form=i=u(),t.name_content_form=l=c.default.renderable((function(e){return o({input_id:"input_name",label:"Name",input_attributes:{name:"name",placeholder:"Name"}}),o({input_id:"input_content",input_type:c.default.textarea,label:"Content",input_attributes:{name:"content",placeholder:"..."}}),c.default.input(".btn.btn-secondary.btn-sm",{type:"submit",value:"Add"})})),t.form_group_input_div=o,t.make_field_input=r,t.make_field_textarea=s,t.make_field_select=a,t.make_login_form=u,t.login_form=i,t.name_content_form=l},91:function(e,t,n){var o=n(92);"string"==typeof o&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};n(88)(o,i);o.locals&&(e.exports=o.locals)},92:function(e,t,n){(e.exports=n(87)(!1)).push([e.i,'.jsonView{\n    margin-left: 20px;\n    font-family: Consolas, "Lucida Console", Menlo, "dejavu sans mono", monospace;\n    font-size: 16px;\n    line-height: 16px;\n    padding: 2px;\n    cursor: default;\n    color: rgb(66, 66, 66);\n    white-space: nowrap;\n    -webkit-user-select: none;\n}\n\n.jsonView>div{\n    display: inline-block;\n}\n\n.jsonView>.children, .jsonView.insert{\n    display: block;\n}\n\n.jsonView>.name{\n    color: rgb(136, 19, 145);\n}\n\n.jsonView>.separator:before{\n    content: ":";\n}\n\n.jsonView>.separator {\n    padding-right: 5px;\n}\n\n.jsonView>.value.null{\n    color: rgb(128, 128, 128);\n}\n\n.jsonView>.value.boolean, .jsonView>.value.number{\n    color: rgb(28, 0, 207);\n}\n\n.jsonView>.value.string:not(.edit):before, .jsonView>.value.string:not(.edit):after{\n    content: "\\"";\n}\n\n.jsonView>.value.string {\n    color: rgb(196, 26, 22);\n}\n\n.jsonView>.name:hover, .jsonView>.value:hover{\n    background-color: rgba(56, 121, 217, 0.1);\n}\n\n.jsonView>.jv-expand, .jsonView>.jv-collapse{\n    min-width: 20px;\n    margin-left: -20px;\n    cursor: pointer;\n}\n\n.jsonView>.jv-expand:before{\n    content: \'\\25B6\';\n}\n\n.jsonView>.jv-collapse:before{\n    content: \'\\25BC\';\n}\n\n.jsonView>.edit{\n    padding: 0px 5px 0px 5px;\n    white-space: nowrap;\n    overflow: hidden;\n    background-color: transparent;\n}\n\n.jsonView>.edit br{\n    display: none;\n}\n\n.jsonView>.edit *{\n    display: inline;\n    white-space: nowrap;\n}\n\n.jsonView>.value.edit{\n    color: rgb(0, 0, 0);\n}\n\n.jsonView>.delete:before{\n    content: \'X\';\n}\n\n.jsonView>.delete{\n    opacity: 0;\n    display: inline;\n    padding: 3px;\n    margin-left: 20px;\n    cursor: pointer;\n    color: rgb(150, 150, 150);\n}\n\n.jsonView>.delete:hover{\n    opacity: 1;\n    color: rgb(0, 0, 0);\n    background: rgb(220, 220, 220);\n}\n\n.jsonView>.insert:before{\n    content: \'+\';\n}\n\n.jsonView>.insert{\n    display: none;\n    color: rgb(150, 150, 150);\n    cursor: pointer;\n}\n\n.jsonView.jv-expanded>.insert, .jsonView.jv-expanded>.insert{\n    display: inline-block;\n    margin-left: 20px;\n    padding: 3px;\n}\n\n.jsonView>.insert:hover{\n    color: rgb(0, 0, 0);\n    background: rgb(220, 220, 220);\n}\n',""])},94:function(e,t,n){var o,i;!function(r,a){"use strict";o=[n(113)],void 0===(i=function(e){return function(e,t){var n=e.jQuery,o=e.console;function i(e,t){for(var n in t)e[n]=t[n];return e}var r=Array.prototype.slice;function a(e,t,s){if(!(this instanceof a))return new a(e,t,s);var u,l=e;("string"==typeof e&&(l=document.querySelectorAll(e)),l)?(this.elements=(u=l,Array.isArray(u)?u:"object"==typeof u&&"number"==typeof u.length?r.call(u):[u]),this.options=i({},this.options),"function"==typeof t?s=t:i(this.options,t),s&&this.on("always",s),this.getImages(),n&&(this.jqDeferred=new n.Deferred),setTimeout(this.check.bind(this))):o.error("Bad element for imagesLoaded "+(l||e))}a.prototype=Object.create(t.prototype),a.prototype.options={},a.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},a.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&s[t]){for(var n=e.querySelectorAll("img"),o=0;o<n.length;o++){var i=n[o];this.addImage(i)}if("string"==typeof this.options.background){var r=e.querySelectorAll(this.options.background);for(o=0;o<r.length;o++){var a=r[o];this.addElementBackgroundImages(a)}}}};var s={1:!0,9:!0,11:!0};function u(e){this.img=e}function l(e,t){this.url=e,this.element=t,this.img=new Image}return a.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,o=n.exec(t.backgroundImage);null!==o;){var i=o&&o[2];i&&this.addBackground(i,e),o=n.exec(t.backgroundImage)}},a.prototype.addImage=function(e){var t=new u(e);this.images.push(t)},a.prototype.addBackground=function(e,t){var n=new l(e,t);this.images.push(n)},a.prototype.check=function(){var e=this;function t(t,n,o){setTimeout((function(){e.progress(t,n,o)}))}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach((function(e){e.once("progress",t),e.check()})):this.complete()},a.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&o&&o.log("progress: "+n,e,t)},a.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},u.prototype=Object.create(t.prototype),u.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},u.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},u.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},u.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},u.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},u.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},u.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},l.prototype=Object.create(u.prototype),l.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},l.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},l.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},a.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((n=t).fn.imagesLoaded=function(e,t){return new a(this,e,t).jqDeferred.promise(n(this))})},a.makeJQueryPlugin(),a}(r,e)}.apply(t,o))||(e.exports=i)}("undefined"!=typeof window?window:this)},97:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dropdown_toggle=t.navbar_collapse_button=t.modal_close_button=t.divbutton=t.spanbutton=void 0;var o,i,r,a,s,u,l=n(4),c=(o=l)&&o.__esModule?o:{default:o};t.spanbutton=u=c.default.component((function(e,t,n){return c.default.span(e+".btn.btn-secondary.btn-sm",n)})),t.divbutton=i=c.default.component((function(e,t,n){return c.default.div(e+".btn.btn-secondary.btn-sm",n)})),t.modal_close_button=a=c.default.renderable((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Close",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"close";return c.default.div(".btn.btn-secondary.btn-sm",{"data-dismiss":"modal"},(function(){return c.default.h4(".modal-title",(function(){return c.default.i(".fa.fa-"+t),c.default.text(e)}))}))})),t.navbar_collapse_button=s=c.default.renderable((function(e){return c.default.button(".navbar-toggle",{type:"button","data-toggle":"collapse","data-target":"#"+e},(function(){return c.default.span(".sr-only","Toggle Navigation"),c.default.span(".icon-bar"),c.default.span(".icon-bar"),c.default.span(".icon-bar")}))})),t.dropdown_toggle=r=c.default.component((function(e,t,n){return c.default.a(e+".dropdown-toggle",{href:t.href,"data-toggle":"dropdown"},n)})),t.spanbutton=u,t.divbutton=i,t.modal_close_button=a,t.navbar_collapse_button=s,t.dropdown_toggle=r}}]);
//# sourceMappingURL=ebcsv-view-main-view-helper~ebcsv-view-mkcsv-view-helper-5e14531db5474ddd6dcf.js.map