{"version":3,"sources":["webpack:///./src/applets/ebcsv/views/mkcsv.coffee"],"names":["AppChannel","Backbone","ComicListView","ComicsView","csv_action_select","csv_cfg_select","csv_dsc_select","form_group_input_div","make_field_input","make_field_select","navigate_to_url","tc","__webpack_require__","Radio","channel","renderable","div","label","for","select","name","action","i","len","ref","results","length","option","selected","value","collection","m","options","models","get","id","Marionette","View","[object Object]","this","ebcfg_collection","request","ebdsc_collection","cfg","dsc","ui","action_sel","val","cfg_sel","dsc_sel","view","showChildView","regions","body","template","model","text","mkcsv_btn","show_btn","events","click @ui.mkcsv_btn","click @ui.show_btn","module","exports"],"mappings":"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","file":"ebcsv-view-mkcsv-view-helper-2e429db1b53daec880e8.js","sourcesContent":["Backbone = require 'backbone'\nMarionette = require 'backbone.marionette'\nMasonry = require 'masonry-layout'\ntc = require 'teacup'\n\nnavigate_to_url = require 'tbirds/util/navigate-to-url'\n{ make_field_input\n  make_field_select } = require 'tbirds/templates/forms'\n{ form_group_input_div } = require 'tbirds/templates/forms'\n\nComicEntryView = require './comic-entry'\nComicListView = require './comic-list'\n\nMainChannel = Backbone.Radio.channel 'global'\nMessageChannel = Backbone.Radio.channel 'messages'\nAppChannel = Backbone.Radio.channel 'ebcsv'\n\n\nmkInputData = (field, label, placeholder) ->\n  input_id: \"input_#{field}\"\n  label: label\n  input_attributes:\n    name: field\n    placeholder: placeholder\n\ncsv_action_select = tc.renderable () ->\n  tc.div '.form-group', ->\n    tc.label '.control-label', for:'select_action', 'Action'\n  tc.select '.form-control', name:'select_action', ->\n    for action in ['Add', 'VerifyAdd']\n      tc.option selected:null, value:action, action\n    \ncsv_cfg_select = tc.renderable (collection) ->\n  tc.div '.form-group', ->\n    tc.label '.control-label', for:'select_cfg', 'Config'\n  tc.select '.form-control', name:'select_cfg', ->\n    for m in collection.models\n      name = m.get 'name'\n      options =\n        value:m.id\n      if name is 'default'\n        options.selected = ''\n      tc.option options, name\n    \ncsv_dsc_select = tc.renderable (collection) ->\n  tc.div '.form-group', ->\n    tc.label '.control-label', for:'select_dsc', 'Description'\n  tc.select '.form-control', name:'select_dsc', ->\n    for m in collection.models\n      name = m.get 'name'\n      options =\n        value:m.id\n      if name is 'default'\n        options.selected = ''\n      tc.option options, name\n\n\n\n########################################\nclass ComicsView extends Backbone.Marionette.View\n  templateContext: ->\n    options = @options\n    options.ebcfg_collection = AppChannel.request 'ebcfg-collection'\n    options.ebdsc_collection = AppChannel.request 'ebdsc-collection'\n    options\n  regions:\n    body: '.body'\n  template: tc.renderable (model) ->\n    tc.div '.listview-header', ->\n      tc.text \"Create CSV\"\n    tc.div '.mkcsv-form', ->\n      csv_action_select()\n      csv_cfg_select model.ebcfg_collection\n      csv_dsc_select model.ebdsc_collection\n    tc.div '.mkcsv-button.btn.btn-default', \"Preview CSV Data\"\n    tc.div '.show-comics-button.btn.btn-default', \"Show Comics\"\n    tc.div '.body'\n  ui:\n    mkcsv_btn: '.mkcsv-button'\n    show_btn: '.show-comics-button'\n    action_sel: 'select[name=\"select_action\"]'\n    cfg_sel: 'select[name=\"select_cfg\"]'\n    dsc_sel: 'select[name=\"select_dsc\"]'\n  events:\n    'click @ui.mkcsv_btn': 'make_csv'\n    'click @ui.show_btn': 'show_comics'\n\n  make_csv: ->\n    action = @ui.action_sel.val()\n    cfg = AppChannel.request 'get-ebcfg', @ui.cfg_sel.val()\n    dsc = AppChannel.request 'get-ebdsc', @ui.dsc_sel.val()\n    AppChannel.request 'set-current-csv-action', action\n    AppChannel.request 'set-current-csv-cfg', cfg\n    AppChannel.request 'set-current-csv-dsc', dsc\n    navigate_to_url '#ebcsv/csv/preview'\n    \n  show_comics: ->\n    view = new ComicListView\n      collection: @collection\n    @showChildView 'body', view\n    \nmodule.exports = ComicsView\n\n\n"],"sourceRoot":""}