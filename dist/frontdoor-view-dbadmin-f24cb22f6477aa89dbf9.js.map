{"version":3,"sources":["webpack:///./node_modules/tbirds/src/util/export-to-file.coffee","webpack:///(webpack)/buildin/amd-options.js","webpack:///./node_modules/file-saver/FileSaver.js","webpack:///./src/applets/frontdoor/views/idbview.coffee","webpack:///./node_modules/events/events.js","webpack:///(webpack)/buildin/amd-define.js"],"names":["__webpack_require__","r","__webpack_exports__","options","a","data","filename","link","encodeURIComponent","type","document","createElement","id","elId","href","download","innerHTML","style","display","body","appendChild","click","removeChild","__webpack_amd_options__","module","exports","__WEBPACK_AMD_DEFINE_RESULT__","saveAs","view","navigator","test","userAgent","get_URL","URL","webkitURL","save_link","createElementNS","can_use_save_link","is_safari","HTMLElement","safari","is_chrome_ios","throw_outside","ex","setImmediate","setTimeout","revoke","file","revokeObjectURL","remove","auto_bom","blob","Blob","String","fromCharCode","FileSaver","name","no_auto_bom","object_url","filesaver","this","force","dispatch_all","event_types","event","i","concat","length","listener","call","dispatch","split","readyState","INIT","createObjectURL","node","MouseEvent","dispatchEvent","DONE","FileReader","reader","onloadend","url","result","replace","open","location","undefined","readAsDataURL","fs_error","FS_proto","prototype","msSaveOrOpenBlob","abort","WRITING","error","onwritestart","onprogress","onwrite","onabort","onerror","onwriteend","self","window","content","Backbone","DatabaseView","ImportExportView","JView","MainChannel","MainView","Marionette","MessageChannel","importExportTemplate","tc","boundMethodCheck","instance","Constructor","Error","default","Radio","channel","renderable","model","div","h2","button","text","input","View","[object Object]","toJSON","jsonView","ui","prepend","dom","template","fileReaderOnLoad","bind","fileInput","val","importChosenButton","hide","show","preventDefault","$el","css","originalEvent","dataTransfer","files","droppedFile","fileStatus","importButton","stopPropagation","get","export","_exportDatabase","then","Model","showChildView","viewButton","JSON","stringify","request","parse","target","import","viewDatabase","onload","readAsText","exportButton","dbView","regions","events","dragover","dragenter","dragexit","drop","click @ui.viewButton","click @ui.exportButton","click @ui.importButton","click @ui.importChosenButton","click @ui.fileInput","change @ui.fileInput","app","dbConn","getState","collection","Collection","CollectionView","childView","Object","keys","forEach","key","add","conn","EventEmitter","_events","_maxListeners","isFunction","arg","isObject","isUndefined","defaultMaxListeners","setMaxListeners","n","isNaN","TypeError","emit","er","handler","len","args","listeners","arguments","err","context","Array","slice","apply","addListener","m","newListener","push","warned","console","trace","on","once","fired","g","removeListener","list","position","splice","removeAllListeners","listenerCount","evlistener","emitter"],"mappings":"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","file":"frontdoor-view-dbadmin-f24cb22f6477aa89dbf9.js","sourcesContent":["#sampleOptions =\n#  data: 'bytes'\n#  filename: 'file.bin'\n#  elId: 'exported-file-anchor'\n  \n  \nexport default (options) ->\n  data = encodeURIComponent(options.data)\n  link = \"#{options.type},#{data}\"\n  filename = options.filename or \"exported\"\n  a = document.createElement 'a'\n  a.id = options.elId or 'exported-file-anchor'\n  a.href = link\n  a.download = filename\n  a.innerHTML = \"Download #{filename}\"\n  a.style.display = 'none'\n  document.body.appendChild a\n  a.click()\n  document.body.removeChild a\n  \n\n\n","/* globals __webpack_amd_options__ */\r\nmodule.exports = __webpack_amd_options__;\r\n","/* FileSaver.js\n * A saveAs() FileSaver implementation.\n * 1.3.2\n * 2016-06-16 18:25:19\n *\n * By Eli Grey, http://eligrey.com\n * License: MIT\n *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n */\n\n/*global self */\n/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\n\nvar saveAs = saveAs || (function(view) {\n\t\"use strict\";\n\t// IE <10 is explicitly unsupported\n\tif (typeof view === \"undefined\" || typeof navigator !== \"undefined\" && /MSIE [1-9]\\./.test(navigator.userAgent)) {\n\t\treturn;\n\t}\n\tvar\n\t\t  doc = view.document\n\t\t  // only get URL when necessary in case Blob.js hasn't overridden it yet\n\t\t, get_URL = function() {\n\t\t\treturn view.URL || view.webkitURL || view;\n\t\t}\n\t\t, save_link = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n\t\t, can_use_save_link = \"download\" in save_link\n\t\t, click = function(node) {\n\t\t\tvar event = new MouseEvent(\"click\");\n\t\t\tnode.dispatchEvent(event);\n\t\t}\n\t\t, is_safari = /constructor/i.test(view.HTMLElement) || view.safari\n\t\t, is_chrome_ios =/CriOS\\/[\\d]+/.test(navigator.userAgent)\n\t\t, throw_outside = function(ex) {\n\t\t\t(view.setImmediate || view.setTimeout)(function() {\n\t\t\t\tthrow ex;\n\t\t\t}, 0);\n\t\t}\n\t\t, force_saveable_type = \"application/octet-stream\"\n\t\t// the Blob API is fundamentally broken as there is no \"downloadfinished\" event to subscribe to\n\t\t, arbitrary_revoke_timeout = 1000 * 40 // in ms\n\t\t, revoke = function(file) {\n\t\t\tvar revoker = function() {\n\t\t\t\tif (typeof file === \"string\") { // file is an object URL\n\t\t\t\t\tget_URL().revokeObjectURL(file);\n\t\t\t\t} else { // file is a File\n\t\t\t\t\tfile.remove();\n\t\t\t\t}\n\t\t\t};\n\t\t\tsetTimeout(revoker, arbitrary_revoke_timeout);\n\t\t}\n\t\t, dispatch = function(filesaver, event_types, event) {\n\t\t\tevent_types = [].concat(event_types);\n\t\t\tvar i = event_types.length;\n\t\t\twhile (i--) {\n\t\t\t\tvar listener = filesaver[\"on\" + event_types[i]];\n\t\t\t\tif (typeof listener === \"function\") {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlistener.call(filesaver, event || filesaver);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\tthrow_outside(ex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t, auto_bom = function(blob) {\n\t\t\t// prepend BOM for UTF-8 XML and text/* types (including HTML)\n\t\t\t// note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n\t\t\tif (/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n\t\t\t\treturn new Blob([String.fromCharCode(0xFEFF), blob], {type: blob.type});\n\t\t\t}\n\t\t\treturn blob;\n\t\t}\n\t\t, FileSaver = function(blob, name, no_auto_bom) {\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\t// First try a.download, then web filesystem, then object URLs\n\t\t\tvar\n\t\t\t\t  filesaver = this\n\t\t\t\t, type = blob.type\n\t\t\t\t, force = type === force_saveable_type\n\t\t\t\t, object_url\n\t\t\t\t, dispatch_all = function() {\n\t\t\t\t\tdispatch(filesaver, \"writestart progress write writeend\".split(\" \"));\n\t\t\t\t}\n\t\t\t\t// on any filesys errors revert to saving with object URLs\n\t\t\t\t, fs_error = function() {\n\t\t\t\t\tif ((is_chrome_ios || (force && is_safari)) && view.FileReader) {\n\t\t\t\t\t\t// Safari doesn't allow downloading of blob urls\n\t\t\t\t\t\tvar reader = new FileReader();\n\t\t\t\t\t\treader.onloadend = function() {\n\t\t\t\t\t\t\tvar url = is_chrome_ios ? reader.result : reader.result.replace(/^data:[^;]*;/, 'data:attachment/file;');\n\t\t\t\t\t\t\tvar popup = view.open(url, '_blank');\n\t\t\t\t\t\t\tif(!popup) view.location.href = url;\n\t\t\t\t\t\t\turl=undefined; // release reference before dispatching\n\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\tdispatch_all();\n\t\t\t\t\t\t};\n\t\t\t\t\t\treader.readAsDataURL(blob);\n\t\t\t\t\t\tfilesaver.readyState = filesaver.INIT;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// don't create more object URLs than needed\n\t\t\t\t\tif (!object_url) {\n\t\t\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\t\t}\n\t\t\t\t\tif (force) {\n\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar opened = view.open(object_url, \"_blank\");\n\t\t\t\t\t\tif (!opened) {\n\t\t\t\t\t\t\t// Apple does not allow window.open, see https://developer.apple.com/library/safari/documentation/Tools/Conceptual/SafariExtensionGuide/WorkingwithWindowsandTabs/WorkingwithWindowsandTabs.html\n\t\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t}\n\t\t\t;\n\t\t\tfilesaver.readyState = filesaver.INIT;\n\n\t\t\tif (can_use_save_link) {\n\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tsave_link.href = object_url;\n\t\t\t\t\tsave_link.download = name;\n\t\t\t\t\tclick(save_link);\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfs_error();\n\t\t}\n\t\t, FS_proto = FileSaver.prototype\n\t\t, saveAs = function(blob, name, no_auto_bom) {\n\t\t\treturn new FileSaver(blob, name || blob.name || \"download\", no_auto_bom);\n\t\t}\n\t;\n\t// IE 10+ (native saveAs)\n\tif (typeof navigator !== \"undefined\" && navigator.msSaveOrOpenBlob) {\n\t\treturn function(blob, name, no_auto_bom) {\n\t\t\tname = name || blob.name || \"download\";\n\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\treturn navigator.msSaveOrOpenBlob(blob, name);\n\t\t};\n\t}\n\n\tFS_proto.abort = function(){};\n\tFS_proto.readyState = FS_proto.INIT = 0;\n\tFS_proto.WRITING = 1;\n\tFS_proto.DONE = 2;\n\n\tFS_proto.error =\n\tFS_proto.onwritestart =\n\tFS_proto.onprogress =\n\tFS_proto.onwrite =\n\tFS_proto.onabort =\n\tFS_proto.onerror =\n\tFS_proto.onwriteend =\n\t\tnull;\n\n\treturn saveAs;\n}(\n\t   typeof self !== \"undefined\" && self\n\t|| typeof window !== \"undefined\" && window\n\t|| this.content\n));\n// `self` is undefined in Firefox for Android content script context\n// while `this` is nsIContentFrameMessageManager\n// with an attribute `content` that corresponds to the window\n\nif (typeof module !== \"undefined\" && module.exports) {\n  module.exports.saveAs = saveAs;\n} else if ((typeof define !== \"undefined\" && define !== null) && (define.amd !== null)) {\n  define(\"FileSaver.js\", function() {\n    return saveAs;\n  });\n}\n","$ = require 'jquery'\nBackbone = require 'backbone'\nMarionette = require 'backbone.marionette'\ntc = require 'teacup'\nJView = require 'json-view'\nrequire 'json-view/devtools.css'\nFileSaver = require 'file-saver'\n\nexportToFile = require('tbirds/util/export-to-file').default\n\nMainChannel = Backbone.Radio.channel 'global'\nMessageChannel = Backbone.Radio.channel 'messages'\nAppChannel = Backbone.Radio.channel 'ebcsv'\n\n#class ComicListView extends Backbone.Marionette.CollectionView\n#  childView: ComicEntryView\n\nimportExportTemplate = tc.renderable (model) ->\n  tc.div '.listview-list-entry', ->\n    tc.h2 model.name\n    tc.div '.btn-group', ->\n      tc.button '.view.btn.btn-success', type:'button', 'View'\n      tc.button '.export.btn.btn-primary', type:'button', 'Export'\n      tc.button '.import.btn.btn-info', type:'button', 'Import'\n    tc.div '.dbview'\n\nimportExportTemplate = tc.renderable (model) ->\n  tc.div '.card', ->\n    tc.div '.card-header', ->\n      tc.h2 model.name\n    tc.div '.card-body', ->\n      tc.div '.file-status', ->\n        tc.text \"Drop a .json exported database to import.\"\n      tc.button '.view.btn.btn-success', type:'button', 'View'\n      tc.button '.export.btn.btn-primary', type:'button', 'Export'\n      tc.div '.import.btn.btn-info',\n      type:'button', style:'display:none', ->\n        tc.text \"Import Database\"\n      tc.input '.db-file-input.input', type:'file'\n      tc.button '.import-chosen.btn.btn-info', style:'display:none', ->\n        tc.text 'Import input file'\n      tc.div '.dbview'\n      \n\nclass DatabaseView extends Marionette.View\n  template: tc.renderable (model) ->\n    tc.div ->\n      tc.div '.body'\n  ui:\n    body: '.body'\n  onDomRefresh: ->\n    data = @model.toJSON()\n    @jsonView = new JView data\n    @ui.body.prepend @jsonView.dom\n    #@jsonView.expand true\n    \nclass ImportExportView extends Marionette.View\n  template: importExportTemplate\n  ui:\n    viewButton: '.view'\n    exportButton: '.export'\n    importButton: '.import'\n    dbView: '.dbview'\n    fileInput: '.db-file-input'\n    importChosenButton: '.import-chosen'\n    fileStatus: '.file-status'\n  regions:\n    dbView: '@ui.dbView'\n    #fileStatus: '@ui.fileStatus'\n  events:\n    'dragover': 'handleDragOver'\n    'dragenter': 'handleDragEnter'\n    'dragexit': 'handleDragExit'\n    'drop': 'handleDrop'\n    'click @ui.viewButton': 'viewDatabase'\n    'click @ui.exportButton': 'exportDatabase'\n    'click @ui.importButton': 'importDatabase'\n    'click @ui.importChosenButton': 'importChosenFile'\n    'click @ui.fileInput': 'fileInputClicked'\n    'change @ui.fileInput': 'fileInputChanged'\n\n  # https://stackoverflow.com/a/12102992\n  fileInputClicked: (event) ->\n    @ui.fileInput.val null\n    @ui.importChosenButton.hide()\n\n  fileInputChanged: (event) ->\n    @ui.importChosenButton.show()\n\n  handleDrop: (event) ->\n    event.preventDefault()\n    @$el.css 'border', '0px'\n    dt = event.originalEvent.dataTransfer\n    file = dt.files[0]\n    @droppedFile = file\n    text = \"File: #{file.name}\"\n    @ui.fileStatus.text text\n    @ui.importButton.show()\n    \n  handleDragOver: (event) ->\n    event.preventDefault()\n    event.stopPropagation()\n    \n  handleDragEnter: (event) ->\n    event.stopPropagation()\n    event.preventDefault()\n    @$el.css 'border', '2px dotted'\n  \n  handleDragExit: (event) ->\n    event.stopPropagation()\n    event.preventDefault()\n    @$el.css 'border', '0px'\n      \n  _exportDatabase: ->\n    conn = @model.get 'conn'\n    return conn.export()\n    \n  viewDatabase: ->\n    @_exportDatabase().then (data) =>\n      view = new DatabaseView\n        model: new Backbone.Model data: data\n      @showChildView 'dbView', view\n      @ui.viewButton.hide()\n      \n  exportDatabase: ->\n    p = @_exportDatabase()\n    p.then (data) =>\n      name = @model.get 'name'\n      options =\n        type: 'data:text/json;charset=utf-8'\n        data: JSON.stringify data\n        filename: \"#{name}-idb.json\"\n      #exportToFile options\n      blob = new Blob([options.data], type:options.type)\n      FileSaver.saveAs(blob, options.filename)\n      MessageChannel.request 'primary', \"Exported Database #{name}\"\n\n  fileReaderOnLoad: (event) =>\n    content = JSON.parse event.target.result\n    @ui.fileStatus.text \"Database file loaded, now importing....\"\n    conn = @model.get 'conn'\n    conn.import(content).then =>\n      @viewDatabase()\n      \n    \n  importDatabase: ->\n    MessageChannel.request 'info', \"Import Database #{@model.get 'name'}\"\n    @ui.fileStatus.text 'Reading dabase file.....'\n    reader = new FileReader()\n    reader.onload = @fileReaderOnLoad\n    reader.readAsText(@droppedFile)\n    @ui.importButton.hide()\n    \n\nclass MainView extends Backbone.Marionette.View\n  regions:\n    body: '.body'\n  template: tc.renderable (model) ->\n    tc.div '.listview-header', ->\n      tc.text \"Indexed Database Admin\"\n    tc.div '.body'\n  onRender: ->\n    app = MainChannel.request 'main:app:object'\n    dbConn = app.getState 'dbConn'\n    @collection = new Backbone.Collection\n    view = new Marionette.CollectionView\n      collection: @collection\n      childView: ImportExportView\n    @showChildView 'body', view\n    Object.keys(dbConn).forEach (key) =>\n      @collection.add\n        id: key\n        name: key\n        conn: dbConn[key]\n    \n      \nmodule.exports = MainView\n\n\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","module.exports = function() {\r\n\tthrow new Error(\"define cannot be used indirect\");\r\n};\r\n"],"sourceRoot":""}