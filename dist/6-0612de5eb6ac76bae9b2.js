(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{38:function(e,t,n){"use strict";n.r(t);var o,i,r,a,s,l=n(1),u=n.n(l),c=n(3),d=n.n(c),p=n(61),h=(n(2),n(14),n(51)),f=n(60),w=n(55),v=n(53);n(13),u.a.Radio.channel("global"),r=u.a.Radio.channel("messages"),i=u.a.Radio.channel("static-documents"),u.a.Radio.channel("resources"),o=u.a.Radio.channel("todos"),a=[],s=new u.a.Collection(a),o.reply("get-toolbar-entries",function(){return s});var g,y,b,m=function(){class e extends f.MainController{setupLayoutIfNeeded(){var e;super.setupLayoutIfNeeded(),e=new h.default({collection:s}),this.layout.showChildView("toolbar",e)}start(){this.viewIndex()}_viewResource(e){return Promise.all([n.e(2),n.e(32)]).then((()=>{var t;return t=new(n(173))({model:e}),this.layout.showChildView("content",t),Object(v.default)()}).bind(null,n)).catch(n.oe)}viewPage(e){var t,n;this.setupLayoutIfNeeded(),(n=(t=i.request("get-document",e)).fetch()).done(()=>{this._viewResource(t)}),n.fail(function(){r.request("danger","Failed to get document")})}view_index(){var e;return this.setupLayoutIfNeeded(),0^e}viewIndex(){this.viewPage("intro")}themeSwitcher(){return this.setupLayoutIfNeeded(),Promise.all([n.e(2),n.e(31)]).then((()=>{var e;return e=new(n(172)),this.layout.showChildView("content",e),Object(v.default)()}).bind(null,n)).catch(n.oe)}viewDbAdmin(){return this.setupLayoutIfNeeded(),Promise.all([n.e(11),n.e(30)]).then((()=>{var e;return e=new(n(171)),this.layout.showChildView("content",e)}).bind(null,n)).catch(n.oe)}}return e.prototype.layoutClass=w.a,e}.call(this);u.a.Radio.channel("global"),u.a.Radio.channel("frontdoor"),b=[{id:"dbadmin",label:"Db Admin",url:"#frontdoor/dbadmin",icon:".fa.fa-database"}],y=function(){class e extends d.a.AppRouter{}return e.prototype.appRoutes={"":"viewIndex",frontdoor:"viewIndex","pages/:name":"viewPage","frontdoor/dbadmin":"viewDbAdmin"},e}.call(this),g=function(){class e extends p.a{}return e.prototype.Controller=m,e.prototype.Router=y,e.prototype.appletEntries=[{label:"Main Menu",menu:b}],e}.call(this);t.default=g},51:function(e,t,n){"use strict";n.r(t);var o,i,r,a,s=n(3),l=n.n(s),u=n(2),c=n.n(u),d=n(13);a=c.a.renderable(function(e){return c.a.i(e.icon),c.a.text(" "),c.a.text(e.label)}),i=function(){class e extends l.a.View{}return e.prototype.tagName="button",e.prototype.attributes={class:"btn btn-secondary"},e.prototype.triggers={click:"button:clicked"},e.prototype.modelEvents={change:"render"},e}.call(this),o=function(){class e extends l.a.CollectionView{childViewOptions(){return{template:this.options.entryTemplate}}onChildviewButtonClicked(e){return this.trigger("toolbar:entry:clicked",e)}}return e.prototype.childView=i,e.prototype.className="btn-group btn-group-justified",e}.call(this),r=function(){class e extends l.a.View{onRender(){var e,t;return e=this.options.entryTemplate||a,t=new o({collection:this.collection,entryTemplate:e}),this.showChildView("entries",t)}onChildviewToolbarEntryClicked(e){return Object(d.default)(e.model.get("url"))}}return e.prototype.template=c.a.renderable(function(){return c.a.div(".toolbar-entries")}),e.prototype.regions={entries:{el:".toolbar-entries"}},e}.call(this),t.default=r},53:function(e,t,n){"use strict";n.r(t),t.default=function(){return window.scrollTo(0,0)}},55:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o,i,r,a,s=n(1),l=n.n(s),u=n(3),c=n.n(u),d=n(2),p=n.n(d),h=n(14),f=n.n(h),w=n(73),v=n(72);n(91);i=l.a.Radio.channel("navbar"),a=function(e=3,t="sm",n="left"){return p.a.renderable(function(){if("left"===n&&p.a.div(`#sidebar.col-${t}-${e}.left-column`),p.a.div(`#main-content.col-${t}-${12-e}`),"right"===n)return p.a.div(`#sidebar.col-${t}-${e}.right-column`)})},o=function(){class e extends c.a.View{onBeforeDestroy(){return i.request("get-entries","applet").reset()}}return e.prototype.className="applet-container",e.prototype.behaviors={ShowInitialEmptyContent:{behaviorClass:w.a}},e}.call(this),function(){class e extends o{}return e.prototype.template=a(),e.prototype.regions={sidebar:"#sidebar",content:"#main-content"},e}.call(this),r=function(){class e extends o{regions(){var e;return(e=new v.a({el:"#main-content"})).slide_speed=f()(".01s"),{content:e,toolbar:"#main-toolbar"}}}return e.prototype.template=p.a.renderable(function(){return p.a.div(".row",function(){return p.a.div("#main-toolbar")}),p.a.div(".row",function(){return p.a.div("#main-content")})}),e}.call(this)},60:function(e,t,n){"use strict";n.r(t),n.d(t,"BaseController",function(){return o}),n.d(t,"MainController",function(){return a}),n.d(t,"ExtraController",function(){return i});n(4);var o,i,r,a,s,l=n(1),u=n.n(l),c=n(3),d=n.n(c),p=n(55),h=n(13),f=n(53);r=u.a.Radio.channel("global"),s=u.a.Radio.channel("navbar"),o=d.a.Object.extend({init_page:function(){},scrollTop:f.default,scroll_top:function(){return console.warn("use scrollTop instead"),this.scrollTop(arguments)},navigateToUrl:h.default,navigate_to_url:function(){return console.warn("use navigateToUrl instead"),this.navigateToUrl(arguments)}}),a=o.extend({layoutClass:p.a,_getAppletRegion:function(){return r.request("main:app:object").getView().getRegion("applet")},setupLayout:function(){var e,t;e=this.getOption("layoutClass"),this.layout=new e,(t=this._getAppletRegion()).hasView()&&t.empty(),this.applet.setupAppletEntries(),t.show(this.layout)},setupLayoutIfNeeded:function(){void 0===this.layout?this.setupLayout():this.layout.isDestroyed()&&this.setupLayout(),s.request("get-entries","view").reset()},setup_layout_if_needed:function(){console.warn("use setupLayoutIfNeeded instead"),this.setupLayoutIfNeeded()},_get_region:function(e){return console.warn("use _getRegion instead"),this._getRegion(e)},_show_view:function(e,t){return console.warn("use _showView instead"),this._showView(e,t)},_load_view:function(e,t,n){return console.warn("use _loadView instead"),this._loadView(e,t,n)},_getRegion:function(e){return this.layout.getRegion(e)},_showView:function(e,t){var n,o;n={model:t},t instanceof u.a.Collection&&(n={collection:t}),o=new e(n),this.layout.showChildView("content",o)},_isModelAbsent:function(e){return e instanceof u.a.Collection?e.isEmpty():e.isEmpty()||1===Object.keys(e.attributes).length},_loadView:function(e,t,n){var o;this._isModelAbsent(t)?((o=t.fetch()).done(()=>{this._showView(e,t)}),o.fail(function(){var e;e=`Failed to load ${n} data.`,MessageChannel.request("danger",e)})):this._showView(e,t)}}),i=o.extend({channelName:function(){return this.getOption("channelName")||"global"},initialize:function(e){this.appletName=e.appletName,this.applet=r.request("main:applet:get-applet",this.appletName),this.mainController=this.applet.router.controller,this.channel=this.getChannel()},setup_layout_if_needed:function(){this.mainController.setup_layout_if_needed()},showChildView:function(e,t){this.mainController.layout.showChildView(e,t)}})},61:function(e,t,n){"use strict";var o,i,r=n(1),a=n.n(r),s=(n(3),n(6)),l=n.n(s),u=[].indexOf;a.a.Radio.channel("global"),o=a.a.Radio.channel("navbar"),i=class extends l.a.App{setupAppletEntries(){var e;return(e=o.request("get-entries","applet")).reset(),this.appletEntries&&e.set(this.appletEntries),o.request("get-entries","view").reset()}onBeforeStart(){var e,t,n,o,i;return this.setupAppletEntries(),(t=new this.Controller).applet=this,this.router=new this.Router({controller:t}),(null!=this?this.appRoutes:void 0)&&(e=("function"==typeof this.appRoutes?this.appRoutes():void 0)||this.appRoutes,Object.keys(e).forEach(t=>this.router.appRoute(t,e[t]))),(null!=(o=this.options)?o.isFrontdoorApplet:void 0)&&(n=(null!=(i=this.options.appConfig)?i.startFrontdoorMethod:void 0)||"start",u.call(Object.keys(this.router.appRoutes),"")<0&&this.router.appRoute("",n)),this._extraRouters={},this.initExtraRouters()}onStop(){0}setExtraRouter(e,t,n){var o;return o=new t({controller:new n}),this._extraRouters[e]=o}initExtraRouters(){var e,t,n,o;for(o in e=this.getOption("extraRouters"),this.getOption("extraRouters"),t=[],e)n=e[o],console.log("rtr",o,n),this.setExtraRouter(o,n.router,n.controller),t.push(void 0);return t}getExtraRouter(e){return this._extraRouters[e]}},t.a=i},67:function(e,t,n){"use strict";n.r(t);var o=n(1),i=n.n(o),r=(n(3),n(2)),a=n.n(r);t.default=function(){class e extends i.a.Marionette.View{}return e.prototype.template=a.a.renderable(function(){return a.a.div(".jumbotron",function(){return a.a.h1(function(){return a.a.text("Loading ..."),a.a.i(".fa.fa-spinner.fa-spin")})})}),e}.call(this)},72:function(e,t,n){"use strict";n(4);var o,i=n(3),r=n.n(i);o=class extends r.a.Region{attachHtml(e){var t;return t=this.slide_speed?this.slide_speed:"fast",this.$el.hide(),this.$el.html(e.el),this.$el.slideDown(t)}},t.a=o},73:function(e,t,n){"use strict";n(7);var o=n(1),i=n.n(o),r=n(3),a=n.n(r),s=n(67);i.a.Radio.channel("global"),t.a=function(){class e extends a.a.Behavior{onDomRefresh(){var e;return e=new(this.getOption("emptyView")),this.view.showChildView("content",e)}}return e.prototype.options={emptyView:s.default},e}.call(this)},91:function(e,t,n){}}]);