{"version":3,"sources":["webpack:///./src/applets/usgov/dbchannel.coffee","webpack:///./src/applets/usgov/controller.coffee","webpack:///./src/applets/usgov/main.coffee","webpack:///./node_modules/tbirds/src/util/capitalize.coffee","webpack:///./node_modules/tbirds/src/views/button-toolbar.coffee","webpack:///./node_modules/backbone.lovefield/build/backbone.lovefield.js"],"names":["AppChannel","dbchannel_coffee_LocalRole","dbchannel_coffee_LocalRoleCollection","MainChannel","RoleStore","dbchannel_coffee_UsGovRoles","baseURL","dbConn","local_roles","roles_collection","controller_coffee_AppChannel","backbone_default","a","Radio","channel","request","backbone_lovefield","LocalRole","Model","loveStore","LocalRoleCollection","Collection","model","reply","UsGovRoles","backbone_paginator_default","[object Object]","options","offset","this","state","currentPage","pageSize","dataType","fetcher","response","console","log","meta","limit","totalRecords","total_count","totalPages","Math","ceil","lastPage","parse","objects","mode","full","firstPage","queryParams","__webpack_require__","main_coffee_Applet","main_coffee_Router","appletMenu","controller_coffee","Controller","controllers_coffee","setupLayoutIfNeeded","Promise","all","e","then","View","collection","fetch","done","view","layout","showChildView","bind","catch","oe","layoutClass","layout_coffee","button","label","url","icon","Router","backbone_marionette_default","AppRouter","appRoutes","usgov","Applet","tkapplet_coffee","appletEntries","Object","capitalize_coffee","menu","__webpack_exports__","str","charAt","toUpperCase","slice","ToolbarEntryCollectionView","ToolbarEntryView","ToolbarView","default_entry_template","_util_navigate_to_url__WEBPACK_IMPORTED_MODULE_2__","teacup__WEBPACK_IMPORTED_MODULE_1___default","renderable","i","text","backbone_marionette__WEBPACK_IMPORTED_MODULE_0___default","tagName","attributes","class","triggers","click","modelEvents","change","CollectionView","template","entryTemplate","child","trigger","childView","className","get","div","regions","entries","el","factory","window","__WEBPACK_EXTERNAL_MODULE_backbone__","__WEBPACK_EXTERNAL_MODULE_lovefield__","__WEBPACK_EXTERNAL_MODULE_underscore__","modules","installedModules","moduleId","exports","module","l","call","m","c","d","name","getter","o","defineProperty","configurable","enumerable","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","./node_modules/webpack/buildin/global.js","g","Function","eval","./src/driver.coffee","backbone__WEBPACK_IMPORTED_MODULE_0__","backbone__WEBPACK_IMPORTED_MODULE_0___default","_sync__WEBPACK_IMPORTED_MODULE_1__","_store__WEBPACK_IMPORTED_MODULE_2__","ajaxSync","getSyncMethod","_utils__WEBPACK_IMPORTED_MODULE_3__","LoveStore","sync","forceAjaxSync","hasLoveStore","method","apply","./src/store.coffee","underscore__WEBPACK_IMPORTED_MODULE_0__","lovefield__WEBPACK_IMPORTED_MODULE_1__","lovefield__WEBPACK_IMPORTED_MODULE_1___default","_utils__WEBPACK_IMPORTED_MODULE_2__","conn","getSchema","table","data","row","_getTable","id","set","idAttribute","toJSON","createRow","insert","into","values","exec","q","update","keys","forEach","key","where","eq","select","from","results","filters","clause","push","length","op","and","Backbone","delete","./src/sync.coffee","underscore__WEBPACK_IMPORTED_MODULE_1__","error","errorMessage","resp","store","find","findAll","create","destroy","error1","code","message","fail","success","complete","./src/utils.coffee","global","guid","getLoveConnection","getTableName","getWindow","getLoveStore","s4","random","toString","substring","0","backbone","lovefield","underscore"],"mappings":"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","file":"4-602d856ec21f87a6cc99.js","sourcesContent":["import $ from 'jquery'\nimport Backbone from 'backbone'\nimport { LoveStore } from 'backbone.lovefield'\nimport PageableCollection from 'backbone.paginator'\n\nMainChannel = Backbone.Radio.channel 'global'\nAppChannel = Backbone.Radio.channel 'usgov'\n\ndbConn = MainChannel.request 'main:app:dbConn', 'usgov'\n\nRoleStore = new LoveStore dbConn, 'Role'\n\nclass LocalRole extends Backbone.Model\n  loveStore: RoleStore\n\nclass LocalRoleCollection extends Backbone.Collection\n  loveStore: RoleStore\n  model: LocalRole\n\nlocal_roles = new LocalRoleCollection\n\nAppChannel.reply 'get_local_roles', ->\n  return local_roles\nAppChannel.reply 'get-role-model', ->\n  return LocalRole\nAppChannel.reply 'get-role-collection', ->\n  return LocalRoleCollection\n\nbaseURL = \"https://www.govtrack.us/api/v2\"\n\nclass UsGovRoles extends PageableCollection\n  mode: 'server'\n  full: true\n  baseURL: baseURL\n  url: ->\n    return \"#{baseURL}/role?current=true\"\n\n  fetcher: (options) ->\n    options = options or {}\n    currentPage = @state.currentPage\n    offset = currentPage * @state.pageSize\n    options.offset = offset\n    options.dataType = 'jsonp'\n    super options\n\n  parse: (response) ->\n    console.log \"parse(response)\", response\n    @state.pageSize = response.meta.limit\n    @state.totalRecords = response.meta.total_count\n    @state.totalPages = Math.ceil @state.totalRecords / @state.pageSize\n    # subtract one since firstPage is zero\n    @state.lastPage = @state.totalPages - 1\n    console.log \"@state.totalRecords\", @state.totalRecords, @state.totalPages\n    super response.objects\n    \n  state:\n    firstPage: 0\n    pageSize: 20\n    \n  queryParams:\n    pageSize: 'limit'\n    offset: ->\n      @state.currentPage * @state.pageSize\n    currentPage: 'offset'\n      \nroles_collection = new UsGovRoles\nAppChannel.reply 'get-roles-collection', ->\n  return roles_collection\n  \n","import Backbone from 'backbone'\nimport Marionette from 'backbone.marionette'\nimport tc from 'teacup'\nimport ms from 'ms'\n\nimport ToolbarView from 'tbirds/views/button-toolbar'\nimport { MainController } from 'tbirds/controllers'\nimport { ToolbarAppletLayout } from 'tbirds/views/layout'\nnavigate_to_url = require 'tbirds/util/navigate-to-url'\nscroll_top_fast = require 'tbirds/util/scroll-top-fast'\n\nimport './dbchannel'\n\n\nMainChannel = Backbone.Radio.channel 'global'\nMessageChannel = Backbone.Radio.channel 'messages'\nResourceChannel = Backbone.Radio.channel 'resources'\nAppChannel = Backbone.Radio.channel 'usgov'\n\nclass Controller extends MainController\n  layoutClass: ToolbarAppletLayout\n  view_index: ->\n    @setupLayoutIfNeeded()\n    # https://jsperf.com/bool-to-int-many\n    completed = completed ^ 0\n    require.ensure [], () =>\n      View = require './views/index-view.coffee'\n      collection  = AppChannel.request 'get-roles-collection'\n      response = collection.fetch()\n      response.done =>\n        view = new View\n          collection: collection\n        @layout.showChildView 'content', view\n      #@_loadView View, collection, 'role'\n    # name the chunk\n    , 'usgov-view-index'\n      \nexport default Controller\n\n","import Backbone from 'backbone'\nimport Marionette from 'backbone.marionette'\nimport TkApplet from 'tbirds/tkapplet'\nimport capitalize from 'tbirds/util/capitalize'\n\nimport Controller from './controller'\n\nappName = 'usgov'\n\nMainChannel = Backbone.Radio.channel 'global'\nAppChannel = Backbone.Radio.channel appName\n\n\nappletMenu = [\n  {\n    button: '#list-button'\n    label: 'List'\n    url: '#usgov'\n    icon: '.fa.fa-list'\n  }\n  {\n    button: '#calendar-button'\n    label: 'Calendar'\n    url: '#usgov/calendar'\n    icon: '.fa.fa-calendar'\n  }\n  ]\n\nclass Router extends Marionette.AppRouter\n  appRoutes:\n    'usgov': 'view_index'\n    \nclass Applet extends TkApplet\n  Controller: Controller\n  Router: Router\n  appletEntries: [\n    {\n      label: \"#{capitalize appName} Menu\"\n      menu: appletMenu\n    }\n  ]\n\nexport default Applet\n","export default (str) ->\n  str.charAt(0).toUpperCase() + str.slice(1)\n","import Marionette from 'backbone.marionette'\nimport tc from 'teacup'\n\nimport navigate_to_url from '../util/navigate-to-url'\n\ndefault_entry_template = tc.renderable (model) ->\n  tc.i model.icon\n  tc.text \" \"\n  tc.text model.label\n  \nclass ToolbarEntryView extends Marionette.View\n  tagName: 'button'\n  attributes:\n    'class': 'btn btn-secondary'\n  triggers:\n    # we capture every click within the view\n    # we don't need ui hash\n    # https://gitter.im/marionettejs/backbone.marionette?at=59514dd876a757f808aa504f # noqa\n    click: 'button:clicked'\n  modelEvents:\n    change: 'render'\n    \nclass ToolbarEntryCollectionView extends Marionette.CollectionView\n  childView: ToolbarEntryView\n  childViewOptions: ->\n    template: @options.entryTemplate\n  className: 'btn-group btn-group-justified'\n  onChildviewButtonClicked: (child) ->\n    @trigger 'toolbar:entry:clicked', child\n    \nclass ToolbarView extends Marionette.View\n  template: tc.renderable () ->\n    tc.div '.toolbar-entries'\n  regions:\n    entries:\n      el: '.toolbar-entries'\n      #replaceElement: true\n  onRender: ->\n    entryTemplate = @options.entryTemplate or default_entry_template\n    view = new ToolbarEntryCollectionView\n      collection: @collection\n      entryTemplate: entryTemplate\n    @showChildView 'entries', view\n  onChildviewToolbarEntryClicked: (child) ->\n    navigate_to_url child.model.get 'url'\n    \n    \nexport default ToolbarView\n\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"backbone\"), require(\"lovefield\"), require(\"underscore\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"backbone\", \"lovefield\", \"underscore\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Backbone.LoveField\"] = factory(require(\"backbone\"), require(\"lovefield\"), require(\"underscore\"));\n\telse\n\t\troot[\"Backbone.LoveField\"] = factory(root[\"Backbone\"], root[\"lf\"], root[\"_\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE_backbone__, __WEBPACK_EXTERNAL_MODULE_lovefield__, __WEBPACK_EXTERNAL_MODULE_underscore__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./node_modules/webpack/buildin/global.js\":\n/*!***********************************!*\\\n  !*** (webpack)/buildin/global.js ***!\n  \\***********************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n/***/ }),\n\n/***/ \"./src/driver.coffee\":\n/*!***************************!*\\\n  !*** ./src/driver.coffee ***!\n  \\***************************/\n/*! exports provided: LoveStore */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var backbone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! backbone */ \"backbone\");\n/* harmony import */ var backbone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(backbone__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _sync__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sync */ \"./src/sync.coffee\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./store */ \"./src/store.coffee\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"LoveStore\", function() { return _store__WEBPACK_IMPORTED_MODULE_2__[\"LoveStore\"]; });\n\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ \"./src/utils.coffee\");\n\n/** Get the local or ajax sync call\n * @param {Model} model - Model to sync\n * @param {object} options - Options to pass, takes ajaxSync\n * @returns {function} The sync method that will be called\n */\nvar ajaxSync, getSyncMethod;\n\n\n\n\n\n\n\n\n\nbackbone__WEBPACK_IMPORTED_MODULE_0___default.a.LoveStore = _store__WEBPACK_IMPORTED_MODULE_2__[\"LoveStore\"];\n\najaxSync = backbone__WEBPACK_IMPORTED_MODULE_0___default.a.sync;\n\ngetSyncMethod = function(model, options = {}) {\n  var forceAjaxSync, hasLoveStore;\n  forceAjaxSync = options.ajaxSync;\n  hasLoveStore = Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"getLoveStore\"])(model);\n  if (!forceAjaxSync && hasLoveStore) {\n    return _sync__WEBPACK_IMPORTED_MODULE_1__[\"sync\"];\n  } else {\n    return ajaxSync;\n  }\n};\n\nbackbone__WEBPACK_IMPORTED_MODULE_0___default.a.sync = function(method, model, options) {\n  return getSyncMethod(model, options).apply(this, [method, model, options]);\n};\n\n\n\n\n/***/ }),\n\n/***/ \"./src/store.coffee\":\n/*!**************************!*\\\n  !*** ./src/store.coffee ***!\n  \\**************************/\n/*! exports provided: LoveStore */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LoveStore\", function() { return LoveStore; });\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! underscore */ \"underscore\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lovefield__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lovefield */ \"lovefield\");\n/* harmony import */ var lovefield__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lovefield__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils */ \"./src/utils.coffee\");\n\n\n\n\n\n\nvar LoveStore = class LoveStore {\n  constructor(conn, name = '') {\n    this.conn = conn;\n    this.name = name;\n    return;\n  }\n\n  _getTable() {\n    return this.conn.getSchema().table(this.name);\n  }\n\n  create(model) {\n    var data, row, table;\n    table = this._getTable();\n    if (!model.id && model.id !== 0) {\n      model.id = Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"guid\"])();\n      model.set(model.idAttribute, model.id);\n    }\n    data = model.toJSON();\n    row = table.createRow(data);\n    return this.conn.insert().into(table).values([row]).exec();\n  }\n\n  update(model) {\n    var data, q, table;\n    table = this._getTable();\n    data = model.toJSON();\n    q = this.conn.update(table);\n    Object.keys(data).forEach(function(key) {\n      return q = q.set(table[key], data[key]);\n    });\n    q = q.where(table.id.eq(data.id));\n    return q.exec();\n  }\n\n  find(model, options) {\n    var id, idAttribute, q, table;\n    table = this._getTable();\n    idAttribute = Object(underscore__WEBPACK_IMPORTED_MODULE_0__[\"result\"])(model, 'idAttribute');\n    id = Object(underscore__WEBPACK_IMPORTED_MODULE_0__[\"result\"])(model, idAttribute);\n    return q = this.conn.select().from(table).where(table.id.eq(id)).exec().then(function(results) {\n      model.set(results[0]);\n      return model;\n    });\n    return q;\n  }\n\n  findAll(model, options) {\n    var filters, q, table;\n    table = this._getTable();\n    q = this.conn.select().from(table);\n    if (options.data) {\n      filters = [];\n      Object.keys(options.data).forEach(function(key) {\n        var clause;\n        clause = table[key].eq(options.data[key]);\n        return filters.push(clause);\n      });\n      if (filters.length > 1) {\n        q = q.where(lovefield__WEBPACK_IMPORTED_MODULE_1___default.a.op.and(filters));\n      } else {\n        q = q.where(filters[0]);\n      }\n    }\n    return q.exec().then(function(results) {\n      if (model instanceof Backbone.Collection) {\n        return model.set(results);\n      } else {\n        // FIXME throw error if more\n        // than one result for model\n        return model.set(results[0]);\n      }\n    });\n  }\n\n  destroy(model, options) {\n    var table;\n    table = this._getTable();\n    return this.conn.delete().from(table).where(table.id.eq(model.id)).exec();\n  }\n\n};\n\n\n/***/ }),\n\n/***/ \"./src/sync.coffee\":\n/*!*************************!*\\\n  !*** ./src/sync.coffee ***!\n  \\*************************/\n/*! exports provided: sync */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sync\", function() { return sync; });\n/* harmony import */ var backbone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! backbone */ \"backbone\");\n/* harmony import */ var backbone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(backbone__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! underscore */ \"underscore\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils */ \"./src/utils.coffee\");\n\n/** Get the Deferred status from $ if we have jQuery, otherwise use Backbone's\n *  @returns {boolean} - Whether the request was deferred\n */\nvar getDeferred;\n\n\n\n\n\n\n\ngetDeferred = function() {\n  if (backbone__WEBPACK_IMPORTED_MODULE_0___default.a.$) {\n    return Object(underscore__WEBPACK_IMPORTED_MODULE_1__[\"result\"])(backbone__WEBPACK_IMPORTED_MODULE_0___default.a.$, 'Deferred', false);\n  }\n  return Object(underscore__WEBPACK_IMPORTED_MODULE_1__[\"result\"])(backbone__WEBPACK_IMPORTED_MODULE_0___default.a, 'Deferred', false);\n};\n\n/** Override Backbone's `sync` method to run against localStorage\n * @param {string} method - One of read/create/update/delete\n * @param {Model} model - Backbone model to sync\n * @param {Object} options - Options object, use `ajaxSync: true` to run the\n *  operation against the server in which case, options will also be passed into\n *  `jQuery.ajax`\n * @returns {undefined}\n */\nvar sync = function(method, model, options = {}) {\n  var error, errorMessage, id, idAttribute, resp, store;\n  store = Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"getLoveStore\"])(model);\n  resp = void 0;\n  try {\n    switch (method) {\n      case 'read':\n        idAttribute = Object(underscore__WEBPACK_IMPORTED_MODULE_1__[\"result\"])(model, 'idAttribute');\n        id = Object(underscore__WEBPACK_IMPORTED_MODULE_1__[\"result\"])(model, idAttribute);\n        resp = id ? store.find(model, options) : store.findAll(model, options); //noqa\n        break;\n      case 'create':\n        resp = store.create(model, options);\n        break;\n      case 'patch':\n      case 'update':\n        resp = store.update(model, options);\n        break;\n      case 'delete':\n        resp = store.destroy(model, options);\n    }\n  } catch (error1) {\n    error = error1;\n    if (error.code === 22) {\n      errorMessage = 'Private browsing is unsupported';\n    } else {\n      errorMessage = error.message;\n    }\n  }\n  if (resp) {\n    // compatibility with $.ajax\n    resp.done = resp.then;\n    resp.fail = resp.catch;\n    if (options.success) {\n      options.success.call(model, resp, options);\n    }\n  } else {\n    errorMessage = errorMessage ? errorMessage : \"Record Not Found\";\n    if (options.error) {\n      options.error.call(model, errorMessage, options);\n    }\n  }\n  // add compatibility with $.ajax\n  // always execute callback for success and error\n  if (options.complete) {\n    options.complete.call(model, resp);\n  }\n  return resp;\n};\n\n\n/***/ }),\n\n/***/ \"./src/utils.coffee\":\n/*!**************************!*\\\n  !*** ./src/utils.coffee ***!\n  \\**************************/\n/*! exports provided: guid, getLoveConnection, getTableName, getWindow, getLoveStore */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"guid\", function() { return guid; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLoveConnection\", function() { return getLoveConnection; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getTableName\", function() { return getTableName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getWindow\", function() { return getWindow; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLoveStore\", function() { return getLoveStore; });\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! underscore */ \"underscore\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_0__);\nvar s4;\n\n\n\ns4 = function() {\n  var rand;\n  rand = (1 + Math.random()) * 0x10000;\n  return (rand | 0).toString(16).substring(1);\n};\n\nvar guid = function() {\n  return `${s4()}${s4()}-${s4()}-${s4()}-${s4()}-${s4()}${s4()}${s4()}`;\n};\n\nvar getLoveConnection = function(model) {\n  var conn;\n  conn = Object(underscore__WEBPACK_IMPORTED_MODULE_0__[\"result\"])(model, 'loveConnection');\n  return conn || Object(underscore__WEBPACK_IMPORTED_MODULE_0__[\"result\"])(model.collection, 'loveConnection');\n};\n\nvar getTableName = function(model) {\n  var tableName;\n  tableName = Object(underscore__WEBPACK_IMPORTED_MODULE_0__[\"result\"])(model, 'tableName');\n  return tableName || Object(underscore__WEBPACK_IMPORTED_MODULE_0__[\"result\"])(model.collection, 'tableName');\n};\n\nvar getWindow = function() {\n  if (Object(underscore__WEBPACK_IMPORTED_MODULE_0__[\"isUndefined\"])(window)) {\n    return global;\n  } else {\n    return window;\n  }\n};\n\nvar getLoveStore = function(model) {\n  var store;\n  store = Object(underscore__WEBPACK_IMPORTED_MODULE_0__[\"result\"])(model, 'loveStore');\n  return store || Object(underscore__WEBPACK_IMPORTED_MODULE_0__[\"result\"])(model.collection, 'loveStore');\n};\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../node_modules/webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n/***/ }),\n\n/***/ 0:\n/*!*********************************!*\\\n  !*** multi ./src/driver.coffee ***!\n  \\*********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(/*! ./src/driver.coffee */\"./src/driver.coffee\");\n\n\n/***/ }),\n\n/***/ \"backbone\":\n/*!**************************************************************************************************!*\\\n  !*** external {\"amd\":\"backbone\",\"commonjs\":\"backbone\",\"commonjs2\":\"backbone\",\"root\":\"Backbone\"} ***!\n  \\**************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_backbone__;\n\n/***/ }),\n\n/***/ \"lovefield\":\n/*!***********************************************************************************************!*\\\n  !*** external {\"amd\":\"lovefield\",\"commonjs\":\"lovefield\",\"commonjs2\":\"lovefield\",\"root\":\"lf\"} ***!\n  \\***********************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_lovefield__;\n\n/***/ }),\n\n/***/ \"underscore\":\n/*!*************************************************************************************************!*\\\n  !*** external {\"amd\":\"underscore\",\"commonjs\":\"underscore\",\"commonjs2\":\"underscore\",\"root\":\"_\"} ***!\n  \\*************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_underscore__;\n\n/***/ })\n\n/******/ });\n});\n//# sourceMappingURL=backbone.lovefield.js.map"],"sourceRoot":""}