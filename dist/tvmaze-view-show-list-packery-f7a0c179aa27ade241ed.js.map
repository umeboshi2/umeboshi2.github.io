{"version":3,"sources":["webpack:///./src/applets/tvmaze/views/packery-show-list.coffee","webpack:///./src/applets/tvmaze/views/confirm-delete-modal.coffee","webpack:///./src/applets/tvmaze/views/templates/tvshow-item.coffee"],"names":["Backbone","ConfirmDeleteModal","HasPackeryView","ItemCollectionView","ItemView","ListView","MainChannel","Marionette","PaginateBar","itemTemplate","listContainer","listTemplate","marked","navigate_to_url","tc","view_template","__webpack_require__","default","Radio","channel","renderable","console","log","div","text","nav","button","View","[object Object]","event","preventDefault","this","model","id","view","backdrop","modal_region","request","getView","getRegion","show","_show_modal","template","ui","item","link","deleteItem","events","click @ui.link","click @ui.deleteItem","CollectionView","childView","header","itemList","flatListButton","paginateBar","pager","collection","showChildView","off","options","regions","click @ui.flatListButton","behaviors","behaviorClass","hasPageableCollection","packeryOptions","itemSelector","isInitLayout","horizontalOrder","columnWidth","stagger","raw","appName","MainView","templateContext","module","exports","ConfirmDeleteTemplate","MessageChannel","teacup__WEBPACK_IMPORTED_MODULE_2__","teacup__WEBPACK_IMPORTED_MODULE_2___default","n","backbone__WEBPACK_IMPORTED_MODULE_0___default","a","h3","content","name","img","src","image","medium","type","data","dismiss","span","aria-hidden","i","__webpack_exports__","backbone_marionette__WEBPACK_IMPORTED_MODULE_1___default","click @ui.confirmDelete","response","get","destroy","done","fail","className","confirmDelete","cancelButton","cardClasses","divStyle","noImage","viewLink","style","ref","strong","href","ref1","ref2","ref3"],"mappings":"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","file":"tvmaze-view-show-list-packery-f7a0c179aa27ade241ed.js","sourcesContent":["$ = require 'jquery'\nBackbone = require 'backbone'\nMarionette = require 'backbone.marionette'\ntc = require 'teacup'\nmarked = require 'marked'\n\nHasMasonryView = require('tbirds/behaviors/has-masonry').default\nHasPackeryView = require('tbirds/behaviors/has-packery').default\n\nnoImage = require('tbirds/templates/no-image-span').default\nPaginateBar = require('tbirds/views/paginate-bar').default\n\nnavigate_to_url = require('tbirds/util/navigate-to-url').default\n\nConfirmDeleteModal = require('./confirm-delete-modal').default\nitemTemplate = require './templates/tvshow-item'\n\nMainChannel = Backbone.Radio.channel 'global'\nMessageChannel = Backbone.Radio.channel 'messages'\n\nlistContainer = '.show-list'\n\nlistTemplate = tc.renderable ->\n  console.log \"SHOW ME\"\n  tc.div '.listview-header', ->\n    tc.text \"TV Shows\"\n  tc.nav '.paginate-bar'\n  tc.button '.flat-list.btn.btn-info', \"Show flat list\"\n  tc.div listContainer\n\n\nclass ItemView extends Marionette.View\n  template: itemTemplate\n  ui:\n    item: '.show-item'\n    link: 'a'\n    deleteItem: '.delete-item'\n  events:\n    'click @ui.link': 'showRole'\n    'click @ui.deleteItem': 'deleteItem'\n  showRole: (event) ->\n    event.preventDefault()\n    navigate_to_url \"#tvmaze/shows/view/#{@model.id}\"\n  _show_modal: (view, backdrop) ->\n    app = MainChannel.request 'main:app:object'\n    layout = app.getView()\n    modal_region = layout.getRegion 'modal'\n    modal_region.backdrop = backdrop\n    modal_region.show view\n  deleteItem: ->\n    view = new ConfirmDeleteModal\n      model: @model\n    @_show_modal view, true\n    \nclass ItemCollectionView extends Marionette.CollectionView\n  childView: ItemView\n\nclass ListView extends Marionette.View\n  template: listTemplate\n  options:\n    listContainer: listContainer\n  ui: ->\n    header: '.listview-header'\n    itemList: listContainer\n    flatListButton: '.flat-list'\n    paginateBar: '.paginate-bar'\n  regions:\n    paginateBar: '@ui.paginateBar'\n    itemList: '@ui.itemList'\n  events:\n    'click @ui.flatListButton': 'showFlatList'\n  behaviors:\n    HasPackeryView:\n      behaviorClass: HasPackeryView\n      listContainer: listContainer\n      hasPageableCollection: true\n      packeryOptions:\n        itemSelector: '.show-item'\n        isInitLayout: false\n        horizontalOrder: true\n        columnWidth: 100\n        stagger: 30\n  onRender: ->\n    view = new ItemCollectionView\n      collection: @collection\n    @showChildView 'itemList', view\n    pager = new PaginateBar\n      collection: @collection\n    @showChildView 'paginateBar', pager\n  onBeforeDestroy: ->\n    @collection.off 'pageable:state:change'\n  showFlatList: ->\n    navigate_to_url '#tvmaze/shows/flat'\n    \nview_template = tc.renderable (model) ->\n  tc.div '.row.listview-list-entry', ->\n    tc.raw marked \"# #{model.appName} started.\"\n    \nclass MainView extends Marionette.View\n  template: view_template\n  templateContext:\n    appName: 'tvmaze'\n    \nmodule.exports = ListView\n\n","import Backbone from 'backbone'\nimport Marionette from 'backbone.marionette'\nimport tc from 'teacup'\n\nMessageChannel = Backbone.Radio.channel 'messages'\n\nConfirmDeleteTemplate = tc.renderable (model) ->\n  tc.div '.modal-content', ->\n    tc.div '.modal-header', ->\n      tc.h3 '.modal-title', ->\n        tc.text \"Do you really want to delete #{model.content.name}?\"\n        tc.img src:model.content.image.medium\n      tc.button '.close', type:'button', data:{dismiss:'modal'}, ->\n        tc.span \"aria-hidden\":\"true\", ->\n          tc.raw '&times'\n    tc.div '.modal-body', ->\n      tc.div '#selected-children'\n    tc.div '.modal-footer', ->\n      tc.button '.confirm-delete.btn.btn-primary',\n      type:'button', data:{dismiss:'modal'}, ->\n        tc.i '.fa.fa-check'\n        tc.text \"OK\"\n      tc.button '.cancel-delete.btn.btn-danger',\n      type:'button', data:{dismiss:'modal'}, ->\n        tc.i '.fa.fa-close'\n        tc.text \"Cancel\"\n\nexport default class ConfirmDeleteModal extends Marionette.View\n  template: ConfirmDeleteTemplate\n  className: 'modal-dialog'\n  ui:\n    confirmDelete: '.confirm-delete'\n    cancelButton: '.cancel-delete'\n    \n  events: ->\n    'click @ui.confirmDelete': 'confirmDelete'\n\n  confirmDelete: ->\n    name = @model.get 'name'\n    response = @model.destroy()\n    response.done ->\n      MessageChannel.request 'success', \"#{name} deleted.\",\n    response.fail ->\n      MessageChannel.request 'danger', \"#{name} NOT deleted.\"\n      \n","tc = require 'teacup'\nmarked = require 'marked'\n\nnoImage = require('tbirds/templates/no-image-span').default\n\ndivStyle = 'width:20%;border-style:solid;border-width:3px'\ncardClasses = 'col-md-3.bg-body-d5'\n\nitemTemplate = tc.renderable (model) ->\n  divStyle = model.divStyle or divStyle\n  cardClasses = model.cardClasses or cardClasses\n  viewLink = \"#tvmaze/view/show/#{model.id}\"\n  itemBtn = '.btn.btn-sm'\n  tc.div \".show-item.card.#{cardClasses}\", style:divStyle, ->\n    tc.div '.card-header', ->\n      tc.strong '.card-title', model?.content?.name\n    tc.div '.card-block', ->\n      tc.a href:viewLink, ->\n        img = model.content?.image?.medium\n        if img\n          tc.img '.card-img-bottom',\n          src:model.content?.image?.medium,\n          #style:'width:50%;height:50%'\n        else\n          noImage '4x'\n\nmodule.exports = itemTemplate\n\n\n"],"sourceRoot":""}