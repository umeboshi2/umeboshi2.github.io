(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{163:function(t,e,o){var n,i,s,r,a,h,u,l,d,p,c=function(t,e){if(!(t instanceof e))throw new Error("Bound instance method accessed before binding")};n=o(3),i=o(1),o(2),r=o(40),h=o(43),p=o(0),o(11),i.Radio.channel("bumblr"),l=p.renderable(function(){return p.div(".mytoolbar.row",function(){return p.div(".btn-group",function(){return p.button(".previous.btn.btn-default",function(){return p.i("#prev-page-button.fa.fa-arrow-left")}),p.button(".slideshow-button.btn.btn-default",function(){return p.i(".fa.fa-play")}),p.button(".next.btn.btn-default",function(){return p.i("#next-page-button.fa.fa-arrow-right")})})}),p.div("#posts-container.row")}),u=`position:fixed;top:0;bottom:0;${u="vertical-align:middle;height:100%;max-width:100%;max-height:100%;"}`,d=p.renderable(function(t){return p.div(".listview-list-entry",{style:"height:100%;width:100%;"},function(){return p.span(function(){var e,o;return e=t.photos[0],0,null,console.log("photo",e),o=e.original_size.url,p.a({href:t.post_url,target:"_blank"},function(){return p.img({src:o,style:u})})})})}),a=function(){class t extends i.Marionette.View{}return t.prototype.template=d,t.prototype.className="post",t}.call(this),s=function(){class t extends i.Marionette.CompositeView{constructor(){super(...arguments),this.keydownHandler=this.keydownHandler.bind(this)}manage_slideshow(){return this.ui.slideshow_button.hasClass("fa-play")?this.start_slideshow():this.stop_slideshow()}start_slideshow(){return console.log("start slideshow"),this.slideshow_handler=setInterval(()=>(console.log("getting next page"),this.get_next_page()),6e3),this.ui.slideshow_button.removeClass("fa-play"),this.ui.slideshow_button.addClass("fa-stop")}stop_slideshow(){return clearInterval(this.slideshow_handler),this.ui.slideshow_button.removeClass("fa-stop"),this.ui.slideshow_button.addClass("fa-play")}get_next_page(){return this.collection.getNextPage().done(()=>this.set_image_layout())}get_prev_page(){return this.collection.getPreviousPage().done(()=>this.set_image_layout())}get_another_page(t){var e;switch(t){case"prev":e=this.collection.getPreviousPage();break;case"next":e=this.collection.getNextPage();break;default:e=null}if(e)return e.done(()=>this.set_image_layout())}handle_key_command(t){if("prev"===t||"next"===t)return this.get_another_page(t)}keydownHandler(e){var o,n,i,s;for(o in c(this,t),i=[],n=this.keycommands)s=n[o],e.keyCode===s?i.push(this.handle_key_command(o)):i.push(void 0);return i}set_image_layout(){var t;return t=n(".post"),h(t,()=>(this.ui.posts.show(),this.masonry.reloadItems(),this.masonry.layout()))}onDomRefresh(){return n("html").keydown(this.keydownHandler),this.masonry=new r("#posts-container",{gutter:2,isInitLayout:!1,itemSelector:".post"}),this.set_image_layout()}onBeforeDestroy(){return n("html").unbind("keydown",this.keydownHandler),this.stop_slideshow(),this.masonry.destroy()}}return t.prototype.template=l,t.prototype.childView=a,t.prototype.childViewContainer="#posts-container",t.prototype.ui={posts:"#posts-container",slideshow_button:".slideshow-button",next_button:"#next-page-button",prev_putton:"#prev-page-button"},t.prototype.events={"click @ui.prev_putton":"get_prev_page","click @ui.next_button":"get_next_page","click @ui.slideshow_button":"manage_slideshow"},t.prototype.keycommands={prev:65,next:90},t}.call(this),t.exports=s},164:function(t,e,o){var n,i,s,r,a,h,u,l,d,p=function(t,e){if(!(t instanceof e))throw new Error("Bound instance method accessed before binding")};n=o(3),i=o(1),o(2),r=o(40),h=o(43),d=o(0),o(11),i.Radio.channel("bumblr"),u=d.renderable(function(){return d.div(".mytoolbar.row",function(){return d.ul(".pager",function(){return d.li(".previous",function(){return d.i("#prev-page-button.fa.fa-arrow-left.btn.btn-default")}),d.li(function(){return d.i("#slideshow-button.fa.fa-play.btn.btn-default")}),d.li(".next",function(){return d.i("#next-page-button.fa.fa-arrow-right.btn.btn-default")})})}),d.div("#posts-container.row")}),l=d.renderable(function(t){return d.div(".listview-list-entry",function(){return d.span(function(){var e,o,n,i,s,r;for(o=0,e=null,n=0,i=(s=t.photos[0].alt_sizes).length;n<i;n++)(r=s[n]).width>o&&r.width<250&&(e=r,o=r.width);return r=e,d.a({href:t.post_url,target:"_blank"},function(){return d.img({src:r.url})})})})}),a=function(){class t extends i.Marionette.View{}return t.prototype.template=l,t.prototype.className="post",t}.call(this),s=function(){class t extends i.Marionette.CompositeView{constructor(){super(...arguments),this.keydownHandler=this.keydownHandler.bind(this)}manage_slideshow(){return this.ui.slideshow_button.hasClass("fa-play")?this.start_slideshow():this.stop_slideshow()}start_slideshow(){return console.log("start slideshow"),this.slideshow_handler=setInterval(()=>(console.log("getting next page"),this.get_next_page()),6e3),this.ui.slideshow_button.removeClass("fa-play"),this.ui.slideshow_button.addClass("fa-stop")}stop_slideshow(){return clearInterval(this.slideshow_handler),this.ui.slideshow_button.removeClass("fa-stop"),this.ui.slideshow_button.addClass("fa-play")}get_next_page(){return this.collection.getNextPage().done(()=>this.set_image_layout())}get_prev_page(){return this.collection.getPreviousPage().done(()=>this.set_image_layout())}get_another_page(t){var e;switch(t){case"prev":e=this.collection.getPreviousPage();break;case"next":e=this.collection.getNextPage();break;default:e=null}if(e)return e.done(()=>this.set_image_layout())}handle_key_command(t){if("prev"===t||"next"===t)return this.get_another_page(t)}keydownHandler(e){var o,n,i,s;for(o in p(this,t),i=[],n=this.keycommands)s=n[o],e.keyCode===s?i.push(this.handle_key_command(o)):i.push(void 0);return i}set_image_layout(){var t;return t=n(".post"),h(t,()=>(this.ui.posts.show(),this.masonry.reloadItems(),this.masonry.layout()))}onDomRefresh(){return n("html").keydown(this.keydownHandler),this.masonry=new r("#posts-container",{gutter:2,isInitLayout:!1,itemSelector:".post"}),this.set_image_layout()}onBeforeDestroy(){return n("html").unbind("keydown",this.keydownHandler),this.stop_slideshow(),this.masonry.destroy()}}return t.prototype.template=u,t.prototype.childView=a,t.prototype.childViewContainer="#posts-container",t.prototype.ui={posts:"#posts-container",slideshow_button:"#slideshow-button",next_button:"#next-page-button",prev_putton:"#prev-page-button"},t.prototype.events={"click @ui.prev_putton":"get_prev_page","click @ui.next_button":"get_next_page","click @ui.slideshow_button":"manage_slideshow"},t.prototype.keycommands={prev:65,next:90},t}.call(this),t.exports=s},43:function(t,e,o){var n,i;
/*!
 * imagesLoaded v4.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
/*!
 * imagesLoaded v4.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
!function(s,r){"use strict";n=[o(59)],void 0===(i=function(t){return function(t,e){var o=t.jQuery,n=t.console;function i(t,e){for(var o in e)t[o]=e[o];return t}var s=Array.prototype.slice;function r(t,e,a){if(!(this instanceof r))return new r(t,e,a);var h=t;"string"==typeof t&&(h=document.querySelectorAll(t)),h?(this.elements=function(t){if(Array.isArray(t))return t;if("object"==typeof t&&"number"==typeof t.length)return s.call(t);return[t]}(h),this.options=i({},this.options),"function"==typeof e?a=e:i(this.options,e),a&&this.on("always",a),this.getImages(),o&&(this.jqDeferred=new o.Deferred),setTimeout(this.check.bind(this))):n.error("Bad element for imagesLoaded "+(h||t))}r.prototype=Object.create(e.prototype),r.prototype.options={},r.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},r.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&a[e]){for(var o=t.querySelectorAll("img"),n=0;n<o.length;n++){var i=o[n];this.addImage(i)}if("string"==typeof this.options.background){var s=t.querySelectorAll(this.options.background);for(n=0;n<s.length;n++){var r=s[n];this.addElementBackgroundImages(r)}}}};var a={1:!0,9:!0,11:!0};function h(t){this.img=t}function u(t,e){this.url=t,this.element=e,this.img=new Image}return r.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var o=/url\((['"])?(.*?)\1\)/gi,n=o.exec(e.backgroundImage);null!==n;){var i=n&&n[2];i&&this.addBackground(i,t),n=o.exec(e.backgroundImage)}},r.prototype.addImage=function(t){var e=new h(t);this.images.push(e)},r.prototype.addBackground=function(t,e){var o=new u(t,e);this.images.push(o)},r.prototype.check=function(){var t=this;function e(e,o,n){setTimeout(function(){t.progress(e,o,n)})}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach(function(t){t.once("progress",e),t.check()}):this.complete()},r.prototype.progress=function(t,e,o){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&n&&n.log("progress: "+o,t,e)},r.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},h.prototype=Object.create(e.prototype),h.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},h.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},h.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},h.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},h.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},h.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},h.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},u.prototype=Object.create(h.prototype),u.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},u.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},u.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},r.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((o=e).fn.imagesLoaded=function(t,e){return new r(this,t,e).jqDeferred.promise(o(this))})},r.makeJQueryPlugin(),r}(s,t)}.apply(e,n))||(t.exports=i)}("undefined"!=typeof window?window:this)}}]);