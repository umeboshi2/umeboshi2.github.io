(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{158:function(e,t,n){var o={"./bumblr/main":695,"./crown/main":717,"./eliza/main":720,"./frontdoor/main":729,"./moviedb/main":735,"./netark/main":743,"./pmc/main":746,"./tvmaze/main":759,"./xyzzy/main":765};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=158},631:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(2),s=n(7),f=n(153),p=(o=f)&&o.__esModule?o:{default:o};i=c.Radio.channel("global"),a=p.default.eventIndex,u=new c.Collection([]),r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"initialize",value:function(){this.collections={categories:new c.Collection([]),topics:new c.Collection([])},this.currentEvents=[],this.currentTopicEvents={}}},{key:"setCollection",value:function(e,t){this.collections[e].set(t)}},{key:"initCategories",value:function(){var e;for(e in a.get("categories"))this.collections.categories.add({name:e,selected:!1})}},{key:"initTopics",value:function(){var e,t;for(e in t=a.get("topics"))this.collections.topics.add({name:e,selected:!1,topics:t[e]})}},{key:"initAll",value:function(){this.collections.categories.length||this.initCategories(),this.collections.topics.length||this.initTopics()}},{key:"fetchEventModels",value:function(){var e,t,n;return t=this.collections.categories.filter({selected:!0}),n=a.get("categories"),e=[],t.forEach((function(t){var o,r,a;if(o=t.get("name"),null==(t=u.get(o)))return a=n[o].filename,r=i.request("main:app:get-events",a),e.push(r.fetch()),u.add({id:o,name:o,content:r})})),e}},{key:"getSubtopicEvents",value:function(e){var t,n,o;return t=e.get("name"),o=e.get("topics"),n={},o.forEach((function(o){var r;return r=(e=u.get(o)).get("content"),n[o]=r.getSubtopicEvents(t)})),n}},{key:"getTopicEvents",value:function(e){var t,n;return t=a.get("topics")[e],n=new c.Collection,t.forEach((function(t){var o;return u.get(t),o=u.get(t).get("content").getSubtopicEvents(e),n.add(o)})),n}},{key:"getManyTopicEvents",value:function(e){var t;return t={},e.forEach((function(e){return t[e]=new c.Collection,a.get("topics")[e].forEach((function(n){var o,r;return u.get(n),o=u.get(n).get("content"),console.log("eventModel",o),r=o.getSubtopicEvents(e),t[e].add(r)}))})),t}},{key:"setCurrentTopicEvents",value:function(){var e,t,n,o=this;return(t=this.currentEvents).length=0,e=this.getSelectedTopics(),this.currentTopicEvents={},n={},e.pluck("name").forEach((function(e){var r;return r=o.getTopicEvents(e),o.currentTopicEvents[e]=r,n[e]=r,r.each((function(e){return t.push(e.toJSON())}))})),n}},{key:"determineCategories",value:function(){var e,t,n;return e=new c.Collection([]),this.collections.topics.filter({selected:!0}).forEach((function(t){return t.get("topics").forEach((function(t){return e.add({id:t,name:t})}))})),this.collections.categories.length||this.initCategories(a),n=e.pluck("name"),t=this.collections.categories,n.forEach((function(e){return t.findWhere({name:e}).set("selected",!0)})),{promises:this.fetchEventModels(),allTopics:e,categories:e}}},{key:"setCurrentEvents",value:function(){var e,t=this;(e=this.currentEvents).length=0,this.collections.categories.filter({selected:!0}).forEach((function(n){return t.getEventData(n.get("name")).get("events").forEach((function(t){return e.push(t)}))}))}},{key:"clearCurrentEvents",value:function(){this.currentEvents.length=0}},{key:"getEventData",value:function(e){return u.get(e).get("content")}},{key:"getSelectedCategories",value:function(){return new c.Collection(this.collections.categories.filter({selected:!0}))}},{key:"getSelectedTopics",value:function(){return new c.Collection(this.collections.topics.filter({selected:!0}))}}]),t}(s.MnObject),t.default=r},634:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteModel=t.FrontMatterPageable=t.FrontMatterCollection=t.FrontMatterModel=void 0;var o,r,i,u,a,l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=v(n(0)),f=n(2),p=v(n(621)),h=v(n(635)),d=n(594),y=v(n(442));function v(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r=f.Radio.channel("global"),o=f.Radio.channel("pmc"),u=r.request("main:app:dbConn","common"),i=new d.LoveStore(u,"PMCFrontMatter"),l=["id","content"];var m=t.FrontMatterModel=function(){var e=function(e){function t(){return b(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,e),c(t,[{key:"toJSON",value:function(){var e,t=this;return e={},l.forEach((function(n){return e[n]=t.get(n)})),e}},{key:"hasOAIcontent",value:function(){var e;return e=this.get("content"),s.default.has(e,"OAI-PMH")}},{key:"getPMH",value:function(){return this.get("content")["OAI-PMH"]}},{key:"getFront",value:function(){var e;return(null!=(e=this.getPMH())?e.error:void 0)?(console.log("ERROR IN",this.id),{}):e.GetRecord.record.metadata.article.front}}]),t}(f.Model);return e.prototype.loveStore=i,e}.call(void 0),g=t.FrontMatterCollection=function(){var e=function(e){function t(){return b(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,e),t}(f.Collection);return e.prototype.loveStore=i,e.prototype.model=m,e}.call(void 0),O=t.FrontMatterPageable=function(){var e=function(e){function t(){return b(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,e),t}(y.default);return e.prototype.loveStore=i,e.prototype.model=m,e.prototype.mode="client",e}.call(void 0);a=new g,o.reply("get-fm-collection",(function(){return a})),o.reply("make-fm-pageable",(function(){return new O}));var P=t.RemoteModel=function(e){function t(){return b(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,e),c(t,[{key:"url",value:function(){var e,t;return e={verb:"GetRecord",identifier:function(e){return"oai:pubmedcentral.nih.gov:"+e}(this.id),metadataPrefix:"pmc_fm"},t="https://www.ncbi.nlm.nih.gov/pmc/oai/oai.cgi?"+p.default.stringify(e),"https://cors-anywhere.herokuapp.com/","https://cors-anywhere.herokuapp.com/"+t}},{key:"parse",value:function(e){var t;return t=(new h.default).xml2js(e),t=JSON.parse(JSON.stringify(t)),{id:this.get("id"),content:t}}},{key:"fetch",value:function(e){return e=s.default.extend(e||{},{dataType:"text"}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fetch",this).call(this,e)}},{key:"hasOAIcontent",value:function(){var e;return e=this.get("content"),s.default.has(e,"OAI-PMH")}}]),t}(f.Model);o.reply("make-remote-model",(function(e){return new P({id:e})})),o.reply("save-fm-content",(function(e,t){var n,o;return n=new m({id:e,content:t}),o=!0,n.isNew=function(){return!!o&&(o=!1,!0)},a.add(n),n.save()}))},670:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FMTopicModel=void 0;var o,r,i,u,a,l,c,s,f,p,h,d,y,v,b,w=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),_=j(n(0)),m=n(2),g=n(594),O=j(n(442)),P=j(n(153));function j(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}y=P.default.eventIndex,l=m.Radio.channel("global"),o=m.Radio.channel("pmc"),d=l.request("main:app:dbConn","common"),h=new g.LoveStore(d,"Topics"),a=new g.LoveStore(d,"PMCTopics"),s=["id","name"],f=function(){var e=function(e){function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,e),w(t,[{key:"toJSON",value:function(){var e,t=this;return e={},s.forEach((function(n){return e[n]=t.get(n)})),e}}]),t}(m.Model);return e.prototype.loveStore=h,e}.call(void 0),c=function(){var e=function(e){function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,e),t}(m.Collection);return e.prototype.loveStore=h,e.prototype.model=f,e}.call(void 0),p=function(){var e=function(e){function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,e),t}(O.default);return e.prototype.loveStore=h,e.prototype.model=f,e.prototype.mode="client",e}.call(void 0),b=new c,o.reply("get-topic-collection",(function(){return b})),o.reply("make-topic-pageable",(function(){return new p})),b.fetch().done((function(){var e;return e=y.get("topics"),_.default.keys(e).forEach((function(e){if(null==b.find({name:e}))return console.log("get model for",e),b.add({name:e}).save()}))})),i=["pmcid","topic_id"];var M=t.FMTopicModel=function(){var e=function(e){function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,e),w(t,[{key:"toJSON",value:function(){var e,t=this;return e={},i.forEach((function(n){return e[n]=t.get(n)})),e}}]),t}(m.Model);return e.prototype.loveStore=a,e}.call(void 0);r=function(){var e=function(e){function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,e),t}(m.Collection);return e.prototype.loveStore=a,e.prototype.model=M,e}.call(void 0),u=function(){var e=function(e){function t(){return k(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,e),t}(O.default);return e.prototype.loveStore=a,e.prototype.model=M,e.prototype.mode="client",e}.call(void 0),v=new r,o.reply("get-fmtopic-collection",(function(){return v})),o.reply("make-fmtopic-pageable",(function(){return new u}))},695:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0},l=n(2),c=p(n(154)),s=p(n(586)),f=p(n(696));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o=l.Radio.channel("bumblr"),i=function(){var e=function(e){function t(){return h(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,e),t}(c.default);return e.prototype.appRoutes={bumblr:"start","bumblr/settings":"settingsPage","bumblr/dashboard":"showDashboard","bumblr/listblogs":"listBlogs","bumblr/viewblog/:id":"viewBlog","bumblr/addblog":"addNewBlog","bumblr/viewpix/:id":"viewBlogPix"},e}.call(void 0),r=function(){var e=function(e){function t(){return h(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,e),u(t,[{key:"onBeforeStart",value:function(){var e;return(e=o.request("get-local-blogs")).fetch(),e.isEmpty()&&["dutch-and-flemish-painters","gkar56","japanesesuburbia","8bitfuture","elfwud","hexeosis","pixel8or","necessary-disorder"].forEach((function(t){return e.addBlog(t)})),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onBeforeStart",this).call(this,arguments)}}]),t}(s.default);return e.prototype.Controller=f.default,e.prototype.Router=i,e.prototype.appletEntries=[{label:"Bumblr Menu",menu:[{label:"List Blogs",url:"#bumblr/listblogs",icon:".fa.fa-list"},{label:"Add Blog",url:"#bumblr/addblog",icon:".fa.fa-plus"},{label:"Settings",url:"#bumblr/settings",icon:".fa.fa-gear"}]}],e}.call(void 0),t.default=r},696:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=f(n(31)),l=n(2),c=f(n(605)),s=n(587);function f(e){return e&&e.__esModule?e:{default:e}}n(700),i=n(716),o=l.Radio.channel("bumblr"),r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"set_header",value:function(e){return(0,a.default)("#header").text(e)}},{key:"start",value:function(){return this.setupLayoutIfNeeded(),this.set_header("Bumblr"),this.listBlogs()}},{key:"default_view",value:function(){return this.start()}},{key:"show_mainview",value:function(){var e;return e=new i.MainBumblrView,this.layout.showChildView("content",e),(0,c.default)()}},{key:"showDashboard",value:function(){var e;return e=new i.BumblrDashboardView,this.layout.showChildView("content",e),(0,c.default)()}},{key:"listBlogs",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(3),n.e(15)]).then(function(){var t,r;return t=o.request("get-local-blogs"),r=new(0,n(767).default)({collection:t}),e.layout.showChildView("content",r)}.bind(null,n)).catch(n.oe)}},{key:"viewBlog",value:function(e){var t=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(3),n.e(14)]).then(function(){var r,i,u;return u=e+".tumblr.com",i=o.request("make-blog-post-collection",u),r=n(771).default,i.fetch().done((function(){var e;return e=new r({collection:i}),t.layout.showChildView("content",e),(0,c.default)()}))}.bind(null,n)).catch(n.oe)}},{key:"viewBlogPix",value:function(e){var t=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(3),n.e(14)]).then(function(){var r,i,u;return u=e+".tumblr.com",i=o.request("make-pix-collection",u),window.pix=i,r=n(772).default,i.getFirstPage().done((function(){var e;return e=new r({collection:i}),t.layout.showChildView("content",e),(0,c.default)()}))}.bind(null,n)).catch(n.oe)}},{key:"addNewBlog",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(2),n.e(13)]).then(function(){var t;return t=new(0,n(773).default),e.layout.showChildView("content",t),(0,c.default)()}.bind(null,n)).catch(n.oe)}},{key:"settingsPage",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(2),n.e(16)]).then(function(){var t;return t=new(0,n(791).default)({model:o.request("get_app_settings")}),e.layout.showChildView("content",t),(0,c.default)()}.bind(null,n)).catch(n.oe)}}]),t}(s.MainController),t.default=r},700:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoPostCollection=void 0;var o,r,i,u,a,l,c,s,f,p,h,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),y=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0},v=(g(n(31)),n(2)),b=g(n(442)),w=n(594),_=n(702),m=g(n(703));function g(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}c=v.Radio.channel("global"),o=v.Radio.channel("bumblr"),f=c.request("main:app:dbConn","bumblr"),s="//api.tumblr.com/v2",u=function(){var e=function(e){function t(){return O(this,t),P(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,e),d(t,[{key:"url",value:function(){return this.baseURL+"/blog/"+this.blogName+"/posts/photo?api_key="+this.apiKey}},{key:"fetch",value:function(e){return e||(e={}),e.dataType="jsonp",y(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fetch",this).call(this,e)}},{key:"parse",value:function(e){var n;return console.log("PARSE",e),n=e.response.total_posts,this.state.totalRecords=n,y(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).call(this,e.response.posts)}}]),t}(b.default);return e.prototype.mode="server",e.prototype.full=!0,e.prototype.baseURL=s,e.prototype.state={firstPage:0,pageSize:15},e.prototype.queryParams={pageSize:"limit",offset:function(){return this.state.currentPage*this.state.pageSize}},e}.call(void 0),r=function(){var e=function(e){function t(){return O(this,t),P(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,e),t}(v.Model);return e.prototype.baseURL=s,e}.call(void 0),i=function(e){function t(){return O(this,t),P(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,e),d(t,[{key:"url",value:function(){return this.baseURL+"/blog/"+this.id+"/info?api_key="+this.apiKey+"&callback=?"}}]),t}(r);t.PhotoPostCollection=function(e){function t(){return O(this,t),P(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,e),d(t,[{key:"url",value:function(){return s+"/"+this.id+"/posts/photo?callback=?"}}]),t}(v.Collection);a=function(){var e=function(e){function t(){return O(this,t),P(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,e),t}(m.default);return e.prototype.id="bumblr_settings",e}.call(void 0),h=new a,o.reply("get_app_settings",(function(){return h})),h.get("consumer_key")||(console.log("saving initial app settings"),h.set("consumer_key","4mhV8B1YQK6PUA2NW8eZZXVHjU55TPJ3UZnZGrbSoCnqJaxDyH"),h.save()),new w.LoveStore(f,"Blog"),l=function(){var e=function(e){function t(){return O(this,t),P(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,e),d(t,[{key:"addBlog",value:function(e){var t,n,o=this;return n=e+".tumblr.com",(t=new this.model({id:n,name:e})).apiKey=h.get("consumer_key"),this.add(t),t.fetch().done((function(){return o.save()})),t}}]),t}(_.BaseLocalStorageCollection);return e.prototype.model=i,e}.call(void 0),o.reply("make-blog-post-collection",(function(e){var t,n;return t=h.get("consumer_key"),(n=new u).apiKey=t,n.blogName=e,n})),o.reply("make-pix-collection",(function(e){var t,n;return t=h.get("consumer_key"),(n=new u).state={firstPage:0,pageSize:1},n.apiKey=t,n.blogName=e,n})),p=new l({apiKey:h.get("consumer_key")}),o.reply("get-local-blogs",(function(){return p}))},716:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BumblrDashboardView=t.MainBumblrView=void 0;var o,r=n(7),i=n(34),u=(o=i)&&o.__esModule?o:{default:o};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.MainBumblrView=function(){var e=function(e){function t(){return a(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,e),t}(r.View);return e.prototype.template=u.default.renderable((function(){return u.default.p("main bumblr view")})),e}.call(void 0),t.BumblrDashboardView=function(){var e=function(e){function t(){return a(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,e),t}(r.View);return e.prototype.template=u.default.renderable((function(){return u.default.p("bumblr_dashboard_view")})),e}.call(void 0)},717:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=c(n(154)),a=c(n(586)),l=c(n(718));function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=[{label:"Main",url:"#crown",icon:".fa.fa-star"},{label:"CoH Calendar",url:"#crown/calendar/coh",icon:".fa.fa-calendar"},{label:"Events",url:"#crown/events",icon:".fa.fa-calendar"},{label:"Subtopics",url:"#crown/topics",icon:".fa.fa-globe"}],r=function(){var e=function(e){function t(){return s(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),t}(u.default);return e.prototype.channelName="crown",e.prototype.appRoutes={crown:"viewIndex","crown/rss":"viewRSS","crown/calendar/coh":"viewCoHCalendar","crown/calendar/news":"viewNewsCalendar","crown/events":"viewEvents","crown/topics":"viewTopics"},e}.call(void 0),o=function(){var e=function(e){function t(){return s(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),t}(a.default);return e.prototype.Controller=l.default,e.prototype.Router=r,e.prototype.appletEntries=[{label:"App Menu",menu:i}],e}.call(void 0),t.default=o},718:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(2),f=(n(630),n(587)),p=n(588),h=y(n(153)),d=y(n(631));function y(e){return e&&e.__esModule?e:{default:e}}n(719),i=s.Radio.channel("global"),o=s.Radio.channel("crown"),a=h.default.eventIndex,u=h.default.cvlinks,l={events:new d.default,topics:new d.default},o.reply("get-event-manager",(function(e){return l[e]})),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(21)]).then(function(){var t;return t=new(0,n(792).default)({model:u}),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"viewRSS",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(4),n.e(23)]).then(function(){var t;return t=new(0,n(795).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"viewCoHCalendar",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(8),n.e(20)]).then(function(){var t,o;return o=i.request("main:app:get-events","coh-orders"),t=n(797).default,o.fetch().done((function(){var n;return n=new t({model:o}),e.layout.showChildView("content",n)}))}.bind(null,n)).catch(n.oe)}},{key:"viewNewsCalendar",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(8),n.e(22)]).then(function(){var t;return t=new(0,n(802).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"viewEvents",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(3),n.e(9),n.e(6)]).then(function(){var t;return t=new(0,n(677).default)({model:a}),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"viewTopics",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(3),n.e(9),n.e(6)]).then(function(){var t;return t=new(0,n(677).default)({model:a}),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}}]),t}(f.MainController);return e.prototype.channelName="crown",e.prototype.layoutClass=p.ToolbarAppletLayout,e}.call(void 0),t.default=r},719:function(e,t,n){"use strict";var o,r=n(2),i=n(153),u=(o=i)&&o.__esModule?o:{default:o};r.Radio.channel("crown").reply("get-index-model",(function(e){return u.default[e]}))},720:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=s(n(586)),a=s(n(619)),l=s(n(154)),c=s(n(728));function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=[{label:"Main",url:"#eliza",icon:".fa.fa-terminal.text-light.bg-dark"}],r=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),t}(l.default);return e.prototype.channelName="eliza",e.prototype.appRoutes={eliza:"viewIndex"},e}.call(void 0),o=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),t}(u.default);return e.prototype.Controller=c.default,e.prototype.Router=r,e.prototype.appletEntries=[{label:(0,a.default)("eliza")+" Menu",menu:i}],e}.call(void 0),t.default=o},728:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(587),u=n(588);o=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(1),n.e(53),n.e(24)]).then(function(){var t;return t=new(0,n(804).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}}]),t}(i.MainController);return e.prototype.layoutClass=u.ToolbarAppletLayout,e}.call(void 0),t.default=o},729:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=c(n(154)),a=c(n(586)),l=c(n(730));function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=[{label:"Index",url:"#crown",icon:".fa.fa-list"},{label:"dbAdmin",url:"#frontdoor/dbadmin",icon:".fa.fa-database"},{label:"moviedb",url:"#moviedb",icon:".fa.fa-video-camera"},{label:"tvmaze",url:"#tvmaze",icon:".fa.fa-television"},{label:"Internet Archive",url:"#netark",icon:".fa.fa-wrench"},{label:"Eliza",url:"#eliza",icon:".fa.fa-terminal"},{label:"Topic Colors",url:"#frontdoor/topic-colors",icon:".fa.fa-palette"}],r=function(){var e=function(e){function t(){return s(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),t}(u.default);return e.prototype.appRoutes={"":"viewIndex",frontdoor:"viewIndex","pages/*name":"viewPage","frontdoor/dbadmin":"viewDbAdmin","frontdoor/topic-colors":"viewTopicColors"},e}.call(void 0),o=function(){var e=function(e){function t(){return s(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),t}(a.default);return e.prototype.Controller=l.default,e.prototype.Router=r,e.prototype.appletEntries=[{label:"Main Menu",menu:i}],e}.call(void 0),console.log("frontdoor.main imported"),t.default=o},730:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l,c,s,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=n(2),h=_(n(633)),d=n(587),y=n(588),v=_(n(605)),b=_(n(631)),w=n(731);function _(e){return e&&e.__esModule?e:{default:e}}i=p.Radio.channel("global"),u=p.Radio.channel("messages"),o=p.Radio.channel("frontdoor"),l=[],c=new p.Collection(l),o.reply("get-toolbar-entries",(function(){return c})),a=new b.default,o.reply("get-event-manager",(function(){return a})),(s=new w.ConfigObjectModel).fetch().then((function(){return i.reply("get-topic-colors",(function(){return s})),(0,w.updateTopicColors)()})),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),f(t,[{key:"setupLayoutIfNeeded",value:function(){var e;(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupLayoutIfNeeded",this).call(this),e=new h.default({collection:c}),this.layout.showChildView("toolbar",e)}},{key:"start",value:function(){this.viewIndex()}},{key:"_viewResource",value:function(e,t){var o=this;return Promise.all([n.e(1),n.e(4),n.e(26)]).then(function(){var r;return r=new(0,n(844).default)({model:e,pageName:t}),o.layout.showChildView("content",r),(0,v.default)()}.bind(null,n)).catch(n.oe)}},{key:"viewPage",value:function(e){var t,n,o=this;this.setupLayoutIfNeeded(),(n=(t=i.request("main:app:get-document",e)).fetch()).done((function(){o._viewResource(t,e)})),n.fail((function(){u.request("danger","Failed to get document")}))}},{key:"view_index",value:function(){var e;return this.setupLayoutIfNeeded(),0^e}},{key:"viewIndex",value:function(){this.viewPage("blog/cv19/index")}},{key:"themeSwitcher",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(27).then(function(){var t;return t=new(n(850)),e.layout.showChildView("content",t),(0,v.default)()}.bind(null,n)).catch(n.oe)}},{key:"viewDbAdmin",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(25)]).then(function(){var t;return t=new(0,n(851).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"viewTopicColors",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(7),n.e(28)]).then(function(){var t,o;return t=n(853).default,(o=new w.ConfigObjectModel).fetch().then((function(){var n;return o.get("content")?(n=new t({model:o}),e.layout.showChildView("content",n)):(0,w.initTopicColors)().then((function(){return n=new t({model:o}),e.layout.showChildView("content",n),window.location.reload()}))}))}.bind(null,n)).catch(n.oe)}}]),t}(d.MainController);return e.prototype.layoutClass=y.ToolbarAppletLayout,e}.call(void 0),t.default=r},731:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateTopicColors=t.initTopicColors=t.ConfigObjectCollection=t.ConfigObjectModel=void 0;var o,r,i,u,a=h(n(664)),l=h(n(733)),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(2),f=n(594),p=h(n(153));function h(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=s.Radio.channel("global").request("main:app:dbConn","common"),r=new f.LoveStore(i,"ConfigObject"),u=p.default.eventIndex,o=["id","name","content"];var b=t.ConfigObjectModel=function(){var e=function(e){function t(){return d(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),c(t,[{key:"toJSON",value:function(){var e,t=this;return e={},o.forEach((function(n){return e[n]=t.get(n)})),e}}]),t}(s.Model);return e.prototype.loveStore=r,e}.call(void 0);t.ConfigObjectCollection=function(){var e=function(e){function t(){return d(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),t}(s.Collection);return e.prototype.loveStore=r,e.prototype.model=b,e}.call(void 0),t.initTopicColors=function(){var e,t,n,o,r;for(n in o=new b({name:"topic-colors",content:{}}),e=u.get("topics"),r=o.get("content"),e)t={id:n,name:n,value:"SkyBlue"},r[n]=t;return o.set("content",r),o.save()},t.updateTopicColors=function(){var e,t;return e=u.get("topics"),(t=new b).fetch().then((function(){var n,o,r,i;for(o in i=t.get("content"),r=(0,l.default)(i),e)(0,a.default)(r,o)||(n={id:o,name:o,value:"SkyBlue"},i[o]=n);return t.set("content",i),t.save()}))}},743:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(154)),r=s(n(586)),i=s(n(619));n(744);var u,a,l,c=s(n(745));function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}l=[{label:"List",url:"#netark",icon:".fa.fa-list"},{label:"SciFi Movies",url:"#netark/scifi/list",icon:".fa.fa-film"},{label:"Search",url:"#netark/search",icon:".fa.fa-search"}],a=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),t}(o.default);return e.prototype.channelName="netark",e.prototype.appRoutes={netark:"viewIndex","netark/otrr/list":"listOtrr","netark/librivox/list":"listLibrivox","netark/scifi/list":"listSciFiMovies","netark/misc/list":"listMiscStuff","netark/view/:id":"viewMetadata","netark/search":"searchView"},e}.call(void 0),u=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),t}(r.default);return e.prototype.Controller=c.default,e.prototype.Router=a,e.prototype.appletEntries=[{label:(0,i.default)("netark")+" Menu",menu:l}],e}.call(void 0),t.default=u},744:function(e,t,n){"use strict";var o,r,i,u,a,l,c,s=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=n(2),h=n(442),d=(o=h)&&o.__esModule?o:{default:o};function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(31),r=p.Radio.channel("netark"),l=function(e,t){var n,o;return o=t.server,n=t.dir,"/api/dev/proxy/","/api/dev/proxy/"+btoa("https://"+o+n+"/"+e)},c=function(e,t){return"//"+t.server+t.dir+"/"+e},i=function(){var e=function(e){function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),f(t,[{key:"fileUrl",value:function(e){return l(e,this.toJSON())}}]),t}(p.Model);return e.prototype.urlRoot="https://archive.org/metadata",e}.call(void 0),r.reply("get-file-url",(function(e,t){return l(e,t)})),r.reply("get-image-url",(function(e,t){return c(e,t)})),r.reply("get-metadata-model",(function(){return i})),u=function(){var e=function(e){function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),f(t,[{key:"parse",value:function(e){return console.log("PARSE",e),null===this.state.totalRecords&&(this.state.totalRecords=e.total,this._checkState(this.state)),console.log("totalRecords",this.state.totalRecords),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).call(this,e.items)}}]),t}(d.default);return e.prototype.mode="server",e.prototype.url="/api/dev/proxy/https://archive.org/services/search/v1/scrape",e.prototype.state={pageSize:100},e.prototype.queryParams={pageSize:"count"},e}.call(void 0),r.reply("Scraper",(function(){return u})),a=function(){var e=function(e){function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),f(t,[{key:"parse",value:function(e){return console.log("PARSE",e),null===this.state.totalRecords&&(this.state.totalRecords=e.response.numFound,this._checkState(this.state)),console.log("totalRecords",this.state.totalRecords),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).call(this,e.response.docs)}}]),t}(d.default);return e.prototype.mode="server",e.prototype.url="/api/dev/proxy/https://archive.org/advancedsearch.php",e.prototype.state={pageSize:20,firstPage:1},e.prototype.queryParams={pageSize:"rows",output:"json",q:function(){return this.query}},e}.call(void 0),r.reply("SearchResults",(function(){return a}))},745:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(2),a=n(587),l=n(588);o=u.Radio.channel("netark"),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(33).then(function(){var t;return t=new(0,n(875).default),e.layout.showChildView("content",t),e.scrollTop()}.bind(null,n)).catch(n.oe)}},{key:"listOtrr",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(36).then(function(){var t;return t=new(0,n(878).default),e.layout.showChialdView("content",t),e.scrollTop()}.bind(null,n)).catch(n.oe)}},{key:"listLibrivox",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(36).then(function(){var t;return t=new(0,n(882).default),e.layout.showChildView("content",t),e.scrollTop()}.bind(null,n)).catch(n.oe)}},{key:"listSciFiMovies",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(37).then(function(){var t;return t=new(0,n(886).default),e.layout.showChildView("content",t),e.scrollTop()}.bind(null,n)).catch(n.oe)}},{key:"listMiscStuff",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(35).then(function(){var t;return t=new(0,n(892).default),e.layout.showChildView("content",t),e.scrollTop()}.bind(null,n)).catch(n.oe)}},{key:"searchView",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(2),n.e(32)]).then(function(){var t;return t=new(0,n(894).default),e.layout.showChildView("content",t),e.scrollTop()}.bind(null,n)).catch(n.oe)}},{key:"viewMetadata",value:function(e){var t,r=this;return this.setupLayoutIfNeeded(),t=o.request("get-metadata-model"),Promise.all([n.e(0),n.e(34)]).then(function(){var o,i;return o=n(895),i=new t({id:e}),console.log("model---",i),i.fetch().done((function(){var e;return console.log("MODEL----------\x3e",i),e=new o({model:i}),r.layout.showChildView("content",e),r.scrollTop()}))}.bind(null,n)).catch(n.oe)}}]),t}(a.MainController);return e.prototype.layoutClass=l.ToolbarAppletLayout,e}.call(void 0),t.default=r},746:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=s(n(665)),a=s(n(154)),l=s(n(586)),c=s(n(754));function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=[{label:"Main",url:"#pmc",icon:".fa.fa-star"},{label:"Site Topics",url:"#pmc/topics/site",icon:".fa.fa-sitemap"},{label:"manageTopics",url:"#pmc/topics/manage",icon:".fa.fa-sitemap"},{label:"Search PMC",url:"#pmc/search/pmc",icon:".fa.fa-sitemap"},{label:"Import Site PMC",url:"#pmc/import/site",icon:".fa.fa-sitemap"}],r=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),t}(a.default);return e.prototype.channelName="pmc",e.prototype.appRoutes={pmc:"viewIndex","pmc/topics/site":"viewSiteTopics","pmc/topics/manage":"manageTopics","pmc/search/pmc":"viewSearchPMC","pmc/view/:id":"viewPMCArticle","pmc/import/site":"importSite"},e}.call(void 0),o=function(){var e=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),t}(l.default);return e.prototype.Controller=c.default,e.prototype.Router=r,e.prototype.appletEntries=[{label:(0,u.default)("pmc")+" Menu",menu:i}],e}.call(void 0),t.default=o},754:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(2),c=n(587),s=n(588),f=n(631),p=(o=f)&&o.__esModule?o:{default:o},h=n(153),d=n(634);n(757),r=l.Radio.channel("pmc"),u=new p.default,r.reply("get-event-manager",(function(){return u})),i=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(5),n.e(39)]).then(function(){var t;return t=n(896).default,r.request("get-fm-collection").fetch().done((function(){var n;return n=new t({model:h.eventIndex}),e.layout.showChildView("content",n)}))}.bind(null,n)).catch(n.oe)}},{key:"manageTopics",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(42)]).then(function(){var t;return t=new(0,n(898).default)({model:h.eventIndex}),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"viewSiteTopics",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(42)]).then(function(){var t;return t=new(0,n(899).default)({model:h.eventIndex}),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"viewSearchPMC",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(5),n.e(41)]).then(function(){var t;return t=n(901).default,r.request("get-fm-collection").fetch().done((function(){var n;return n=new t({model:h.eventIndex}),e.layout.showChildView("content",n)}))}.bind(null,n)).catch(n.oe)}},{key:"viewPMCArticle",value:function(e){var t=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(5),n.e(40)]).then(function(){var o,r;return o=n(902).default,(r=new d.FrontMatterModel({id:e})).fetch().done((function(){var e;return e=new o({model:r}),t.layout.showChildView("content",e)}))}.bind(null,n)).catch(n.oe)}},{key:"importSite",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(5),n.e(38)]).then(function(){var t;return t=new(0,n(903).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}}]),t}(c.MainController);return e.prototype.channelName="pmc",e.prototype.layoutClass=s.ToolbarAppletLayout,e}.call(void 0),t.default=i},757:function(e,t,n){"use strict";n(634),n(758),n(670)},758:function(e,t,n){"use strict";var o,r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=s(n(0)),a=n(2),l=s(n(621)),c=s(n(635));function s(e){return e&&e.__esModule?e:{default:e}}o=a.Radio.channel("pmc"),r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"url",value:function(){var e,t;return e={db:"pmc",term:this.get("term"),tool:"jquery",email:"joseph.rawson.works@gmail.com"},"https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi",t="https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?"+l.default.stringify(e),t}},{key:"parse",value:function(e){return(new c.default).xml2js(e)}},{key:"fetch",value:function(e){return e=u.default.extend(e||{},{dataType:"text"}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fetch",this).call(this,e)}}]),t}(a.Model),o.reply("make-search-model",(function(e){return new r({term:e})}))},759:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});h(n(31));var o,r,i,u,a,l=h(n(2)),c=(h(n(7)),h(n(154))),s=h(n(586)),f=h(n(619)),p=h(n(760));h(n(764));function h(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}l.default.Radio.channel("global"),o=l.default.Radio.channel("tvmaze"),u=[{label:"List Shows",url:"#tvmaze/shows",icon:".fa.fa-list"},{label:"Search Show",url:"#tvmaze/searchshow",icon:".fa.fa-search"},{label:"Import Sample Data",url:"#tvmaze/import-sample-data",icon:".fa.fa-download"},{label:"Calendar",url:"#tvmaze/calendar",icon:".fa.fa-calendar"}],i=function(){var e=function(e){function t(){return d(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),t}(c.default);return e.prototype.appRoutes={tvmaze:"viewIndex","tvmaze/searchshow":"viewSearchShow","tvmaze/shows":"viewShowList","tvmaze/shows/flat":"viewShowListFlat","tvmaze/shows/view/:id":"viewShow","tvmaze/import-sample-data":"importSampleData","tvmaze/calendar":"viewCalendar"},e}.call(void 0),r=function(){var e=function(e){function t(){return d(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),t}(s.default);return e.prototype.Controller=p.default,e.prototype.Router=i,e.prototype.appletEntries=[{label:(0,f.default)("tvmaze")+" Menu",menu:u},{label:"List Shows",url:"#tvmaze/shows"}],e}.call(void 0),a=void 0,o.reply("maincalendar:set-date",(function(e){return a=e.fullCalendar("getDate")})),o.reply("maincalendar:get-date",(function(){return a})),t.default=r},760:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=c(n(2)),a=(c(n(7)),c(n(34)),c(n(616)),c(n(633)),n(587)),l=n(588);c(n(429));function c(e){return e&&e.__esModule?e:{default:e}}n(761),n(605),u.default.Radio.channel("global"),u.default.Radio.channel("messages"),u.default.Radio.channel("resources"),o=u.default.Radio.channel("tvmaze"),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(1),n.e(2),n.e(45)]).then(function(){var t,r,i;return i=o.request("get-local-tvshows"),t=o.request("tv-show-search-collection"),r=n(906),i.fetch().then((function(){var n;return n=new r({collection:new t}),e.layout.showChildView("content",n)}))}.bind(null,n)).catch(n.oe)}},{key:"viewShowList",value:function(){return this.viewShowListCards()}},{key:"viewShowListCards",value:function(){var e,t=this;return this.setupLayoutIfNeeded(),e=o.request("get-local-tvshows"),Promise.all([n.e(1),n.e(48)]).then(function(){var o;return o=n(910),t._loadView(o,e,"tvshow")}.bind(null,n)).catch(n.oe)}},{key:"viewShowListPackery",value:function(){var e,t=this;return this.setupLayoutIfNeeded(),e=o.request("get-local-tvshows"),Promise.all([n.e(1),n.e(3),n.e(58),n.e(51)]).then(function(){var o;return o=n(911),t._loadView(o,e,"tvshow")}.bind(null,n)).catch(n.oe)}},{key:"viewShowListMasonry",value:function(){var e,t=this;return this.setupLayoutIfNeeded(),e=o.request("get-local-tvshows"),Promise.all([n.e(1),n.e(3),n.e(50)]).then(function(){var o;return o=n(916),t._loadView(o,e,"tvshow")}.bind(null,n)).catch(n.oe)}},{key:"viewShowListFlat",value:function(){var e,t=this;return this.setupLayoutIfNeeded(),e=o.request("get-local-tvshows"),window.tvshows=e,Promise.all([n.e(1),n.e(49)]).then(function(){var o;return o=n(917),e.fetch().done((function(){var n;return n=new o({collection:e}),t.layout.showChildView("content",n)}))}.bind(null,n)).catch(n.oe)}},{key:"viewSearchShow",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(1),n.e(2),n.e(47)]).then(function(){var t;return t=new(n(918)),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"viewShow",value:function(e){var t=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(0),n.e(1),n.e(2),n.e(46)]).then(function(){var r,i;return r=n(919),i=new(o.request("get-local-tvshow-model"))({id:e}),t._loadView(r,i,"tvshow")}.bind(null,n)).catch(n.oe)}},{key:"importSampleData",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(1),n.e(43)]).then(function(){var t,r;return r=o.request("get-all-local-tvshows"),o.request("tv-show-search-collection"),t=n(921).default,r.fetch().then((function(){var n;return n=new t,e.layout.showChildView("content",n)}))}.bind(null,n)).catch(n.oe)}},{key:"viewCalendar",value:function(){var e=this;return this.setupLayoutIfNeeded(),Promise.all([n.e(4),n.e(57),n.e(44)]).then(function(){var t,r;return r=o.request("get-local-tvshows"),o.request("tv-show-search-collection"),t=n(923),r.fetch().then((function(){var n;return n=new t,e.layout.showChildView("content",n)}))}.bind(null,n)).catch(n.oe)}}]),t}(a.MainController);return e.prototype.layoutClass=l.ToolbarAppletLayout,e}.call(void 0),t.default=r},761:function(e,t,n){"use strict";var o,r,i,u,a,l,c,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=(p(n(31)),p(n(2)));n(594),p(n(442));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(762),n(763),f.default.Radio.channel("global"),o=f.default.Radio.channel("tvmaze"),c="//api.tvmaze.com",l=function(e){function t(){return h(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,e),s(t,[{key:"url",value:function(){var e;return e=this.searchName,c+"/singlesearch/shows?q="+e}}]),t}(f.default.Model),o.reply("single-show-search",(function(e){var t;return(t=new l).searchName=e,t})),a=function(e){function t(){return h(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,e),s(t,[{key:"url",value:function(){return c+"/search/shows"}}]),t}(f.default.Collection),o.reply("new-tv-show-search",(function(e){return new a(e=e||{})})),o.reply("tv-show-search-collection",(function(){return a})),o.reply("search-tv-shows",(function(e){return new a})),u=function(e){function t(){return h(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,e),s(t,[{key:"urlRoot",value:function(){return c+"/shows"}}]),t}(f.default.Model),o.reply("get-remote-show",(function(e){return new u({id:e})})),r=function(e){function t(){return h(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,e),s(t,[{key:"url",value:function(){return this.get("_links").self.href}}]),t}(f.default.Model),i=function(){var e=function(e){function t(){return h(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,e),s(t,[{key:"url",value:function(){return c+"/shows/"+this.showId+"/episodes"}}]),t}(f.default.Collection);return e.prototype.model=r,e}.call(void 0),o.reply("get-remote-episodes",(function(e){var t;return(t=new i).showId=e,t}))},762:function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p,h=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=b(n(2)),y=n(594),v=b(n(442));function b(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a=d.default.Radio.channel("global"),r=d.default.Radio.channel("tvmaze"),s=a.request("main:app:dbConn","tvmaze"),l=new y.LoveStore(s,"TVMazeShow"),p=["id","name","url","self","premiered","runtime","network_name","imdb","status","summary","img_med","img_orig","content"],i=function(){var e=function(e){function t(){return w(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,e),h(t,[{key:"toJSON",value:function(){var e,t=this;return e={},p.forEach((function(n){return e[n]=t.get(n)})),e}}]),t}(d.default.Model);return e.prototype.loveStore=l,e}.call(void 0),u=function(){var e=function(e){function t(){return w(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,e),t}(v.default);return e.prototype.loveStore=l,e.prototype.model=i,e.prototype.mode="client",e}.call(void 0),o=function(){var e=function(e){function t(){return w(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,e),t}(d.default.Collection);return e.prototype.loveStore=l,e.prototype.model=i,e}.call(void 0),c=new o,f=new u,r.reply("get-all-local-tvshows",(function(){return c})),r.reply("get-local-tvshows",(function(){return f})),r.reply("get-local-tvshow-model",(function(){return i})),r.reply("get-local-tvshow-collection",(function(){return u})),r.reply("save-local-show",(function(e){var t,n,o,r,u,a;return t=new i({id:e.id,name:e.name,url:e.url,self:e._links.self.href,premiered:new Date(e.premiered),runtime:(null!=e?e.runtime:void 0)||"",network_name:(null!=e&&null!=(n=e.network)?n.name:void 0)||"NO NETWORK",imdb:(null!=(o=e.externals)?o.imdb:void 0)||"",status:(null!=e?e.status:void 0)||"",summary:(null!=e?e.summary:void 0)||"",img_med:(null!=e&&null!=(r=e.image)?r.medium:void 0)||"",img_orig:(null!=e&&null!=(u=e.image)?u.original:void 0)||"",content:e}),a=!0,t.isNew=function(){return!!a&&(a=!1,!0)},f.add(t),t.save()}))},763:function(e,t,n){"use strict";var o,r,i,u,a,l,c,s,f,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),h=n(2),d=(o=h)&&o.__esModule?o:{default:o},y=n(594);function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a=d.default.Radio.channel("global"),r=d.default.Radio.channel("tvmaze"),c=a.request("main:app:dbConn","tvmaze"),l=new y.LoveStore(c,"TVMazeEpisode"),s=["id","show_id","name","url","self","season","number","airdate","airtime","runtime","summary","img_med","img_orig","content"],i=function(){var e=function(e){function t(){return v(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,e),p(t,[{key:"toJSON",value:function(){var e,t=this;return e={},s.forEach((function(n){return e[n]=t.get(n)})),e}}]),t}(d.default.Model);return e.prototype.loveStore=l,e}.call(void 0),u=function(){var e=function(e){function t(){return v(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,e),t}(d.default.Collection);return e.prototype.loveStore=l,e.prototype.model=i,e}.call(void 0),f=new u,r.reply("get-local-episodes",(function(){return f})),r.reply("get-local-episode-model",(function(){return i})),r.reply("get-local-episode-collection",(function(){return u})),r.reply("save-local-episode",(function(e){var t,n,o,r,u,a,l,c,s;return t=new i({id:e.id,show_id:e.show_id,name:e.content.name,url:e.content.url,self:null!=(n=e.content._links)?n.self.href:void 0,season:e.content.season,number:e.content.number,airdate:new Date(e.content.airdate),airtime:e.content.airtime,runtime:(null!=(o=e.content)?o.runtime:void 0)||"",summary:(null!=(r=e.content)?r.summary:void 0)||"",img_med:(null!=(u=e.content)&&null!=(a=u.image)?a.medium:void 0)||"",img_orig:(null!=(l=e.content)&&null!=(c=l.image)?c.original:void 0)||"",content:e.content}),s=!0,t.isNew=function(){return!!s&&(s=!1,!0)},f.add(t),t.save()}))},764:function(e,t,n){e.exports=function(){return new Worker(n.p+"776424420a2183f00fea.worker.js")}},765:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=f(n(665)),a=n(2),l=f(n(154)),c=f(n(586)),s=f(n(766));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a.Radio.channel("global"),a.Radio.channel("xyzzy"),i=[{label:"Main",url:"#xyzzy",icon:".fa.fa-star"}],r=function(){var e=function(e){function t(){return p(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),t}(l.default);return e.prototype.channelName="xyzzy",e.prototype.appRoutes={xyzzy:"makeRedirect","xyzzy/go/:name":"viewRedirect","xyzzy/create":"makeRedirect"},e}.call(void 0),o=function(){var e=function(e){function t(){return p(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),t}(c.default);return e.prototype.Controller=s.default,e.prototype.Router=r,e.prototype.appletEntries=[{label:(0,u.default)("xyzzy")+" Menu",menu:i}],e}.call(void 0),t.default=o},766:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(2),u=n(630),a=n(587),l=n(588);i.Radio.channel("global"),i.Radio.channel("messages"),i.Radio.channel("xyzzy"),o=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"viewIndex",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(60).then(function(){var t;return t=new(0,n(927).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"viewRedirect",value:function(e){var t=this;return this.setupLayoutIfNeeded(),n.e(61).then(function(){var o;return o=new(0,n(928).default)({model:new i.Model({url:atob((0,u.decode)(e))})}),t.layout.showChildView("content",o)}.bind(null,n)).catch(n.oe)}},{key:"makeRedirect",value:function(){var e=this;return this.setupLayoutIfNeeded(),n.e(59).then(function(){var t;return t=new(0,n(929).default),e.layout.showChildView("content",t)}.bind(null,n)).catch(n.oe)}},{key:"viewRedirectAuto",value:function(e){var t;return t=atob(e),console.log("URL IS",t),window.open(t,"_blank")}}]),t}(a.MainController);return e.prototype.channelName="xyzzy",e.prototype.layoutClass=l.ToolbarAppletLayout,e}.call(void 0),t.default=o}}]);
//# sourceMappingURL=12-33107e83a93e4a8f6b15.js.map