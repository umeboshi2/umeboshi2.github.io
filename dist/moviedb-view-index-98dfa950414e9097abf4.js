(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{131:function(e,t,n){},132:function(e,t,n){e.exports=n.p+"281f6d241d2971b514806517d5b9dd84.svg"},133:function(e,t){e.exports="You can **search** for a TV show, or choose from this \n<a href=\"#pages/sample-moviedb-tvshows\" class='sample-list-anchor'>list:</a>\n\n"},142:function(e,t,n){var i,o,r,a,s,l,c,u,d,h;i=n(4),o=n(2),a=n(3),h=n(0),n(58),n(57),window.jQuery=i,n(141),n(137),n(135),n(134),c=n(14).default,u=n(46).default,r=n(82).default,o.Radio.channel("messages"),o.Radio.channel("tvmaze"),d=h.renderable(function(e){return h.div(".media.listview-list-entry",function(){var t;return(null!=e?e.poster_path:void 0)?(t=`https://image.tmdb.org/t/p/w200${e.poster_path}`,h.img(".mr-3",{src:t})):u("5x"),h.div(".media-body",function(){var t,n;return h.h3(".mt-0",e.name),"Invalid Date"!==(n=new Date(e.first_air_date).toDateString())&&h.h4(`Premiered: ${n}`),"Invalid Date"!==(t=new Date(e.last_air_date).toDateString())&&h.h4(`Ended: ${t}`),h.input(".rating",{type:"number",style:"display:none",value:e.vote_average}),h.p(e.overview),h.button(".select-show.btn.btn-primary",{style:"display:none"},"Select this show")})})}),l=function(){class e extends a.View{inLocalCollection(){var e;return e=this.model.toJSON().show.id,this.getOption("localCollection").get(e)}onRender(){return this.ui.selectShow.show(),this.model.get("vote_average"),this.ui.rating.rating({min:1,max:10,theme:"krajee-fa",readonly:!0,size:"xs"})}handleImageHover(){return this.ui.mainImage.css({cursor:"pointer"})}selectShow(){var e;return e=this.model.toJSON().id,c(`#moviedb/tv/shows/view/${e}`)}}return e.prototype.template=d,e.prototype.ui={selectShow:".select-show",rating:".rating"},e.prototype.events={"click @ui.selectShow":"selectShow"},e}.call(this),s=function(){class e extends a.View{onRender(){var e;return this.ui.header.hide(),e=new a.CollectionView({collection:this.collection,childView:l,childViewOptions:{localCollection:new o.Collection}}),this.showChildView("itemList",e)}}return e.prototype.template=h.renderable(function(e){return h.div(".listview-header",function(){return h.text("Matched TV Shows")}),h.div(".show-list")}),e.prototype.ui={header:".listview-header",itemList:".show-list"},e.prototype.regions={itemList:"@ui.itemList"},e.prototype.behaviors={HasHeader:{behaviorClass:r}},e}.call(this),e.exports=s},143:function(e,t,n){var i,o,r,a,s,l,c,u=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};n(4),n(7),i=n(2),n(3),c=n(0),n(44),n(64),o=n(49).default,n(14).default,({form_group_input_div:s}=n(43)),r=i.Radio.channel("messages"),i.Radio.channel("moviedb"),l=c.renderable(function(){return s({input_id:"input_show",label:"TV Show",input_attributes:{name:"tv_show",placeholder:"Enter a tv show"}}),c.input(".submit-btn.btn.btn-primary.btn-sm",{type:"submit",value:"Search"}),c.div(".spinner.fa.fa-spinner.fa-spin.text-primary")}),a=function(){class e extends o{constructor(){super(...arguments),this.autoClickSubmit=this.autoClickSubmit.bind(this)}createModel(){return new i.Model}updateModel(){return this.tvshow=this.ui.tvShow.val(),this.model.set("tvshow",this.tvshow)}saveModel(){var e;return this.collection.queryParams.query=this.tvshow,(e=this.collection.fetch()).done(()=>(console.log("saveModel response",e,this.collection),this.trigger("save:form:success",this.model))),e.fail(()=>(r.request("warning",`${this.tvshow} not found.`),this.trigger("save:form:failure",this.model)))}autoClickSubmit(){return u(this,e),this.ui.submitButton.click(),console.log("Submit clicked")}}return e.prototype.template=l,e.prototype.ui={tvShow:'[name="tv_show"]',submitButton:".submit-btn"},e}.call(this),e.exports=a},144:function(e,t,n){"use strict";n.r(t);var i,o,r,a,s=n(2),l=n.n(s),c=n(3),u=n.n(c),d=n(0),h=n.n(d);o=l.a.Radio.channel("messages"),a=h.a.renderable(function(e){return h.a.h3(".modal-title",function(){return h.a.text("Do you really want to delete this?")}),h.a.button(".close",{type:"button",data:{dismiss:"modal"}},function(){return h.a.span({"aria-hidden":"true"},function(){return h.a.raw("&times")})})}),r=h.a.renderable(function(e){return h.a.div()}),i=h.a.renderable(function(e){return h.a.div(".modal-content",function(){return h.a.div(".modal-header",function(){return(e.headerTemplate||a)(e)}),h.a.div(".modal-body",function(){return(e.modalBodyTemplate||r)(e)}),h.a.div(".modal-footer",function(){return h.a.button(".confirm-delete.btn.btn-primary",{type:"button",data:{dismiss:"modal"}},function(){return h.a.i(".fa.fa-check"),h.a.text("OK")}),h.a.button(".cancel-delete.btn.btn-danger",{type:"button",data:{dismiss:"modal"}},function(){return h.a.i(".fa.fa-close"),h.a.text("Cancel")})})})}),t.default=function(){class e extends u.a.View{events(){return{"click @ui.confirmDelete":"confirmDelete"}}confirmDelete(){var e,t;return e=this.model.get("name"),(t=this.model.destroy()).done(function(){return o.request("success",`${e} deleted.`)}),t.fail(function(){return o.request("danger",`${e} NOT deleted.`)})}}return e.prototype.template=i,e.prototype.className="modal-dialog",e.prototype.ui={confirmDelete:".confirm-delete",cancelButton:".cancel-delete"},e}.call(this)},205:function(e,t,n){var i,o,r,a,s,l,c,u,d,h,m;n(4),i=n(2),a=n(3),h=n(0),d=n(44),n(14).default,s=n(50).default,n(144).default,l=n(143),c=n(142),i.Radio.channel("global"),i.Radio.channel("messages"),i.Radio.channel("tvmaze"),u=n(133),m=n(132),n(131),h.renderable(function(e){return".btn.btn-sm",h.li(".list-group-item",function(){return h.span(function(){return h.a({href:`#tvmaze/view/show/${e.id}`},e.content.name)}),h.span(".btn-group.pull-right",function(){return h.button(".delete-item.btn.btn-sm.btn-danger.fa.fa-close","delete")})})}),h.renderable(function(){return h.div(".listview-header",function(){return h.text("TV Shows")}),h.ul(".list-group")}),o=h.renderable(function(e){return h.article(".document-view.content",function(){return h.div(".body",function(){return h.div(".listview-header.bg-moviedb-logo",function(){return h.a({href:"https://developers.themoviedb.org",target:"_blank"},function(){return h.h1(".d-inline.color-moviedb-logo","TheMovieDb API Demo"),h.img(".bg-moviedb-logo.d-inline",{src:m,style:"max-width:4rem;"})})}),h.raw(d(u)),h.div(".search-form.listview-list-entry"),h.div(".paginate-bar"),h.div(".search-results")})})}),r=function(){class e extends a.View{doSomething(e){var t,n,i,o;return(o=this.getChildView("searchResults")).ui.header.is(":visible")||o.ui.header.show(),t=`${o.collection.length}  results for "${e.get("tvshow")}"`,o.triggerMethod("set:header",t),i=this.getRegion("paginateBar"),this.collection.state.totalPages>1?(n=new s({collection:this.collection,setKeyHandler:!0}),i.show(n)):i.hasView()?i.empty():void 0}onRender(){var e,t;return t=new l({collection:this.collection}),this.showChildView("searchForm",t),e=new c({collection:this.collection}),this.showChildView("searchResults",e),window.listAnchor=this.ui.sampleListAnchor,console.log("sampleListAnchor",this.ui.sampleListAnchor)}}return e.prototype.template=o,e.prototype.templateContext={appName:"tvmaze"},e.prototype.ui={searchForm:".search-form",paginateBar:".paginate-bar",searchResults:".search-results",sampleListAnchor:".sample-list-anchor"},e.prototype.childViewEvents={"save:form:success":"doSomething"},e.prototype.regions={searchForm:"@ui.searchForm",paginateBar:"@ui.paginateBar",searchResults:"@ui.searchResults"},e}.call(this),e.exports=r}}]);