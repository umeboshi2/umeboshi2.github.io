(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{545:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(40),i=(o=r)&&o.__esModule?o:{default:o};t.default=i.default.renderable((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"5x";return i.default.span(".fa-stack.fa-"+e,(function(){return i.default.i(".fa.fa-image.fa-stack-1x"),i.default.i(".fa.fa-ban.fa-stack-2x.text-danger")}))}))},712:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(3),c=n(8),f=n(40),s=(o=f)&&o.__esModule?o:{default:o};u=l.Radio.channel("messages"),i=s.default.renderable((function(e){return s.default.div(".modal-content",(function(){return s.default.div(".modal-header",(function(){return s.default.h3(".modal-title",(function(){return s.default.text("Do you really want to delete "+e.content.name+"?"),s.default.img({src:e.content.image.medium})})),s.default.button(".close",{type:"button",data:{dismiss:"modal"}},(function(){return s.default.span({"aria-hidden":"true"},(function(){return s.default.raw("&times")}))}))})),s.default.div(".modal-body",(function(){return s.default.div("#selected-children")})),s.default.div(".modal-footer",(function(){return s.default.button(".confirm-delete.btn.btn-primary",{type:"button",data:{dismiss:"modal"}},(function(){return s.default.i(".fa.fa-check"),s.default.text("OK")})),s.default.button(".cancel-delete.btn.btn-danger",{type:"button",data:{dismiss:"modal"}},(function(){return s.default.i(".fa.fa-close"),s.default.text("Cancel")}))}))}))})),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"events",value:function(){return{"click @ui.confirmDelete":"confirmDelete"}}},{key:"confirmDelete",value:function(){var e,t;return e=this.model.get("name"),(t=this.model.destroy()).done((function(){return u.request("success",e+" deleted.")})),t.fail((function(){return u.request("danger",e+" NOT deleted.")}))}}]),t}(c.View);return e.prototype.template=i,e.prototype.className="modal-dialog",e.prototype.ui={confirmDelete:".confirm-delete",cancelButton:".cancel-delete"},e}.call(void 0),t.default=r},734:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"onSetHeader",value:function(e){return this.ui.header.text(e)}}]),t}(n(8).Behavior),t.default=o},960:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfirmDeleteModal=void 0;var o,r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(8),a=p(n(40)),l=p(n(548)),c=p(n(712)),f=p(n(961)),s=p(n(962)),d=p(n(963));function p(e){return e&&e.__esModule?e:{default:e}}o=a.default.renderable((function(){return a.default.article(".document-view.content",(function(){return a.default.div(".body",(function(){return a.default.h1("TV Maze API Demo"),a.default.div(".search-form.listview-list-entry"),a.default.div(".search-results"),a.default.raw((0,l.default)(d.default))}))}))})),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"doSomething",value:function(e){var t,n;return(n=this.getChildView("searchResults")).ui.header.is(":visible")||n.ui.header.show(),t=n.collection.length+'  results for "'+e.get("tvshow")+'"',n.triggerMethod("set:header",t)}},{key:"onRender",value:function(){var e,t;return t=new f.default({collection:this.collection}),this.showChildView("searchForm",t),e=new s.default({collection:this.collection}),this.showChildView("searchResults",e)}}]),t}(u.View);return e.prototype.template=o,e.prototype.templateContext={appName:"tvmaze"},e.prototype.ui={searchForm:".search-form",searchResults:".search-results"},e.prototype.childViewEvents={"save:form:success":"doSomething"},e.prototype.regions={searchForm:"@ui.searchForm",searchResults:"@ui.searchResults"},e}.call(void 0),t.default=r,t.ConfirmDeleteModal=c.default},961:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(3),l=s(n(40)),c=s(n(547)),f=n(543);function s(e){return e&&e.__esModule?e:{default:e}}o=a.Radio.channel("messages"),i=l.default.renderable((function(){return(0,f.form_group_input_div)({input_id:"input_show",label:"TV Show",input_attributes:{name:"tv_show",placeholder:"tiny toons"}}),l.default.input(".btn.btn-primary.btn-sm",{type:"submit",value:"Search"}),l.default.div(".spinner.fa.fa-spinner.fa-spin.text-primary")})),r=function(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"createModel",value:function(){return new a.Model}},{key:"updateModel",value:function(){return this.tvshow=this.ui.tvShow.val(),this.model.set("tvshow",this.tvshow)}},{key:"saveModel",value:function(){var e,t=this;return(e=this.collection.fetch({data:{q:this.tvshow}})).done((function(){return t.trigger("save:form:success",t.model)})),e.fail((function(){return o.request("warning",t.tvshow+" not found."),t.trigger("save:form:failure",t.model)}))}}]),t}(c.default);return e.prototype.template=i,e.prototype.ui={tvShow:'[name="tv_show"]'},e}.call(void 0),t.default=r},962:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,u,a,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(3),f=n(8),s=h(n(40)),d=h(n(545)),p=h(n(734));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r=c.Radio.channel("messages"),o=c.Radio.channel("tvmaze"),a=s.default.renderable((function(e){var t;return t=e.show,s.default.div(".card.bg-body-d5",(function(){return s.default.div(".row",(function(){return s.default.div(".col-md-2",(function(){var e;return(null!=(e=t.image)?e.medium:void 0)?s.default.img(".main-image.card-img-bottom",{src:t.image.medium}):(0,d.default)("5x")})),s.default.div(".col-md-9",(function(){return s.default.div(".card-block.bg-body-d10",(function(){return s.default.h3(".card-title",t.name),s.default.h4("Premiered: "+new Date(t.premiered).toDateString()),s.default.raw(t.summary)})),s.default.button(".select-show.btn.btn-primary",{style:"display:none"},"Select this show")}))}))}))})),u=function(){var e=function(e){function t(){return y(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),l(t,[{key:"inLocalCollection",value:function(){var e;return e=this.model.toJSON().show.id,this.getOption("localCollection").get(e)}},{key:"onRender",value:function(){if(!this.inLocalCollection())return this.ui.selectShow.show()}},{key:"handleImageHover",value:function(){if(this.inLocalCollection())return this.ui.mainImage.css({cursor:"pointer"})}},{key:"viewShow",value:function(){var e;return e=this.model.toJSON().show.id,c.history.navigate("#tvmaze/shows/view/"+e,{trigger:!0})}},{key:"selectShow",value:function(){var e,t,n;return e=this.model.toJSON().show.id,(t=(n=o.request("get-remote-show",e)).fetch()).done((function(){return o.request("save-local-show",n.toJSON()).then((function(){return c.history.navigate("#tvmaze/shows/view/"+e,{trigger:!0})}))})),t.fail((function(){return r.request("danger","Bad move")}))}}]),t}(f.View);return e.prototype.template=a,e.prototype.ui={selectShow:".select-show",mainImage:".main-image"},e.prototype.events={"click @ui.selectShow":"selectShow","mouseenter @ui.mainImage":"handleImageHover","click @ui.mainImage":"viewShow"},e}.call(void 0),i=function(){var e=function(e){function t(){return y(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),l(t,[{key:"onRender",value:function(){var e;return this.ui.header.hide(),e=new f.CollectionView({collection:this.collection,childView:u,childViewOptions:{localCollection:o.request("get-local-tvshows")}}),this.showChildView("itemList",e)}}]),t}(f.View);return e.prototype.template=s.default.renderable((function(){return s.default.div(".listview-header",(function(){return s.default.text("Matched TV Shows")})),s.default.div(".show-list")})),e.prototype.ui={header:".listview-header",itemList:".show-list"},e.prototype.regions={itemList:"@ui.itemList"},e.prototype.behaviors={HasHeader:{behaviorClass:p.default}},e}.call(void 0),t.default=i},963:function(e,t,n){"use strict";n.r(t),t.default="\n\nYou can **search** for a TV show, or go directly \nto the [list of shows](#tvmaze/shows).\n\n"}}]);
//# sourceMappingURL=tvmaze-view-index-0f628c9100c236f94028.js.map