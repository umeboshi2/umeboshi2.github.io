{"version":3,"sources":["webpack:///./src/applets/tvmaze/index-doc.md","webpack:///./src/applets/tvmaze/views/show-search-results.coffee","webpack:///./src/applets/tvmaze/views/search-show-view.coffee","webpack:///./src/applets/tvmaze/views/index-view.coffee","webpack:///./node_modules/tbirds/src/templates/no-image-span.coffee","webpack:///./node_modules/events/events.js","webpack:///./src/applets/tvmaze/views/confirm-delete-modal.coffee","webpack:///./node_modules/tbirds/src/behaviors/has-header.coffee"],"names":["module","exports","AppChannel","Backbone","HasHeader","Marionette","MessageChannel","SearchResultsView","ShowResultView","navigate_to_url","noImage","showTemplate","tc","__webpack_require__","default","Radio","channel","renderable","model","show","div","ref","image","medium","img","src","h3","name","h4","Date","premiered","toDateString","raw","summary","button","style","View","[object Object]","id","this","toJSON","getOption","get","inLocalCollection","ui","selectShow","mainImage","css","cursor","response","request","fetch","done","then","result","fail","template","events","click @ui.selectShow","mouseenter @ui.mainImage","click @ui.mainImage","view","header","hide","CollectionView","collection","childView","childViewOptions","localCollection","showChildView","text","itemList","regions","behaviors","behaviorClass","BootstrapFormView","SearchFormView","form_group_input_div","searchForm","input_id","label","input_attributes","placeholder","input","type","value","Model","tvshow","tvShow","val","set","data","q","trigger","DefaultStaticDocumentTemplate","MainView","mainText","marked","li","span","a","href","content","ul","post","article","h1","msg","rview","getChildView","is","length","triggerMethod","templateContext","appName","searchResults","childViewEvents","save:form:success","__webpack_exports__","teacup__WEBPACK_IMPORTED_MODULE_0___default","size","i","EventEmitter","_events","_maxListeners","undefined","isFunction","arg","isObject","isUndefined","prototype","defaultMaxListeners","setMaxListeners","n","isNaN","TypeError","emit","er","handler","len","args","listeners","error","arguments","Error","err","context","call","Array","slice","apply","addListener","listener","m","newListener","push","warned","console","trace","on","once","fired","g","removeListener","list","position","splice","removeAllListeners","key","listenerCount","evlistener","emitter","ConfirmDeleteTemplate","teacup__WEBPACK_IMPORTED_MODULE_2__","teacup__WEBPACK_IMPORTED_MODULE_2___default","backbone__WEBPACK_IMPORTED_MODULE_0___default","dismiss","aria-hidden","ConfirmDeleteModal","backbone_marionette__WEBPACK_IMPORTED_MODULE_1___default","click @ui.confirmDelete","destroy","className","confirmDelete","cancelButton","backbone_marionette__WEBPACK_IMPORTED_MODULE_0__","backbone_marionette__WEBPACK_IMPORTED_MODULE_0___default","Behavior"],"mappings":"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","file":"tvmaze-view-index-bcecec32ddbfc1691f36.js","sourcesContent":["module.exports = \"\\n\\nYou can **search** for a TV show, or go directly \\nto the [list of shows](#tvmaze/shows).\\n\\n\"","Backbone = require 'backbone'\nMarionette = require 'backbone.marionette'\ntc = require 'teacup'\nJView = require 'json-view'\nrequire 'json-view/devtools.css'\n\nnavigate_to_url = require('tbirds/util/navigate-to-url').default\n\nnoImage = require('tbirds/templates/no-image-span').default\n#PointerOnHover = require('tbirds/behaviors/pointer-on-hover').default\nHasHeader = require('tbirds/behaviors/has-header').default\n\nMessageChannel = Backbone.Radio.channel 'messages'\nAppChannel = Backbone.Radio.channel 'tvmaze'\n\nshowTemplate = tc.renderable (model) ->\n  show = model.show\n  tc.div '.card.bg-body-d5', ->\n    tc.div '.row', ->\n      tc.div '.col-md-2', ->\n        if show.image?.medium\n          tc.img '.main-image.card-img-bottom', src:show.image.medium\n        else\n          noImage '5x'\n      tc.div '.col-md-9', ->\n        tc.div '.card-block.bg-body-d10', ->\n          tc.h3 '.card-title', show.name\n          tc.h4 \"Premiered: #{new Date(show.premiered).toDateString()}\"\n          tc.raw show.summary\n        tc.button '.select-show.btn.btn-primary',\n        style:'display:none', \"Select this show\"\n\nclass ShowResultView extends Marionette.View\n  template: showTemplate\n  ui:\n    selectShow: '.select-show'\n    mainImage: '.main-image'\n  events:\n    'click @ui.selectShow': 'selectShow'\n    'mouseenter @ui.mainImage': 'handleImageHover'\n    'click @ui.mainImage': 'viewShow'\n  inLocalCollection: ->\n    id = @model.toJSON().show.id\n    collection = @getOption 'localCollection'\n    return collection.get id\n  onRender: ->\n    if not @inLocalCollection()\n      @ui.selectShow.show()\n  handleImageHover: ->\n    if @inLocalCollection()\n      @ui.mainImage.css\n        cursor: 'pointer'\n  viewShow: ->\n    id = @model.toJSON().show.id\n    navigate_to_url \"#tvmaze/shows/view/#{id}\"\n    \n  selectShow: ->\n    id = @model.toJSON().show.id\n    show = AppChannel.request 'get-remote-show', id\n    response = show.fetch()\n    response.done ->\n      p = AppChannel.request 'save-local-show', show.toJSON()\n      p.then (result) ->\n        navigate_to_url \"#tvmaze/shows/view/#{id}\"\n    response.fail ->\n      MessageChannel.request 'danger', \"Bad move\"\n      \n  \n\nclass SearchResultsView extends Marionette.View\n  template: tc.renderable (model) ->\n    tc.div '.listview-header', ->\n      tc.text \"Matched TV Shows\"\n    tc.div '.show-list'\n  ui:\n    header: '.listview-header'\n    itemList: '.show-list'\n  regions:\n    itemList: '@ui.itemList'\n  behaviors:\n    HasHeader:\n      behaviorClass: HasHeader\n  onRender: ->\n    @ui.header.hide()\n    view = new Marionette.CollectionView\n      collection: @collection\n      childView: ShowResultView\n      childViewOptions:\n        localCollection: AppChannel.request 'get-local-tvshows'\n    @showChildView 'itemList', view\n  \n        \n\nmodule.exports = SearchResultsView\n\n\n","$ = require 'jquery'\n_ = require 'underscore'\nBackbone = require 'backbone'\nMarionette = require 'backbone.marionette'\ntc = require 'teacup'\nmarked = require 'marked'\n\nBootstrapFormView = require('tbirds/views/bsformview').default\nnavigate_to_url = require('tbirds/util/navigate-to-url').default\n\n{ form_group_input_div } = require 'tbirds/templates/forms'\n\nMessageChannel = Backbone.Radio.channel 'messages'\nAppChannel = Backbone.Radio.channel 'tvmaze'\n\nsearchForm = tc.renderable ->\n  form_group_input_div\n    input_id: 'input_show'\n    label: 'TV Show'\n    input_attributes:\n      name: 'tv_show'\n      placeholder: 'tiny toons'\n      \n  tc.input '.btn.btn-primary.btn-sm', type:'submit', value:'Search'\n  tc.div '.spinner.fa.fa-spinner.fa-spin.text-primary'\n\nclass SearchFormView extends BootstrapFormView\n  template: searchForm\n  ui:\n    tvShow: '[name=\"tv_show\"]'\n  createModel: ->\n    return new Backbone.Model\n  updateModel: ->\n    @tvshow = @ui.tvShow.val()\n    @model.set 'tvshow', @tvshow\n  saveModel: ->\n    response = @collection.fetch\n      data:\n        q: @tvshow\n    response.done =>\n      @trigger 'save:form:success', @model\n    response.fail =>\n      MessageChannel.request 'warning', \"#{@tvshow} not found.\"\n      @trigger 'save:form:failure', @model\n          \n    \nmodule.exports = SearchFormView\n\n","$ = require 'jquery'\nBackbone = require 'backbone'\nMarionette = require 'backbone.marionette'\ntc = require 'teacup'\nmarked = require 'marked'\n\nnavigate_to_url = require('tbirds/util/navigate-to-url').default\n\nConfirmDeleteModal = require('./confirm-delete-modal').default\nSearchFormView = require './search-show-view'\nSearchResultsView = require './show-search-results'\n\nMainChannel = Backbone.Radio.channel 'global'\nMessageChannel = Backbone.Radio.channel 'messages'\nAppChannel = Backbone.Radio.channel 'tvmaze'\n\nmainText = require 'raw-loader!../index-doc.md'\n\n\nitemTemplate = tc.renderable (model) ->\n  itemBtn = '.btn.btn-sm'\n  tc.li '.list-group-item', ->\n    tc.span ->\n      tc.a href:\"#tvmaze/view/show/#{model.id}\", model.content.name\n    tc.span '.btn-group.pull-right', ->\n      tc.button '.delete-item.btn.btn-sm.btn-danger.fa.fa-close', 'delete'\n    \nlistTemplate = tc.renderable ->\n  tc.div '.listview-header', ->\n    tc.text \"TV Shows\"\n  tc.ul \".list-group\"\n\n\nDefaultStaticDocumentTemplate = tc.renderable (post) ->\n  tc.article '.document-view.content', ->\n    tc.div '.body', ->\n      #\n      tc.h1 'TV Maze API Demo'\n      tc.div '.search-form.listview-list-entry'\n      tc.div '.search-results'\n      tc.raw marked mainText\n      \nclass MainView extends Marionette.View\n  template: DefaultStaticDocumentTemplate\n  templateContext:\n    appName: 'tvmaze'\n  ui:\n    searchForm: '.search-form'\n    searchResults: '.search-results'\n  childViewEvents:\n    'save:form:success': 'doSomething'\n  doSomething: (model) ->\n    rview = @getChildView 'searchResults'\n    if not rview.ui.header.is ':visible'\n      rview.ui.header.show()\n    msg = \"#{rview.collection.length}  results for \\\"#{model.get 'tvshow'}\\\"\"\n    rview.triggerMethod 'set:header', msg\n  regions:\n    searchForm: '@ui.searchForm'\n    searchResults: '@ui.searchResults'\n  onRender: ->\n    view = new SearchFormView\n      collection: @collection\n    @showChildView 'searchForm', view\n    rview = new SearchResultsView\n      collection: @collection\n    @showChildView 'searchResults', rview\n\nmodule.exports = MainView\n\n","import tc from 'teacup'\n\n#export default (size='5x') ->\n#  return tc.renderable\nexport default tc.renderable (size='5x') ->\n  tc.span \".fa-stack.fa-#{size}\", ->\n    tc.i \".fa.fa-image.fa-stack-1x\"\n    tc.i \".fa.fa-ban.fa-stack-2x.text-danger\"\n    \n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","import Backbone from 'backbone'\nimport Marionette from 'backbone.marionette'\nimport tc from 'teacup'\n\nMessageChannel = Backbone.Radio.channel 'messages'\n\nConfirmDeleteTemplate = tc.renderable (model) ->\n  tc.div '.modal-content', ->\n    tc.div '.modal-header', ->\n      tc.h3 '.modal-title', ->\n        tc.text \"Do you really want to delete #{model.content.name}?\"\n        tc.img src:model.content.image.medium\n      tc.button '.close', type:'button', data:{dismiss:'modal'}, ->\n        tc.span \"aria-hidden\":\"true\", ->\n          tc.raw '&times'\n    tc.div '.modal-body', ->\n      tc.div '#selected-children'\n    tc.div '.modal-footer', ->\n      tc.button '.confirm-delete.btn.btn-primary',\n      type:'button', data:{dismiss:'modal'}, ->\n        tc.i '.fa.fa-check'\n        tc.text \"OK\"\n      tc.button '.cancel-delete.btn.btn-danger',\n      type:'button', data:{dismiss:'modal'}, ->\n        tc.i '.fa.fa-close'\n        tc.text \"Cancel\"\n\nexport default class ConfirmDeleteModal extends Marionette.View\n  template: ConfirmDeleteTemplate\n  className: 'modal-dialog'\n  ui:\n    confirmDelete: '.confirm-delete'\n    cancelButton: '.cancel-delete'\n    \n  events: ->\n    'click @ui.confirmDelete': 'confirmDelete'\n\n  confirmDelete: ->\n    name = @model.get 'name'\n    response = @model.destroy()\n    response.done ->\n      MessageChannel.request 'success', \"#{name} deleted.\",\n    response.fail ->\n      MessageChannel.request 'danger', \"#{name} NOT deleted.\"\n      \n","import Marionette from 'backbone.marionette'\n\nexport default class HasHeader extends Marionette.Behavior\n  onSetHeader: (text) ->\n    @ui.header.text text\n"],"sourceRoot":""}