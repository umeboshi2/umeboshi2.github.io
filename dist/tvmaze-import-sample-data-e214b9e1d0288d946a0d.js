(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{137:function(e){e.exports=[{id:3741,name:"Hill Street Blues"},{id:6544,name:"Sesame Street"},{id:4484,name:"Tiny Toon Adventures"},{id:12144,name:"Rumpole of the Bailey"},{id:451,name:"Knight Rider"},{id:4460,name:"St. Elsewhere"},{id:5144,name:"Falcon Crest"},{id:3853,name:"The Andy Griffith Show"},{id:782,name:"Gunsmoke"},{id:3743,name:"Welcome Back, Kotter"},{id:1472,name:"Good Times"},{id:7513,name:"Sanford and Son"},{id:238,name:"Dallas"},{id:4041,name:"Gilligan's Island"},{id:1475,name:"Hogan's Heroes"},{id:19621,name:"DuckTales"},{id:9486,name:"Count Duckula"},{id:470,name:"The Prisoner"},{id:553,name:"Cheers"},{id:1496,name:"Remington Steele"},{id:6606,name:"Max Headroom"},{id:4529,name:"Are You Being Served?"},{id:1166,name:"Agatha Christie's Poirot"},{id:12174,name:"Deep Space 69"},{id:493,name:"Star Trek: Deep Space Nine"},{id:4325,name:"The A-Team"},{id:5319,name:"Knots Landing"},{id:680,name:"Airwolf"},{id:1249,name:"The Brady Bunch"},{id:475,name:"Babylon 5"},{id:714,name:"Star Trek: Enterprise"},{id:5782,name:"Barney Miller"},{id:7553,name:"Alice"},{id:5389,name:"The Jeffersons"},{id:1784,name:"All In the Family"},{id:5486,name:"Chico and the Man"},{id:7102,name:"Lidsville"},{id:1500,name:"The Six Million Dollar Man"},{id:962,name:"Hawaii Five-O"},{id:16291,name:"Police Woman"},{id:956,name:"Magnum, P.I."},{id:787,name:"The Twilight Zone"},{id:2139,name:"The Beverly Hillbillies"},{id:3824,name:"I Love Lucy"},{id:2128,name:"Leave It to Beaver"},{id:3884,name:"The Munsters"},{id:4042,name:"The Addams Family"},{id:4606,name:"Diff'rent Strokes"},{id:7059,name:"Silver Spoons"},{id:13681,name:"Fat Albert and the Cosby Kids"},{id:32689,name:"The Electric Company"},{id:5488,name:"Fraggle Rock"},{id:6806,name:"Animaniacs"},{id:8520,name:"TaleSpin"},{id:5308,name:"Chip 'N Dale Rescue Rangers"},{id:4022,name:"60 Minutes"},{id:16549,name:"Giant Gorg"},{id:18469,name:"The Mysterious Cities of Gold"},{id:1129,name:"Dungeons & Dragons"},{id:3398,name:"Inspector Gadget"},{id:9829,name:"Ghostbusters"},{id:4044,name:"Jonny Quest"},{id:4299,name:"The Real Ghostbusters"},{id:9701,name:"Beetlejuice"},{id:16657,name:"Bobby's World"},{id:26381,name:"Peter Pan and the Pirates"},{id:19136,name:"The Pirates of Dark Water"},{id:421,name:"Rugrats"},{id:6308,name:"Doug"},{id:757,name:"Batman: The Animated Series"},{id:9022,name:"Thundarr the Barbarian"},{id:3778,name:"The Herculoids"},{id:12825,name:"Eek! the Cat"},{id:472,name:"X-Men"},{id:19561,name:"Cadillacs and Dinosaurs"},{id:6322,name:"Rocko's Modern Life"},{id:12941,name:"2 Stupid Dogs"},{id:8026,name:"Magic School Bus Rides Again"},{id:1662,name:"ReBoot"},{id:8571,name:"Aaahh!!! Real Monsters"},{id:414,name:"Duckman: Private Dick/Family Man"},{id:4221,name:"The Head"},{id:18163,name:"The Maxx"},{id:32526,name:"Red Planet"},{id:14116,name:"The Tick"},{id:1603,name:"Samurai Jack"},{id:1906,name:"Rurouni Kenshin"},{id:538,name:"Futurama"},{id:83,name:"The Simpsons"},{id:1661,name:"The PJs"},{id:409,name:"Invader ZIM"},{id:563,name:"Star Wars: The Clone Wars"},{id:832,name:"The Rockford Files"},{id:4284,name:"The Dukes of Hazzard"},{id:16748,name:"The Super Globetrotters"},{id:7256,name:"The Woodwright's Shop"},{id:33492,name:"Mystery Road"},{id:24204,name:"Contact"},{id:16339,name:"Solid Gold"},{id:21656,name:"Dynasty"},{id:22312,name:"Nero Wolfe"},{id:2151,name:"The Incredible Hulk"},{id:34595,name:"Cagney and Lacey"},{id:1488,name:"Newhart"},{id:12375,name:"Ripley's Believe It or Not!"},{id:30304,name:"That's Incredible"},{id:18555,name:"G.I. Joe: Sigma Six"},{id:13102,name:"Hardcastle and McCormick"},{id:3328,name:"Scarecrow and Mrs. King"},{id:6199,name:"Mama's Family"},{id:8227,name:"Reading Rainbow"},{id:28925,name:"The Rousters"},{id:10729,name:"Blue Thunder"},{id:1979,name:"Charles in Charge"},{id:2084,name:"The Cosby Show"},{id:12699,name:"The Paper Chase"},{id:180,name:"Firefly"},{id:2148,name:"The Rat Patrol"},{id:471,name:"The Prisoner"},{id:1474,name:"Happy Days"},{id:5814,name:"Laverne & Shirley"},{id:11549,name:"One Day at a Time"},{id:4378,name:"Bonanza"},{id:14914,name:"The Life and Times of Grizzly Adams"},{id:5443,name:"Get Smart"},{id:1484,name:"The Love Boat"},{id:5309,name:"Darkwing Duck"},{id:3309,name:"The Waltons"},{id:1911,name:"Highlander"},{id:711,name:"Who's the Boss?"},{id:4402,name:"China Beach"},{id:5498,name:"Austin City Limits"},{id:5519,name:"WKRP in Cincinnati"},{id:30938,name:"Miami Vice"},{id:25047,name:"Mutual of Omaha's Wild Kingdom"},{id:665,name:"M*A*S*H"},{id:5511,name:"MacGyver"},{id:7243,name:"Designing Women"},{id:4631,name:"Mork & Mindy"},{id:2083,name:"Murder, She Wrote"},{id:1748,name:"Matlock"},{id:7605,name:"In the Heat of the Night"},{id:722,name:"The Golden Girls"},{id:210,name:"Doctor Who"},{id:7432,name:"Lou Grant"},{id:717,name:"Quantum Leap"},{id:2075,name:"Little House on the Prairie"},{id:867,name:"Law & Order: LA"},{id:3911,name:"Common Law"},{id:4607,name:"The Facts of Life"},{id:3288,name:"The Muppet Show"},{id:30137,name:"Last Laugh in Vegas"},{id:6057,name:"The Carol Burnett Show"},{id:21746,name:"The Gong Show"},{id:1489,name:"Night Court"},{id:2218,name:"Taxi"},{id:499,name:"Married... with Children"},{id:4132,name:"Three's Company"},{id:7342,name:"Too Close for Comfort"},{id:881,name:"CHiPs"},{id:3913,name:"B.J. and the Bear"},{id:7602,name:"227"},{id:7221,name:"Gimme a Break!"},{id:16455,name:"What's Happening!!"},{id:5538,name:"Maude"},{id:1250,name:"Family Matters"},{id:7220,name:"Murphy Brown"},{id:530,name:"Seinfeld"},{id:582,name:"The Fresh Prince of Bel-Air"},{id:540,name:"Frasier"},{id:544,name:"Home Improvement"},{id:31734,name:"The Greatest American Hero"},{id:6315,name:"Fantasy Island"},{id:2031,name:"The Fall Guy"},{id:4948,name:"Hart to Hart"},{id:3646,name:"Alien Nation"},{id:4633,name:"Midnight Caller"},{id:474,name:"Charlie's Angels"},{id:7121,name:"Highway to Heaven"},{id:4583,name:"The Smurfs"},{id:23661,name:"G.I. Joe Extreme"},{id:490,name:"Star Trek"},{id:491,name:"Star Trek: The Next Generation"},{id:492,name:"Star Trek: Voyager"}]},138:function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ProgressView=n.ProgressModel=void 0;var t,o,a=s(i(0)),r=s(i(1)),d=s(i(2));function s(e){return e&&e.__esModule?e:{default:e}}function m(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function l(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function u(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}n.ProgressModel=t=function(){var e=function(e){function n(){return m(this,n),l(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return u(n,a.default.Model),n}();return e.prototype.defaults={valuemin:0,valuemax:100,valuenow:0},e}.call(void 0),n.ProgressView=o=function(){var e=function(e){function n(){return m(this,n),l(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return u(n,r.default.View),n}();return e.prototype.template=d.default.renderable(function(e){return d.default.div(".progress",function(){var n;return{valuemin:e.valuemin,valuemax:e.valuemax,valuenow:e.valuenow},n=Math.floor(e.valuenow/e.valuemax*100+.5),d.default.div(".progress-bar.progress-bar-striped",{role:"progressbar",style:"width: "+n+"%"},function(){return d.default.span({style:"color:black;"},e.valuenow+" of "+e.valuemax+".")})})}),e.prototype.modelEvents={change:"render"},e}.call(void 0),n.ProgressModel=t,n.ProgressView=o},139:function(e,n,i){"use strict";var t=function(){function e(e,n){for(var i=0;i<n.length;i++){var t=n[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,i,t){return i&&e(n.prototype,i),t&&e(n,t),n}}();function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function a(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function r(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var d,s,m,l,u,h,c,p,f,g,v,y,w,b,T;i(4).map,i(3),s=i(0),l=i(1),T=i(2),i(52),y=i(10).default;var S=i(138);h=S.ProgressModel,c=S.ProgressView,console.log("ProgressModel",h),console.log("ProgressView",c),s.Radio.channel("global"),u=s.Radio.channel("messages"),d=s.Radio.channel("tvmaze"),f=i(137),b=new s.Collection(f),function(){var e=function(e){function n(){o(this,n);var e=a(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments));return e.initialize=e.initialize.bind(e),e}return r(n,l.Object),t(n,[{key:"initialize",value:function(e){return function(e,n){if(!(e instanceof n))throw new Error("Bound instance method accessed before binding")}(this,n),this.progressModel=e.progressModel}}]),n}();return e.prototype.channelName="tvmaze",e.prototype.collection=b,e}.call(void 0),w=function(e,n,i){var t;return t=[],e.models.forEach(function(e){var i;return f={id:e.get("id"),show_id:n,content:e.toJSON()},i=d.request("save-local-episode",f),t.push(i)}),Promise.all(t).then(function(e){return t.length&&i&&y("#tvmaze/shows/view/"+n),u.request("success","Retrieved "+t.length+" episodes.")})},g=T.renderable(function(e){return".btn.btn-sm",T.li(".list-group-item",function(){return T.span(function(){return T.a(".import-single-show",{href:"#"},e.name)}),T.span(".btn-group.pull-right",function(){return T.button(".delete-item.btn.btn-sm.btn-danger.fa.fa-close","delete")})})}),v=T.renderable(function(e){return T.div(".body.col-md-6",function(){return T.h1("TV Maze Sample Data"),T.div(".form-inline",function(){return T.div(".form-check",function(){return T.input("#include-episodes.form-check-input",{type:"checkbox"}),T.label(".form-check-label",{for:"include-episodes"},"Include episodes")}),T.button(".import-button.btn.btn-primary.btn-sm","Import Data")}),T.div(".status-div.alert.alert-info",{style:"display:none"}),T.div(".import-progress"),T.ul(".show-list.list-group")})}),p=function(){var e=function(e){function n(){return o(this,n),a(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return r(n,l.View),t(n,[{key:"deleteItem",value:function(){return this.trigger("item:deleted",this.model),this.triggerMethod("item:deleted",this.model),this.model.collection.remove(this.model)}},{key:"importShow",value:function(e){return e.preventDefault()}}]),n}();return e.prototype.channelName="tvmaze",e.prototype.template=g,e.prototype.ui={deleteButton:".delete-item",importSingleAnchor:".import-single-show"},e.prototype.events={"click @ui.deleteButton":"deleteItem","click @ui.importSingleAnchor":"importShow"},e.prototype.triggers={"click @ui.deleteButton":"item:deleted","click @ui.importSingleAnchor":"import:show"},e}.call(void 0),m=function(){var e=function(e){function n(){return o(this,n),a(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return r(n,l.View),t(n,[{key:"onRender",value:function(){var e,n,i,t,o,a=this;for(n=d.request("get-all-local-tvshows"),b.models,console.log("SHOWS",b,b.models[0]),e=0,t=[];e<b.length;)i=b.models[e],n.get(i.id)&&t.push(i),e+=1;return b.remove(t),this.importProgressModel=new h,this.importProgressModel.set("valuemax",b.length),this.importProgressModel.set("valuenow",0),o=new l.CollectionView({channelName:"tvmaze",collection:b,childView:p,childViewTriggers:{"item:deleted":"child:item:deleted","import:show":"child:import:show"},onChildItemDeleted:function(){return a.importProgressModel.set("valuemax",b.length)},onChildImportShow:function(e){var n,i,t;return console.log("onChildImportShow",e),n=e.model.id,i=a.ui.includeEpisodes.prop("checked"),t=d.request("get-remote-show",n),t.fetch().done(function(){return d.request("save-local-show",t.toJSON()).then(function(e){var o;if(i)return console.log("get episodes too"),console.log(t),u.request("info","Retrieving episodes...."),o=d.request("get-remote-episodes",n),o.fetch().done(function(){return w(o,n)})})})}}),this.showChildView("showList",o),o=new c({model:this.importProgressModel}),this.showChildView("importProgress",o)}},{key:"importShows",value:function(){return this.ui.importButton.hide(),this.ui.statusDiv.show(),console.log("importShows"),this.importAnotherShow()}},{key:"importShow",value:function(e){var n,i,t,o=this;return i=e.get("name"),n=e.id,this.ui.statusDiv.text("Importing "+i+", "+n),t=d.request("get-remote-show",n),t.fetch().done(function(){return d.request("save-local-show",t.toJSON()).then(function(i){var a;return o.ui.includeEpisodes.prop("checked")?(console.log("get episodes too"),console.log(t),u.request("info","Retrieving episodes...."),a=d.request("get-remote-episodes",n),a.fetch().done(function(){if(w(a,n,!1),b.remove(e),o.importProgressModel.set("valuenow",b.length),b.length)return setTimeout(function(){return o.importAnotherShow()},500)})):(b.remove(e),o.importProgressModel.set("valuenow",b.length),b.length?setTimeout(function(){return o.importAnotherShow()},500):void 0)})})}},{key:"importAnotherShow",value:function(){var e;return e=b.models[0],this.importShow(e)}}]),n}();return e.prototype.channelName="tvmaze",e.prototype.template=v,e.prototype.ui={showList:".show-list",statusDiv:".status-div",importProgress:".import-progress",importButton:".import-button",includeEpisodes:"#include-episodes"},e.prototype.regions={showList:"@ui.showList",importProgress:"@ui.importProgress"},e.prototype.events={"click @ui.importButton":"importShows"},e}.call(void 0),e.exports=m}}]);
//# sourceMappingURL=tvmaze-import-sample-data-e214b9e1d0288d946a0d.js.map