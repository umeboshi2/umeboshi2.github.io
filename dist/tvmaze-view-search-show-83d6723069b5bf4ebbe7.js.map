{"version":3,"sources":["webpack:///./src/applets/tvmaze/views/single-search-show-view.coffee"],"names":["AppChannel","Backbone","BootstrapFormView","MessageChannel","SearchFormView","form_group_input_div","navigate_to_url","searchForm","tc","__webpack_require__","default","Radio","channel","renderable","input_id","label","input_attributes","name","placeholder","input","type","value","div","[object Object]","request","this","tvshow","ui","tvShow","val","response","rmodel","fetch","done","toJSON","then","result","id","fail","trigger","model","template","module","exports"],"mappings":"8EAAA,IAAAA,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAIC,EAAQ,GACRA,EAAQ,GACZR,EAAWQ,EAAQ,GACNA,EAAQ,GACrBD,EAAKC,EAAQ,GACJA,EAAQ,IAEjBP,EAAoBO,EAAQ,IAA2BC,QACvDJ,EAAkBG,EAAQ,IAA+BC,UAEvDL,wBAAyBI,EAAQ,KAGnCN,EAAiBF,EAASU,MAAMC,QAAQ,YACxCZ,EAAaC,EAASU,MAAMC,QAAQ,UAEpCL,EAAaC,EAAGK,WAAW,kBACzBR,GACES,SAAU,aACVC,MAAO,UACPC,kBACEC,KAAM,UACNC,YAAa,gBACjBV,EAAGW,MAAM,2BAA2BC,KAAK,SAAUC,MAAM,WACzDb,EAAGc,IAAI,oCAEHlB,EAAA,iBAANA,UAA6BF,EAI3BqB,cAEE,OAAO,IADEvB,EAAWwB,QAAQ,2BAE9BD,qBACEE,KAACC,OAASD,KAACE,GAAGC,OAAOC,MAEvBN,YACE,IAAAO,EAAAC,SACAD,GADAC,EAAS/B,EAAWwB,QAAQ,qBAAsBC,KAACC,SACjCM,SACTC,KAAK,kBACRjC,EAAWwB,QAAQ,kBAAmBO,EAAOG,UAC/CC,KAAK,SAACC,UACN9B,wBAAsCyB,EAAOM,UACjDP,EAASQ,KAAK,KACZnC,EAAeqB,QAAQ,aAAcC,KAACC,qBACtCD,KAACc,QAAQ,oBAAqBd,KAACe,6BAlBnCC,SAAUlC,cACVoB,IACEC,OAAQ,kCAwBZc,EAAOC,QAAUvC","file":"tvmaze-view-search-show-83d6723069b5bf4ebbe7.js","sourcesContent":["$ = require 'jquery'\n_ = require 'underscore'\nBackbone = require 'backbone'\nMarionette = require 'backbone.marionette'\ntc = require 'teacup'\nmarked = require 'marked'\n\nBootstrapFormView = require('tbirds/views/bsformview').default\nnavigate_to_url = require('tbirds/util/navigate-to-url').default\n\n{ form_group_input_div } = require 'tbirds/templates/forms'\n\n\nMessageChannel = Backbone.Radio.channel 'messages'\nAppChannel = Backbone.Radio.channel 'tvmaze'\n\nsearchForm = tc.renderable ->\n  form_group_input_div\n    input_id: 'input_show'\n    label: 'TV Show'\n    input_attributes:\n      name: 'tv_show'\n      placeholder: 'tiny toons'\n  tc.input '.btn.btn-default.btn-sm', type:'submit', value:'Search'\n  tc.div '.spinner.fa.fa-spinner.fa-spin'\n\nclass SearchFormView extends BootstrapFormView\n  template: searchForm\n  ui:\n    tvShow: '[name=\"tv_show\"]'\n  createModel: ->\n    MClass = AppChannel.request 'get-local-tvshow-model'\n    return new MClass\n  updateModel: ->\n    @tvshow = @ui.tvShow.val()\n    \n  saveModel: ->\n    rmodel = AppChannel.request 'single-show-search', @tvshow\n    response = rmodel.fetch()\n    response.done ->\n      p = AppChannel.request 'save-local-show', rmodel.toJSON()\n      p.then (result) ->\n        navigate_to_url \"#tvmaze/shows/view/#{rmodel.id}\"\n    response.fail =>\n      MessageChannel.request 'warning', \"#{@tvshow} not found.\"\n      @trigger 'save:form:failure', @model\n          \n\n      \n    #@model.save {}, callbacks\n    \n    \n    \nmodule.exports = SearchFormView\n\n"],"sourceRoot":""}