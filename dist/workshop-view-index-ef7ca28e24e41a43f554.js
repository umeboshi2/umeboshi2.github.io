(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{445:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o,r,u,l,a,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),f=h(n(1)),d=h(n(2)),c=h(n(4));h(n(19));function h(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i=n(103),n(104),a=function(e){return e.split(".md")[0]},l=function(e){return"#pages/blog/cv19/"+a(e)},o=function(){var e=function(e){function t(){return p(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,e),t}(d.default.View);return e.prototype.template=c.default.renderable((function(e){return c.default.ul((function(){var t,n,i,o,r;for(r=[],t=0,n=(o=e.links).length;t<n;t++)i=o[t],r.push(c.default.li((function(){return i.startsWith("#pages")?c.default.span(".badge.badge-dark",(function(){return c.default.a({href:i},(function(){return c.default.text(i.split("#pages/blog/cv19/")[1])}))})):c.default.a({href:i},i)})));return r}))})),e}.call(void 0),u=function(){var e=function(e){function t(){return p(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,e),s(t,[{key:"linkBtnClicked",value:function(e){var t;return(t=this.getRegion("linksView")).hasView()?(t.empty(),this.ui.toggleIcon.removeClass("fa-toggle-up"),this.ui.toggleIcon.addClass("fa-toggle-down")):(this.showListView(),this.ui.toggleIcon.removeClass("fa-toggle-down"),this.ui.toggleIcon.addClass("fa-toggle-up"))}},{key:"showListView",value:function(){var e;return this.model.get("links"),this.model.get("name"),e=new o({model:this.model}),this.showChildView("linksView",e)}}]),t}(d.default.View);return e.prototype.template=c.default.renderable((function(e){return c.default.div(".row.card",(function(){return c.default.div(".card-body",(function(){return c.default.button(".links-btn.btn.btn-dark.btn-sm",(function(){return c.default.i(".fa.fa-toggle-down.toggle-icon")})),c.default.a({href:l(e.name)},a(e.name))})),c.default.div(".links-view")}))})),e.prototype.ui={linksBtn:".links-btn",linksView:".links-view",toggleIcon:".toggle-icon"},e.prototype.regions={linksView:"@ui.linksView"},e.prototype.events={"click @ui.linksBtn":"linkBtnClicked"},e}.call(void 0),r=function(){var e=function(e){function t(){return p(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,e),s(t,[{key:"showIndexView",value:function(){var e;return e=new d.default.CollectionView({childView:u,collection:new f.default.Collection(this.model.get("pages"))}),this.showChildView("indexView",e)}},{key:"onRender",value:function(){return this.showIndexView()}},{key:"refreshBtnClicked",value:function(){var e=this;return this.ui.refreshBtn.removeClass("btn-link"),this.ui.refreshBtn.addClass("btn-warning"),this.model.fetch({data:{nocache:Date.now()}}).done((function(){return e.getRegion("indexView").empty(),e.showIndexView(),e.ui.refreshBtn.removeClass("btn-warning"),e.ui.refreshBtn.addClass("btn-link")}))}},{key:"onDomRefresh2",value:function(){return this.jsonView=new i(this.model.toJSON()),this.ui.jsonView.prepend(this.jsonView.dom)}}]),t}(d.default.View);return e.prototype.template=c.default.renderable((function(e){return c.default.div(".row.listview-header",(function(){return c.default.h1("Workshop Index")})),c.default.button(".refresh-btn.btn.btn-link.btn-sm","Refresh"),c.default.div(".index-view")})),e.prototype.ui={indexView:".index-view",refreshBtn:".refresh-btn"},e.prototype.regions={indexView:"@ui.indexView"},e.prototype.events={"click @ui.refreshBtn":"refreshBtnClicked"},e}.call(void 0),t.default=r}}]);
//# sourceMappingURL=workshop-view-index-ef7ca28e24e41a43f554.js.map