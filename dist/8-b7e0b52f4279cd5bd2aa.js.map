{"version":3,"sources":["webpack:///./src/applets/ebcsv/ebutils/xmlparser.coffee","webpack:///./src/applets/ebcsv/ebutils/csvfield-title-desc.coffee","webpack:///./src/applets/ebcsv/ebutils/csvfield-picurl.coffee","webpack:///./src/applets/ebcsv/ebutils/comic-ages.coffee","webpack:///./src/applets/ebcsv/ebutils/csvfield-category-id.coffee","webpack:///./src/applets/ebcsv/ebutils/csvfield-product-upc.coffee","webpack:///./src/applets/ebcsv/ebutils/csvfield-scheduletime.coffee","webpack:///./src/applets/ebcsv/ebutils/csvfield-startprice.coffee","webpack:///./src/applets/ebcsv/ebutils/csv-header.coffee","webpack:///./src/applets/ebcsv/ebutils/csvrow-main.coffee","webpack:///./src/applets/ebcsv/ebutils/index.coffee","webpack:///./src/applets/ebcsv/controller.coffee","webpack:///./src/applets/ebcsv/app-channel.coffee","webpack:///./src/applets/ebcsv/main.coffee","webpack:///./src/applets/ebcsv/dbchannel.coffee"],"names":["AppChannel","Backbone","CurrentCollection","DbCollection","MessageChannel","XmlComic","XmlComicCollection","XmlParser","xml","__webpack_require__","Radio","channel","Parser","explicitArray","async","reply","Model","Collection","model","comics","set","content","cb","parseString","err","json","comicinfo","comiclist","comic","length","console","warn","request","forsale","bad_xml","i","in_collection","len","main","msg","status","collectionstatus","_","links","push","mainsection","series","displayname","issue","module","exports","handlebars","marked","set_title_and_desc","indexOf","row","options","description","dsc","newtitle","title","desc","compile","get","template","substring","split","join","call","set_pic_url","url","urls","link","image_src","replace","ComicAges","get_comic_age","get_heroes_by_age","platinum","start","end","golden","silver","bronze","copper","modern","year","ad","age","herolist","newlist","forEach","set_category_id","found_row","h","heroes","hlist","hrow","hrows","other_row","ref","seriesname","publicationdate","releasedate","id","parseInt","toLowerCase","superhero","startsWith","set_product_upc","upc","isbn","dateFormat","ms","set_scheduletime","later","nt","sformat","timedelta","scheduletime","Date","valueOf","set_startprice","currentprice","startprice","CSV_HEADER","EbayFields","OptFieldNames","ReqFieldNames","capitalize","create_csv_header","default","field","header","j","k","len1","len2","action","create","csv","create_common_data","create_csv_row_object","gfields","cfg","quantity","plot","MainController","NavbarChannel","addCfgEntry","addDscEntry","button_style","toolbarEntryCollection","app_channel_coffee","backbone_default","a","boundMethodCheck","instance","Constructor","Error","label","icon","ToolbarAppletLayout","Marionette","View","[object Object]","region","slidedown_coffee","el","slide_speed","ms_default","toolbar","behaviors","ShowInitialEmptyContent","behaviorClass","show_initial_empty_coffee","teacup_default","renderable","div","EbCsvToolbar","button_toolbar_coffee","entryTemplate","opts","style","span","text","main_coffee_Applet","main_coffee_Router","menuEntries","controller_coffee","Controller","_showMainView","this","bind","_show_create_csv_view","_show_preview_csv_view","create_csv","Promise","all","e","then","view","collection","layout","showChildView","catch","oe","Object","navigate_to_url_coffee","cfgs","dscs","setupLayoutIfNeeded","fetch","_needComicsView","_setCfgEntries","done","rows","log","NewFormView","scroll_top_fast_coffee","Views","EditFormView","_setDscEntries","response","fail","Router","backbone_marionette_default","AppRouter","appRoutes","ebcsv","ebcsv/xml/upload","ebcsv/csv/create","ebcsv/csv/preview","ebcsv/clzpage","ebcsv/configs","ebcsv/configs/list","ebcsv/configs/add","ebcsv/configs/view/:name","ebcsv/configs/edit/:name","ebcsv/descriptions","ebcsv/descriptions/list","ebcsv/descriptions/add","ebcsv/descriptions/view/:name","ebcsv/descriptions/edit/:name","Applet","tkapplet_coffee","appletEntries","menu","state","currentCsvAction","currentCsvConfig","currentCsvDsc","__webpack_exports__","AppletLocals","BaseCsvFieldsModel","BaseLocalStorageModel","ComicImageUrl","ComicImageUrlCollection","ComicUrlStore","ConfigStore","DescriptionStore","LocalConfig","LocalConfigCollection","LocalDescCollection","LocalDescription","MainChannel","SuperHeroList","comic_urls","dbConn","hero_list","local_configs","local_descriptions","backbone_lovefield__WEBPACK_IMPORTED_MODULE_2__","backbone__WEBPACK_IMPORTED_MODULE_1___default","loveStore","on","save","JSON","parse","localStorage","getItem","attributes","setItem","stringify","toJSON","jquery__WEBPACK_IMPORTED_MODULE_0___default","ajax","success","error","removeItem","size","BaseReqFieldsModel","fieldType","fieldNames","BaseOptFieldsModel","comic_image_urls","destroy","name","value"],"mappings":"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","file":"8-b7e0b52f4279cd5bd2aa.js","sourcesContent":["Backbone = require 'backbone'\nxml = require 'xml2js-parseonly/src/xml2js'\nms = require 'ms'\ndateFormat = require 'dateformat'\nhandlebars = require 'handlebars'\nmarked = require 'marked'\n\ncapitalize = require 'tbirds/util/capitalize'\n\nMessageChannel = Backbone.Radio.channel 'messages'\nAppChannel = Backbone.Radio.channel 'ebcsv'\n\n\nXmlParser = new xml.Parser\n  explicitArray: false\n  async: false\n\nAppChannel.reply 'get-xmlparser', ->\n  XmlParser\n  \n\nclass XmlComic extends Backbone.Model\n\nclass XmlComicCollection extends Backbone.Collection\n  model: XmlComic\n\nCurrentCollection = new XmlComicCollection\n\nAppChannel.reply 'set-comics', (comics) ->\n  CurrentCollection.set comics\n\nAppChannel.reply 'get-comics', ->\n  CurrentCollection\n\nDbCollection = new XmlComicCollection\nAppChannel.reply 'set-all-comics', (comics) ->\n  DbCollection.set comics\n\nAppChannel.reply 'get-all-comics', ->\n  DbCollection\n  \n\nAppChannel.reply 'parse-all-comics-xml', (content, cb) ->\n  XmlParser.parseString content, (err, json) ->\n    comics = json.comicinfo.comiclist.comic\n    #if __DEV__\n    #  window.Comics = comics\n    #  console.log \"Comics\", comics\n    if not comics?.length\n      console.warn \"Single comic!\"\n      comics = [comics]\n    AppChannel.request 'set-all-comics', forsale\n    cb()\n    \nAppChannel.reply 'parse-comics-for-sale', (content, cb) ->\n  XmlParser.parseString content, (err, json) ->\n    comics = json.comicinfo.comiclist.comic\n    #if __DEV__\n    #  window.Comics = comics\n    #  console.log \"Comics\", comics\n    if not comics?.length\n      #console.warn \"Single comic!\"\n      comics = [comics]\n    forsale = []\n    in_collection = []\n    bad_xml = []\n    for comic in comics\n      #console.log comic.collectionstatus\n      status = comic.collectionstatus._\n      if status == 'For Sale'\n        if not comic.links\n          bad_xml.push comic\n        else\n          forsale.push comic\n      else if status == 'In Collection'\n        in_collection.push comic\n      else\n        main = comic.mainsection\n        name = \"#{main.series.displayname} ##{main.issue}\"\n        msg = \"Cannot determine comic status of (#{name})!\"\n        MessageChannel.request \"danger\", msg\n    if in_collection.length\n      msg = \"#{in_collection.length} ignored!!\"\n      MessageChannel.request \"warning\", msg\n    if not forsale.length\n      MessageChannel.request \"danger\", \"No comics for sale!\"\n    if bad_xml.length\n      msg = \"There was some bad xml, skipped #{bad_xml.length} comics.\"\n      MessageChannel.request 'danger', msg\n    AppChannel.request 'set-comics', forsale\n    cb()\n\nAppChannel.reply 'parse-comics-xml', (content, cb) ->\n  XmlParser.parseString content, (err, json) ->\n    comics = json.comicinfo.comiclist.comic\n    #if __DEV__\n    #  window.Comics = comics\n    #  console.log \"Comics\", comics\n    if not comics?.length\n      #console.warn \"Single comic!\"\n      comics = [comics]\n    AppChannel.request 'set-comics', comics\n    cb()\n\n\nmodule.exports = {}\n","Backbone = require 'backbone'\nhandlebars = require 'handlebars'\nmarked = require 'marked'\n\nMessageChannel = Backbone.Radio.channel 'messages'\nAppChannel = Backbone.Radio.channel 'ebcsv'\n\n\nset_title_and_desc = (row, options) ->\n  comic = options.comic\n  dsc = options.desc\n  # make title\n  template = handlebars.compile dsc.get 'title'\n  title = template options\n  #console.log 'title', title\n  if title.length > 80\n    msg = \"Title too long.\\n\"\n    newtitle = title.substring(0, 79)\n    msg = msg + \"#{title} ----> #{newtitle}\"\n    MessageChannel.request 'danger', msg\n    title = newtitle\n  row['Title'] = title\n  \n  # make description\n  template = handlebars.compile dsc.get 'content'\n  description = template options\n  description = marked description\n  # https://stackoverflow.com/a/17606289\n  description = description.split('\\r').join('')\n  description = description.split('\\n').join('')\n  if description.length > 32700\n    msg = \"#{description.length} characters in description\"\n    MessageChannel.request 'warning', msg\n  if '\\n' in description\n    MessageChannel.request 'danger', 'newline in description'\n  row['Description'] = description\n\nmodule.exports = set_title_and_desc\n","Backbone = require 'backbone'\n\nrequire '../dbchannel'\n\nMessageChannel = Backbone.Radio.channel 'messages'\nAppChannel = Backbone.Radio.channel 'ebcsv'\n\n\nset_pic_url = (row, options) ->\n  comic = options.comic\n  urls = AppChannel.request 'get-comic-image-urls'\n  url = comic.links.link.url\n  options.image_src = urls[url].replace 'http://', '//'\n  row['PicURL'] = urls[comic.links.link.url]\n  \nmodule.exports = set_pic_url\n","Backbone = require 'backbone'\n\nMessageChannel = Backbone.Radio.channel 'messages'\nAppChannel = Backbone.Radio.channel 'ebcsv'\n\nComicAges =\n  platinum:\n    start: 1897\n    end: 1937\n  golden:\n    start: 1938\n    end: 1955\n  silver:\n    start: 1956\n    end: 1969\n  bronze:\n    start: 1970\n    end: 1983\n  copper:\n    start: 1984\n    end: 1991\n  modern:\n    start: 1992\n    # FIXME magic number for end of modern age\n    end: 2100\n\nget_comic_age = (year) ->\n  for age of ComicAges\n    ad = ComicAges[age]\n    #console.log \"Checking age\", age, ad.start, ad.end\n    if (year >= ad.start and year <= ad.end)\n      return age\n  return false\n  \nAppChannel.reply 'get-comic-ages', ->\n  ComicAges\n\nAppChannel.reply 'find-age', (year) ->\n  get_comic_age year\n\n\nget_heroes_by_age = (year, herolist) ->\n  age = get_comic_age year\n  newlist = []\n  herolist.forEach (row) ->\n    if row.age == age\n      newlist.push row\n  return newlist\n\n\nAppChannel.reply 'get-heroes-by-age', (year, herolist) ->\n  get_heroes_by_age year, herolist\n  \nmodule.exports = {}\n","Backbone = require 'backbone'\n\nrequire '../dbchannel'\nrequire './comic-ages'\n\nMessageChannel = Backbone.Radio.channel 'messages'\nAppChannel = Backbone.Radio.channel 'ebcsv'\n\n\nset_category_id = (row, options) ->\n  comic = options.comic\n  #\n  # get categoryID\n  # csv header should be *Category\n  shmodel = AppChannel.request 'get-superheroes-model'\n  hlist = shmodel.get 'rows'\n  # FIXME this might fail and year needs to be 2017\n  year = comic.publicationdate?.year\n  if not year\n    year = comic.releasedate.year\n    console.warn \"Using releasedate\"\n  if not year\n    console.warn \"Bad date for comic\", comic\n    MessageChannel.request \"danger\", \"Bad Date for comic #{comic.id}\"\n  year = parseInt year.displayname\n  #console.log \"YEAR\", year\n  seriesname = comic.mainsection.series.displayname.toLowerCase()\n  age = AppChannel.request 'find-age', year\n  hrows = AppChannel.request 'get-heroes-by-age', year, hlist\n  other_row = undefined\n  heroes = {}\n  for hrow in hrows\n    if hrow.superhero.startsWith 'Other '\n      other_row = hrow\n    field = hrow.superhero.toLowerCase()\n    heroes[field] = hrow\n  if not other_row?\n    MessageChannel.request 'danger', \"No category found for #{age}\"\n  found_row = other_row\n  for h of heroes\n    #console.log \"Checking hero\", h, seriesname\n    if (seriesname.indexOf(h) >= 0)\n      found_row = heroes[h]\n      break\n  row['*Category'] = found_row.id\n  \nmodule.exports = set_category_id\n","set_product_upc = (row, options) ->\n  comic = options.comic\n  # set upc\n  # if comic.isbn then set Product:UPC\n  # if upc.length == 14 then return upc[:-2]\n  # if upc.length == 13 then return upc[1:]\n  if comic?.isbn\n    upc = comic.isbn\n    if upc.length == 14\n      upc = upc.substring(0, upc.length - 2)\n    if upc.length == 13\n      upc = upc.substring(1, upc.length)\n    row['Product:UPC'] = upc\n    \nmodule.exports = set_product_upc\n","ms = require 'ms'\ndateFormat = require 'dateformat'\n\nset_scheduletime = (row, options) ->\n  # parse scheduletime in config\n  # if scheduletime is 0 then\n  # set row.scheduletime = ''\n  timedelta = ms row.scheduletime\n  if timedelta\n    now = new Date()\n    nt = now.valueOf() + timedelta\n    later = new Date nt\n    #pyformat = \"%Y-%m-%d %H:%M:%S\"\n    sformat = \"yyyy-mm-dd HH:MM:ss\"\n    row.scheduletime = dateFormat later, sformat\n  else\n    row.scheduletime = ''\n  \nmodule.exports = set_scheduletime\n","set_startprice = (row, options) ->\n  # default startprice in config\n  # csv header should be *Startprice\n  # if comic.currentprice exists use\n  # that instead\n  comic = options.comic\n  if comic?.currentprice\n    currentprice = comic.currentprice\n    while currentprice.startsWith '$'\n      currentprice = currentprice.substring 1, currentprice.length\n    row.startprice = currentprice\n  \nmodule.exports = set_startprice\n","Backbone = require 'backbone'\nxml = require 'xml2js-parseonly/src/xml2js'\nms = require 'ms'\ndateFormat = require 'dateformat'\nhandlebars = require 'handlebars'\nmarked = require 'marked'\n\ncapitalize = require('tbirds/util/capitalize').default\n\nMessageChannel = Backbone.Radio.channel 'messages'\nAppChannel = Backbone.Radio.channel 'ebcsv'\n\n# Most of these are not required fields!\nEbayFields = [\n  'Title'\n  'PicURL'\n  'Description'\n  'Product:EAN'\n  'Product:UPC'\n  'Product:ISBN',\n  '*Category'\n  ]\n  \nReqFieldNames = [\n  'format'\n  'location'\n  'returnsacceptedoption'\n  'duration'\n  'quantity'\n  'startprice'\n  'dispatchtimemax'\n  'conditionid'\n  ]\n\nAppChannel.reply 'csv-req-fieldnames', ->\n  ReqFieldNames\n\nOptFieldNames = [\n  'postalcode'\n  'paymentprofilename'\n  'returnprofilename'\n  'shippingprofilename'\n  'scheduletime'\n  ]\n  \nAppChannel.reply 'csv-opt-fieldnames', ->\n  OptFieldNames\n  \n\ncreate_csv_header = ->\n  header = {action: \"*Action\"}\n  for field in ReqFieldNames\n    header[field] = \"*#{capitalize field}\"\n  for field in OptFieldNames\n    header[field] = field\n  for field in EbayFields\n    header[field] = field\n  return header\n\nAppChannel.reply 'create-csv-header', ->\n  create-csv-header()\n  \nCSV_HEADER = create_csv_header()\nAppChannel.reply 'get-csv-header', ->\n  CSV_HEADER\n  \n\nAppChannel.reply 'grouped-csv-fields', ->\n  ReqFieldNames: ReqFieldNames\n  OptFieldNames: OptFieldNames\n  EbayFields: EbayFields\n  \nmodule.exports = {}\n\n","Backbone = require 'backbone'\nxml = require 'xml2js-parseonly/src/xml2js'\nms = require 'ms'\ndateFormat = require 'dateformat'\nhandlebars = require 'handlebars'\nmarked = require 'marked'\n\ncapitalize = require 'tbirds/util/capitalize'\n\nrequire './csv-header'\n\nset_startprice = require './csvfield-startprice'\nset_scheduletime = require './csvfield-scheduletime'\nset_product_upc = require './csvfield-product-upc'\nset_category_id = require './csvfield-category-id'\nset_pic_url = require './csvfield-picurl'\nset_title_and_desc = require './csvfield-title-desc'\n\n\nMessageChannel = Backbone.Radio.channel 'messages'\nAppChannel = Backbone.Radio.channel 'ebcsv'\n\ngfields = AppChannel.request 'grouped-csv-fields'\n\n#######################################################\n# makeCommonData (config)\n#######################################################\n\ncreate_common_data = (options) ->\n  row = {}\n  cfg = options.cfg.get 'content'\n  row.action = options.action\n  gfields.ReqFieldNames.forEach (field) ->\n    row[field] = cfg[field]\n  gfields.OptFieldNames.forEach (field) ->\n    row[field] = cfg[field]\n  gfields.EbayFields.forEach (field) ->\n    row[field] = ''\n  return row\n  \n#######################################################\n# makeEbayInfo (config, comic, opts, mgr)\n#######################################################\ncreate_csv_row_object = (options) ->\n  comic = options.comic\n  cfg = options.cfg.get 'content'\n  # make common data\n  # from required and optional fields\n  row = create_common_data options\n  # then adjust these fields -->\n\n  # quantity is from config(1) unless comic.quantity > 1\n  # csv header should be *Quantity\n  if row.quantity != comic.quantity\n    row.quantity = comic.quantity\n\n  # set startprice  \n  set_startprice row, options\n\n  # set scheduletime\n  set_scheduletime row, options\n  \n  #\n  # --------> then add fields\n\n  set_product_upc row, options\n\n  \n  set_category_id row, options\n\n  # set picurl\n  set_pic_url row, options\n\n  \n  # remove <br>'s from plot before\n  # using templates\n  if comic.mainsection?.plot\n    comic.mainsection.plot = comic.mainsection.plot.split('<br>').join('\\n')\n    comic.mainsection.plot = comic.mainsection.plot.split('<BR>').join('\\n')\n\n  set_title_and_desc row, options\n  return row\n\nAppChannel.reply 'create-csv-row-object', (options) ->\n  create_csv_row_object options\n\nmodule.exports = {}\n","require './csvrow-main'\nrequire './xmlparser'\n","import $ from 'jquery'\nimport Backbone from 'backbone'\nimport Marionette from 'backbone.marionette'\nimport tc from 'teacup'\nimport ms from 'ms'\n\n{ MainController } = require 'tbirds/controllers'\nimport ToolbarView from 'tbirds/views/button-toolbar'\nimport ShowInitialEmptyContent from 'tbirds/behaviors/show-initial-empty'\nimport SlideDownRegion from 'tbirds/regions/slidedown'\n\nimport navigate_to_url from 'tbirds/util/navigate-to-url'\nimport scroll_top_fast from 'tbirds/util/scroll-top-fast'\n\nMainChannel = Backbone.Radio.channel 'global'\nMessageChannel = Backbone.Radio.channel 'messages'\nResourceChannel = Backbone.Radio.channel 'resources'\nNavbarChannel = Backbone.Radio.channel 'navbar'\n\nimport AppChannel from './app-channel'\n\naddCfgEntry =\n      id: 'addcfg'\n      label: 'Create Cfg'\n      url: '#ebcsv/configs/add'\n      icon: '.fa.fa-plus'\naddDscEntry =\n      id: 'adddsc'\n      label: 'Create Description'\n      url: '#ebcsv/descriptions/add'\n      icon: '.fa.fa-plus'\n\n\nclass ToolbarAppletLayout extends Backbone.Marionette.View\n  behaviors:\n    ShowInitialEmptyContent:\n      behaviorClass: ShowInitialEmptyContent\n  template: tc.renderable (model) ->\n    tc.div '.col-md-12', ->\n      tc.div '.row', ->\n        tc.div  '#main-toolbar.col-md-10.col-md-offset-1'\n      tc.div '.row', ->\n        tc.div '#main-content.col-md-10.col-md-offset-1'\n  regions: ->\n    region = new SlideDownRegion\n      el: '#main-content'\n    region.slide_speed = ms '.01s'\n    content: region\n    toolbar: '#main-toolbar'\n\ntoolbarEntryCollection = new Backbone.Collection []\nAppChannel.reply 'get-toolbar-entries', ->\n  toolbarEntryCollection\n\nbutton_style = \"overflow:hidden;text-overflow:ellipsis;white-space:nowrap;\"\n  \nclass EbCsvToolbar extends ToolbarView\n  options:\n    entryTemplate: tc.renderable (model) ->\n      opts =\n        style: button_style\n      tc.span opts, ->\n        tc.i model.icon\n        tc.text \" \"\n        tc.text model.label\n\nclass Controller extends MainController\n  ############################################\n  # ebcsv main views\n  ############################################\n  _showMainView: =>\n    require.ensure [], () =>\n      comics = AppChannel.request 'get-comics'\n      View = require './views/mainview'\n      view = new View\n        collection: comics\n      @layout.showChildView 'content', view\n    # name the chunk\n    , 'ebcsv-view-main-view-helper'\n\n  _show_create_csv_view: =>\n    require.ensure [], () =>\n      comics = AppChannel.request 'get-comics'\n      View = require './views/mkcsv'\n      view = new View\n        collection: comics\n      @layout.showChildView 'content', view\n    # name the chunk\n    , 'ebcsv-view-mkcsv-view-helper'\n    \n  _show_preview_csv_view: =>\n    require.ensure [], () =>\n      comics = AppChannel.request 'get-comics'\n      View = require './views/csvpreview'\n      view = new View\n        collection: comics\n      @layout.showChildView 'content', view\n    # name the chunk\n    , 'ebcsv-view-csvpreview-view-helper'\n    \n  _needComicsView: (cb) ->\n    comics = AppChannel.request 'get-comics'\n    if not comics.length\n      if __DEV__ and false\n        window.comics = comics\n        xml_url = '/assets/dev/comics.xml'\n        xhr = Backbone.ajax\n          type: 'GET'\n          dataType: 'text'\n          url: xml_url\n        xhr.done ->\n          content = xhr.responseText\n          AppChannel.request 'parse-comics-xml', content, (err, json) ->\n            cb()\n        xhr.fail ->\n          navigate_to_url '#ebcsv/xml/upload'\n      else\n        navigate_to_url '#ebcsv/xml/upload'\n    else\n      cb()\n      \n  create_csv: =>\n    @setupLayoutIfNeeded()\n    cfgs = AppChannel.request 'get_local_configs'\n    dscs = AppChannel.request 'get_local_descriptions'\n    cfgs.fetch().then =>\n      dscs.fetch().then =>\n        @_needComicsView @_show_create_csv_view\n    \n  preview_csv: ->\n    @setupLayoutIfNeeded()\n    cfg = AppChannel.request 'get-current-csv-cfg'\n    dsc = AppChannel.request 'get-current-csv-dsc'\n    hlist = AppChannel.request 'get-superheroes-model'\n    if cfg is undefined\n      if __DEV__\n        cfg = AppChannel.request 'get-ebcfg', 1\n        dsc = AppChannel.request 'get-ebdsc', 1\n        AppChannel.request 'set-current-csv-cfg', cfg\n        AppChannel.request 'set-current-csv-dsc', dsc\n        cfg.fetch().then =>\n          dsc.fetch().then =>\n            hlist.fetch().then =>\n              @_need_comics_view @_show_preview_csv_view\n      else\n        navigate_to_url '#ebcsv'\n        return\n    else\n      cfg.fetch().then =>\n        dsc.fetch().then =>\n          hlist.fetch().then =>\n            @_needComicsView @_show_preview_csv_view\n    \n  main_view: ->\n    @setupLayoutIfNeeded()\n    @_needComicsView @_showMainView\n    \n  upload_xml: ->\n    @setupLayoutIfNeeded()\n    require.ensure [], () =>\n      comics = AppChannel.request 'get-comics'\n      View = require './views/uploadxml'\n      view = new View\n        collection: comics\n      @layout.showChildView 'content', view\n    # name the chunk\n    , 'ebcsv-view-upload-xml-view'\n    \n  view_cached_comics: ->\n    @setupLayoutIfNeeded()\n    require.ensure [], () =>\n      View = require './views/cachedcomics'\n      view = new View\n      @layout.showChildView 'content', view\n    # name the chunk\n    , 'ebcsv-view-cached-comics-view'\n\n  ############################################\n  # ebcsv configs\n  ############################################\n  _setCfgEntries: ->\n    collection = NavbarChannel.request 'get-entries', 'view'\n    collection.set [addCfgEntry]\n  list_configs: ->\n    @setupLayoutIfNeeded()\n    @_setCfgEntries()\n    require.ensure [], () =>\n      cfgs = AppChannel.request \"get_local_configs\"\n      response = cfgs.fetch()\n      response.done (rows) =>\n        console.log \"ROWS\", rows, cfgs\n        #cfgs.set rows\n        View = require './views/config-views/list'\n        view = new View\n          collection: cfgs\n        @layout.showChildView 'content', view\n    # name the chunk\n    , 'ebcsv-view-list-configs'\n    \n  add_new_config: ->\n    @setupLayoutIfNeeded()\n    @_setCfgEntries()\n    require.ensure [], () =>\n      Views = require './views/config-views/edit'\n      view = new Views.NewFormView\n      @layout.showChildView 'content', view\n      scroll_top_fast()\n    # name the chunk\n    , 'ebcsv-view-add-cfg'\n\n  view_config: (id) ->\n    @setupLayoutIfNeeded()\n    @_setCfgEntries()\n    require.ensure [], () =>\n      View = require './views/config-views/view'\n      cfgs = AppChannel.request \"get_local_configs\"\n      model = new cfgs.model id: id\n      response = model.fetch()\n      response.done (rows) =>\n        view = new View\n          model: model\n        @layout.showChildView 'content', view\n        scroll_top_fast()\n    # name the chunk\n    , 'ebcsv-view-config'\n    \n  edit_config: (id) ->\n    @setupLayoutIfNeeded()\n    @_setCfgEntries()\n    require.ensure [], () =>\n      Views = require './views/config-views/edit'\n      cfgs = AppChannel.request \"get_local_configs\"\n      model = new cfgs.model id: id\n      response = model.fetch()\n      response.done (rows) =>\n        view = new Views.EditFormView\n          model: model\n        @layout.showChildView 'content', view\n        scroll_top_fast()\n    # name the chunk\n    , 'ebcsv-edit-config'\n\n\n\n  ############################################\n  # ebcsv descriptions\n  ############################################\n  _setDscEntries: ->\n    collection = NavbarChannel.request 'get-entries', 'view'\n    collection.set [addDscEntry]\n  list_descriptions: ->\n    @setupLayoutIfNeeded()\n    @_setDscEntries()\n    require.ensure [], () =>\n      dscs = AppChannel.request 'get_local_descriptions'\n      response = dscs.fetch()\n      response.done (rows) =>\n        #dscs.set rows\n        View = require './views/description-views/list'\n        view = new View\n          collection: dscs\n        @layout.showChildView 'content', view\n      response.fail ->\n        MessageChannel.request 'danger', 'Failed to get descriptions'\n    # name the chunk\n    , 'ebcsv-view-list-descriptions'\n    \n  add_new_description: ->\n    @setupLayoutIfNeeded()\n    @_setDscEntries()\n    require.ensure [], () =>\n      Views = require './views/description-views/edit'\n      view = new Views.NewFormView\n      @layout.showChildView 'content', view\n      scroll_top_fast()\n    # name the chunk\n    , 'ebcsv-view-add-dsc'\n\n  view_description: (id) ->\n    @setupLayoutIfNeeded()\n    @_setDscEntries()\n    require.ensure [], () =>\n      View = require './views/description-views/view'\n      dscs = AppChannel.request 'get_local_descriptions'\n      model = new dscs.model id: id\n      response = model.fetch()\n      response.done (rows) =>\n        view = new View\n          model: model\n        @layout.showChildView 'content', view\n        scroll_top_fast()\n    # name the chunk\n    , 'ebcsv-view-description'\n    \n  edit_description: (id) ->\n    @setupLayoutIfNeeded()\n    @_setDscEntries()\n    dscs = AppChannel.request 'get_local_descriptions'\n    require.ensure [], () =>\n      Views = require './views/description-views/edit'\n      dscs = AppChannel.request 'get_local_descriptions'\n      model = new dscs.model id: id\n      response = model.fetch()\n      response.done (rows) =>\n        view = new Views.EditFormView\n          model: model\n        @layout.showChildView 'content', view\n        scroll_top_fast()\n    # name the chunk\n    , 'ebcsv-edit-description'\n\nexport default Controller\n\n","import Backbone from 'backbone'\nimport Marionette from 'backbone.marionette'\nexport default Backbone.Radio.channel 'ebcsv'\n","import Backbone from 'backbone'\nimport Marionette from 'backbone.marionette'\nimport TkApplet from 'tbirds/tkapplet'\n\nrequire './dbchannel'\nrequire './ebutils'\n\nimport Controller from './controller'\n\nMainChannel = Backbone.Radio.channel 'global'\nResourceChannel = Backbone.Radio.channel 'resources'\n\nmenuEntries = [\n  {\n    id: 'main'\n    label: 'Main View'\n    url: '#ebcsv'\n    icon: '.fa.fa-eye'\n  },{\n    id: 'cfglist'\n    label: 'Configs'\n    url: '#ebcsv/configs/list'\n    icon: '.fa.fa-list'\n  },{\n    id: 'dsclist'\n    label: 'Descriptions'\n    url: '#ebcsv/descriptions/list'\n    icon: '.fa.fa-list'\n  },{\n    id: 'uploadxml'\n    label: 'Upload CLZ/XML'\n    url: '#ebcsv/xml/upload'\n    icon: '.fa.fa-upload'\n  },{\n    id: 'mkcsv'\n    label: 'Create CSV'\n    url: '#ebcsv/csv/create'\n    icon: '.fa.fa-cubes'\n  },{\n    id: 'cached'\n    label: 'Cached Images'\n    url: '#ebcsv/clzpage'\n    icon: '.fa.fa-image'\n  },{\n    id: 'addcfg'\n    label: 'Create Cfg'\n    url: '#ebcsv/configs/add'\n    icon: '.fa.fa-plus'\n  }\n  ]\n\nclass Router extends Marionette.AppRouter\n  appRoutes:\n    'ebcsv': 'main_view'\n\n    'ebcsv/xml/upload': 'upload_xml'\n    'ebcsv/csv/create': 'create_csv'\n    'ebcsv/csv/preview': 'preview_csv'\n\n    'ebcsv/clzpage' : 'view_cached_comics'\n    \n    'ebcsv/configs': 'list_configs'\n    'ebcsv/configs/list': 'list_configs'\n    'ebcsv/configs/add': 'add_new_config'\n    'ebcsv/configs/view/:name': 'view_config'\n    'ebcsv/configs/edit/:name': 'edit_config'\n\n\n    'ebcsv/descriptions': 'list_descriptions'\n    'ebcsv/descriptions/list': 'list_descriptions'\n    'ebcsv/descriptions/add': 'add_new_description'\n    'ebcsv/descriptions/view/:name': 'view_description'\n    'ebcsv/descriptions/edit/:name': 'edit_description'\n\nclass Applet extends TkApplet\n  Controller: Controller\n  Router: Router\n  appletEntries: [\n    {\n      label: \"Ebcsv Menu\"\n      menu: menuEntries\n    }\n  ]\n  state:\n    currentCsvAction: undefined\n    currentCsvConfig: undefined\n    currentCsvDsc: undefined\n       \nexport default Applet\n","import $ from 'jquery'\nimport Backbone from 'backbone'\nimport { LoveStore } from 'backbone.lovefield'\n\nMainChannel = Backbone.Radio.channel 'global'\nAppChannel = Backbone.Radio.channel 'ebcsv'\n\ndbConn = MainChannel.request 'main:app:dbConn', 'ebcsv'\n\nConfigStore = new LoveStore dbConn, 'Config'\nDescriptionStore = new LoveStore dbConn, \"Description\"\nComicUrlStore = new LoveStore dbConn, 'ComicUrl'\n\nclass LocalConfig extends Backbone.Model\n  loveStore: ConfigStore\n  \nclass LocalConfigCollection extends Backbone.Collection\n  loveStore: ConfigStore\n  model: LocalConfig\n\n\nclass LocalDescription extends Backbone.Model\n  loveStore: DescriptionStore\n    \nclass LocalDescCollection extends Backbone.Collection\n  loveStore: DescriptionStore\n  model: LocalDescription\n  \nclass ComicImageUrl extends Backbone.Model\n  loveStore: ComicUrlStore\n  idAttrubute: -> return 'url'\n\nclass ComicImageUrlCollection extends Backbone.Collection\n  loveStore: ComicUrlStore\n  model: ComicImageUrl\n  \nlocal_configs = new LocalConfigCollection\nlocal_descriptions = new LocalDescCollection\ncomic_urls = new ComicImageUrlCollection\n\nAppChannel.reply 'get_local_configs', ->\n  return local_configs\nAppChannel.reply 'get-config-model', ->\n  return LocalConfig\nAppChannel.reply 'configCollection', ->\n  return LocalConfigCollection\n  \nAppChannel.reply 'get_local_descriptions', ->\n  return local_descriptions\nAppChannel.reply 'get-description-model', ->\n  return LocalDescription\nAppChannel.reply 'descCollection', ->\n  return LocalDescCollection\n  \nAppChannel.reply 'get_comic_urls', ->\n  return comic_urls\nAppChannel.reply 'get-comic-url-model', ->\n  return ComicImageUrl\nAppChannel.reply 'get-comic-url-collection', ->\n  return ComicImageUrlCollection\n  \nclass BaseLocalStorageModel extends Backbone.Model\n  initialize: () ->\n    @fetch()\n    @on 'change', @save, @\n  fetch: () ->\n    @set JSON.parse localStorage.getItem @id\n  save: (attributes, options) ->\n    localStorage.setItem(@id, JSON.stringify(@toJSON()))\n    return $.ajax\n      success: options.success\n      error: options.error\n  destroy: (options) ->\n    localStorage.removeItem @id\n  isEmpty: () ->\n    _.size @attributes <= 1\n\n\nReqFieldNames = [\n  'format'\n  'location'\n  'returnsacceptedoption'\n  'duration'\n  'quantity'\n  'startprice'\n  'dispatchtimemax'\n  'conditionid'\n  ]\n\nAppChannel.reply 'csv-req-fieldnames-local', ->\n  ReqFieldNames\n\nOptFieldNames = [\n  'postalcode'\n  'paymentprofilename'\n  'returnprofilename'\n  'shippingprofilename'\n  'scheduletime'\n  ]\n  \nAppChannel.reply 'csv-opt-fieldnames-local', ->\n  OptFieldNames\n  \nclass BaseCsvFieldsModel extends BaseLocalStorageModel\n\nclass BaseReqFieldsModel extends BaseCsvFieldsModel\n  fieldType: 'required'\n  fieldNames: ReqFieldNames\n  \nclass BaseOptFieldsModel extends BaseCsvFieldsModel\n  fieldType: 'optional'\n  fieldNames: OptFieldNames\n\n\n\nAppChannel.reply 'get-comic-image-urls', ->\n  console.warn \"get-comic-image-urls\"\n  comic_image_urls = new BaseLocalStorageModel\n    id: 'comic-image-urls'\n  comic_image_urls.toJSON()\n\nAppChannel.reply 'add-comic-image-url', (url, image_src) ->\n  comic_image_urls = new BaseLocalStorageModel\n    id: 'comic-image-urls'\n  comic_image_urls.set url, image_src\n  #comic_image_urls.save()\n  \nAppChannel.reply 'clear-comic-image-urls', ->\n  comic_image_urls = new BaseLocalStorageModel\n    id: 'comic-image-urls'\n  comic_image_urls.destroy()\n  #delete localStorage[comic_image_urls.id]\n  console.log \"localStorage\", localStorage[comic_image_urls.id]\n  \nAppletLocals = {}\nAppChannel.reply 'applet:local:get', (name) ->\n  AppletLocals[name]\n\nAppChannel.reply 'applet:local:set', (name, value) ->\n  AppletLocals[name] = value\nAppChannel.reply 'applet:local:delete', (name) ->\n  delete AppletLocals[name]\n  \n  \n\ncurrent_csv_action = undefined\nAppChannel.reply 'set-current-csv-action', (action) ->\n  #current_csv_action = action\n  AppChannel.request 'applet:local:set', 'currentCsvAction', action\nAppChannel.reply 'get-current-csv-action', ->\n  #current_csv_action\n  AppChannel.request 'applet:local:get', 'currentCsvAction'\n  \ncurrent_csv_cfg = undefined\nAppChannel.reply 'set-current-csv-cfg', (cfg) ->\n  #current_csv_cfg = cfg\n  AppChannel.request 'applet:local:set', 'currentCsvCfg', cfg\nAppChannel.reply 'get-current-csv-cfg', ->\n  #current_csv_cfg\n  AppChannel.request 'applet:local:get', 'currentCsvCfg'\n  \ncurrent_csv_dsc = undefined\nAppChannel.reply 'set-current-csv-dsc', (dsc) ->\n  #current_csv_dsc = dsc\n  AppChannel.request 'applet:local:set', 'currentCsvDsc', dsc\nAppChannel.reply 'get-current-csv-dsc', ->\n  #current_csv_dsc\n  AppChannel.request 'applet:local:get', 'currentCsvDsc'\n\nclass SuperHeroList extends Backbone.Model\n  url: '/assets/data/superheroes.json'\n\nhero_list = new SuperHeroList\nAppChannel.reply 'get-superheroes-model', ->\n  hero_list\n\n\n\n"],"sourceRoot":""}