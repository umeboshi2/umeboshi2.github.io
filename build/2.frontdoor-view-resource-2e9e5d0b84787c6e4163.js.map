{"version":3,"sources":["webpack:///2.frontdoor-view-resource-2e9e5d0b84787c6e4163.js","webpack:///./src/frontdoor/views.coffee","webpack:///./src/frontdoor/templates.coffee"],"names":["webpackJsonp","150","module","exports","__webpack_require__","Backbone","FDTemplates","FrontDoorMainView","MainChannel","Marionette","make_json_post","ref","remove_trailing_slashes","extend","child","parent","ctor","this","constructor","key","hasProp","call","prototype","__super__","hasOwnProperty","Radio","channel","superClass","apply","arguments","template","DefaultStaticDocumentTemplate","ItemView","152","DefaultViewTemplate","FolderViewTemplate","dropdown_toggle","editor_url","frontdoor_main","frontdoor_url","marked","navbar_collapse_button","tc","workflow_dropdown","renderable","content","raw","data","attributes","body","doc","article","h1","title","div","doctype","atts","relmeta","relationships","meta","p","description","h2","table","thead","tr","th","tbody","href","i","len","ref1","results","type_info","children","length","path","push","td","a","creation_date","modification_date"],"mappings":"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","file":"2.frontdoor-view-resource-2e9e5d0b84787c6e4163.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ 150:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar Backbone, FDTemplates, FrontDoorMainView, MainChannel, Marionette, make_json_post, ref, remove_trailing_slashes,\n\t  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n\t  hasProp = {}.hasOwnProperty;\n\t\n\tBackbone = __webpack_require__(2);\n\t\n\tMarionette = __webpack_require__(5);\n\t\n\tFDTemplates = __webpack_require__(152);\n\t\n\tref = __webpack_require__(20), remove_trailing_slashes = ref.remove_trailing_slashes, make_json_post = ref.make_json_post;\n\t\n\tMainChannel = Backbone.Radio.channel('global');\n\t\n\tFrontDoorMainView = (function(superClass) {\n\t  extend(FrontDoorMainView, superClass);\n\t\n\t  function FrontDoorMainView() {\n\t    return FrontDoorMainView.__super__.constructor.apply(this, arguments);\n\t  }\n\t\n\t  FrontDoorMainView.prototype.template = FDTemplates.DefaultStaticDocumentTemplate;\n\t\n\t  return FrontDoorMainView;\n\t\n\t})(Backbone.Marionette.ItemView);\n\t\n\tmodule.exports = {\n\t  FrontDoorMainView: FrontDoorMainView\n\t};\n\n\n/***/ },\n\n/***/ 152:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar DefaultStaticDocumentTemplate, DefaultViewTemplate, FolderViewTemplate, dropdown_toggle, editor_url, frontdoor_main, frontdoor_url, marked, navbar_collapse_button, ref, tc, workflow_dropdown;\n\t\n\ttc = __webpack_require__(12);\n\t\n\tmarked = __webpack_require__(22);\n\t\n\tref = __webpack_require__(73), navbar_collapse_button = ref.navbar_collapse_button, dropdown_toggle = ref.dropdown_toggle, frontdoor_url = ref.frontdoor_url, editor_url = ref.editor_url;\n\t\n\tworkflow_dropdown = __webpack_require__(74).workflow_dropdown;\n\t\n\tfrontdoor_main = tc.renderable(function(content) {\n\t  return tc.raw(content.data.attributes.body);\n\t});\n\t\n\tDefaultViewTemplate = tc.renderable(function(doc) {\n\t  return tc.article('.document-view.content', function() {\n\t    tc.h1(doc.title);\n\t    return tc.div('.body', function() {\n\t      var content;\n\t      content = doc.content;\n\t      if (doc.doctype === 'markdown') {\n\t        content = marked(content);\n\t      }\n\t      return tc.raw(content);\n\t    });\n\t  });\n\t});\n\t\n\tFolderViewTemplate = tc.renderable(function(doc) {\n\t  var atts, relmeta;\n\t  atts = doc.data.attributes;\n\t  relmeta = doc.data.relationships.meta;\n\t  return tc.article('.document-view.content', function() {\n\t    tc.h1(atts.title);\n\t    tc.p('.lead', atts.description);\n\t    tc.h2('Contents');\n\t    return tc.div('.body', function() {\n\t      return tc.table('.table.table-condensed', function() {\n\t        tc.thead(function() {\n\t          return tc.tr(function() {\n\t            tc.th('Title');\n\t            tc.th('Type');\n\t            tc.th('Creation Date');\n\t            return tc.th('Modification Date');\n\t          });\n\t        });\n\t        return tc.tbody(function() {\n\t          var child, href, i, len, ref1, results, type_info;\n\t          ref1 = relmeta.children;\n\t          results = [];\n\t          for (i = 0, len = ref1.length; i < len; i++) {\n\t            child = ref1[i];\n\t            type_info = child.data.relationships.meta.type_info;\n\t            href = frontdoor_url(child.path);\n\t            results.push(tc.tr(function() {\n\t              tc.td(function() {\n\t                return tc.a({\n\t                  href: href\n\t                }, child.data.attributes.title);\n\t              });\n\t              tc.td(function() {\n\t                return tc.a({\n\t                  href: href\n\t                }, type_info.title);\n\t              });\n\t              tc.td(function() {\n\t                return tc.a({\n\t                  href: href\n\t                }, child.meta.creation_date);\n\t              });\n\t              return tc.td(function() {\n\t                return tc.a({\n\t                  href: href\n\t                }, child.meta.modification_date);\n\t              });\n\t            }));\n\t          }\n\t          return results;\n\t        });\n\t      });\n\t    });\n\t  });\n\t});\n\t\n\tDefaultStaticDocumentTemplate = tc.renderable(function(doc) {\n\t  return tc.article('.document-view.content', function() {\n\t    return tc.div('.body', function() {\n\t      return tc.raw(marked(doc.content));\n\t    });\n\t  });\n\t});\n\t\n\tmodule.exports = {\n\t  frontdoor_main: frontdoor_main,\n\t  DefaultViewTemplate: DefaultViewTemplate,\n\t  FolderViewTemplate: FolderViewTemplate,\n\t  DefaultStaticDocumentTemplate: DefaultStaticDocumentTemplate\n\t};\n\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** 2.frontdoor-view-resource-2e9e5d0b84787c6e4163.js\n **/","Backbone = require 'backbone'\nMarionette = require 'backbone.marionette'\n\nFDTemplates = require './templates'\n\n\n{ remove_trailing_slashes\n  make_json_post } = require 'apputil'\n\n#require 'jquery-ui'\n\nMainChannel = Backbone.Radio.channel 'global'\n\nclass FrontDoorMainView extends Backbone.Marionette.ItemView\n  template: FDTemplates.DefaultStaticDocumentTemplate\n\nmodule.exports =\n  FrontDoorMainView: FrontDoorMainView\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/frontdoor/views.coffee\n **/","tc = require 'teacup'\nmarked = require 'marked'\n\n{ navbar_collapse_button\n  dropdown_toggle\n  frontdoor_url\n  editor_url } = require '../templates/common'\n\n{ workflow_dropdown } = require '../templates/editorbar'\n\n# Main Templates must use teacup.\n# The template must be a teacup.renderable, \n# and accept a layout model as an argument.\n\n########################################\n# Templates\n########################################\nfrontdoor_main = tc.renderable (content) ->\n  tc.raw content.data.attributes.body\n  #tc.div 'hello there'\n  #\nDefaultViewTemplate = tc.renderable (doc) ->\n  #atts = doc.data.attributes\n  tc.article '.document-view.content', ->\n    tc.h1 doc.title\n    #tc.p '.lead', atts.description\n    tc.div '.body', ->\n      content = doc.content\n      if doc.doctype is 'markdown'\n        content = marked content\n      tc.raw content\n\nFolderViewTemplate = tc.renderable (doc) ->\n  atts = doc.data.attributes\n  relmeta = doc.data.relationships.meta\n  tc.article '.document-view.content', ->\n    tc.h1 atts.title\n    tc.p '.lead', atts.description\n    #tc.div tags\n    # FIXME i18n\n    tc.h2 'Contents'\n    tc.div '.body', ->\n      tc.table '.table.table-condensed', ->\n        tc.thead ->\n          tc.tr ->\n            # FIXME I18N\n            tc.th 'Title'\n            tc.th 'Type'\n            tc.th 'Creation Date'\n            tc.th 'Modification Date'\n        tc.tbody ->\n          for child in relmeta.children\n            type_info = child.data.relationships.meta.type_info\n            href = frontdoor_url(child.path)\n            tc.tr ->\n              tc.td ->\n                tc.a href:href, child.data.attributes.title\n              tc.td ->\n                tc.a href:href, type_info.title\n              tc.td ->\n                tc.a href:href, child.meta.creation_date\n              tc.td ->\n                tc.a href:href, child.meta.modification_date\n\n\nDefaultStaticDocumentTemplate = tc.renderable (doc) ->\n  #atts = doc.data.attributes\n  tc.article '.document-view.content', ->\n    tc.div '.body', ->\n      tc.raw marked doc.content\n\nmodule.exports =\n  frontdoor_main: frontdoor_main\n  DefaultViewTemplate: DefaultViewTemplate\n  FolderViewTemplate: FolderViewTemplate\n  DefaultStaticDocumentTemplate: DefaultStaticDocumentTemplate\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/frontdoor/templates.coffee\n **/"],"sourceRoot":""}