webpackJsonp([4],{0:function(t,e,n){var r,o,i,a,s,u,c,p,l,f,_;_=n(113).start_with_user,i=n(3),f=n(51),p=n(112),c=[{appname:"hubby",name:"Hubby",url:"#hubby",needUser:!1},{appname:"bumblr",name:"Bumblr",url:"#bumblr",needUser:!1}],p.set("applets",c),l=p.get("brand"),l.url="#",p.set({brand:l}),o=Backbone.Radio.channel("global"),a=Backbone.Radio.channel("messages"),r=Backbone.Radio.channel("static-documents"),u=[{label:"Hubby",single_applet:"hubby",url:"#hubby"},{label:"Stuff",single_applet:!1,applets:["bumblr"]}],p.set("applet_menus",u),o.reply("main:app:appmodel",function(){return p}),n(109),n(105),n(111),s=f(p),s.start(),t.exports=s},27:function(t,e,n){var r,o,i,a,s,u,c,p=function(t,e){function n(){this.constructor=t}for(var r in e)l.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;r=n(2),o=r.Radio.channel("hubby"),u="https://infidel-frobozz.rhcloud.com/api/dev/lgr",s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,t),e.prototype.url=function(){return u+"/meetings/"+this.id},e}(r.Model),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,t),e.prototype.url=function(){return u+"/meetings/"+this.id},e}(r.Model),a=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,t),e.prototype.model=s,e.prototype.url=u+"/meetings",e}(r.Collection),c=new a,o.reply("meetinglist",function(){return c}),t.exports={apiroot:u,MeetingCollection:a,MainMeetingModel:i}},49:function(t,e,n){var r,o,i,a,s,u,c,p,l,f=function(t,e){function n(){this.constructor=t}for(var r in e)d.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},d={}.hasOwnProperty;r=n(2),s=r.Radio.channel("bumblr"),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,t),e.prototype.initialize=function(){return this.fetch(),this.on("change",this.save,this)},e.prototype.fetch=function(){return this.set(JSON.parse(localStorage.getItem(this.id)))},e.prototype.save=function(t,e){return localStorage.setItem(this.id,JSON.stringify(this.toJSON())),$.ajax({success:e.success,error:e.error})},e.prototype.destroy=function(t){return localStorage.removeItem(this.id)},e.prototype.isEmpty=function(){return _.size(this.attributes<=1)},e}(r.Model),c="//api.tumblr.com/v2",u=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,t),e.prototype.id="bumblr_settings",e}(o),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,t),e.prototype.baseURL=c,e}(r.Model),a=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,t),e.prototype.url=function(){return this.baseURL+"/blog/"+this.id+"/info?api_key="+this.api_key+"&callback=?"},e}(i),l="4mhV8B1YQK6PUA2NW8eZZXVHjU55TPJ3UZnZGrbSoCnqJaxDyH",p=new u({consumer_key:l}),s.reply("get_app_settings",function(){return p}),t.exports={BlogInfo:a}},54:function(t,e,n){var r,o,i,a,s,u,c,p,l=function(t,e){function n(){this.constructor=t}for(var r in e)f.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},f={}.hasOwnProperty;r=n(7),p=n(8),o=n(2),s=n(3),a=o.Radio.channel("global"),u=o.Radio.channel("messages"),c=o.Radio.channel("resources"),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return l(e,t),e.prototype.local_storage_key=null,e.prototype.initialize=function(){return this.fetch(),this.on("change",this.save,this)},e.prototype.fetch=function(){var t;return t=JSON.parse(localStorage.getItem(this.local_storage_key))||[],this.set(t)},e.prototype.save=function(t){return localStorage.setItem(this.local_storage_key,JSON.stringify(this.toJSON()))},e}(o.Collection),t.exports={BaseLocalStorageCollection:i}},90:function(t,e,n){!function(e,r){t.exports=r(n(2))}(this,function(t){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function n(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function r(t){return t===Object(t)}function o(t,e){for(var n=t.length;n--;)if(t[n]===e)return!0;return!1}function i(t,e){for(var n in e)t[n]=e[n];return t}function a(t,e){if(null!=t){var n=t[e];return"function"==typeof n?t[e]():n}}return t.LocalStorage=window.Store=function(t,e){if(!this.localStorage)throw"Backbone.localStorage: Environment does not support localStorage.";this.name=t,this.serializer=e||{serialize:function(t){return r(t)?JSON.stringify(t):t},deserialize:function(t){return t&&JSON.parse(t)}};var n=this.localStorage().getItem(this.name);this.records=n&&n.split(",")||[]},i(t.LocalStorage.prototype,{save:function(){this.localStorage().setItem(this.name,this.records.join(","))},create:function(t){return t.id||0===t.id||(t.id=n(),t.set(t.idAttribute,t.id)),this.localStorage().setItem(this._itemName(t.id),this.serializer.serialize(t)),this.records.push(t.id.toString()),this.save(),this.find(t)},update:function(t){this.localStorage().setItem(this._itemName(t.id),this.serializer.serialize(t));var e=t.id.toString();return o(this.records,e)||(this.records.push(e),this.save()),this.find(t)},find:function(t){return this.serializer.deserialize(this.localStorage().getItem(this._itemName(t.id)))},findAll:function(){for(var t,e,n=[],r=0;r<this.records.length;r++)t=this.records[r],e=this.serializer.deserialize(this.localStorage().getItem(this._itemName(t))),null!=e&&n.push(e);return n},destroy:function(t){this.localStorage().removeItem(this._itemName(t.id));for(var e=t.id.toString(),n=0;n<this.records.length;n++)this.records[n]===e&&this.records.splice(n,1);return this.save(),t},localStorage:function(){return localStorage},_clear:function(){var t=this.localStorage(),e=new RegExp("^"+this.name+"-");t.removeItem(this.name);for(var n in t)e.test(n)&&t.removeItem(n);this.records.length=0},_storageSize:function(){return this.localStorage().length},_itemName:function(t){return this.name+"-"+t}}),t.LocalStorage.sync=window.Store.sync=t.localSync=function(e,n,r){var o,i,s=a(n,"localStorage")||a(n.collection,"localStorage"),u=t.$?t.$.Deferred&&t.$.Deferred():t.Deferred&&t.Deferred();try{switch(e){case"read":o=void 0!=n.id?s.find(n):s.findAll();break;case"create":o=s.create(n);break;case"update":o=s.update(n);break;case"delete":o=s.destroy(n)}}catch(t){i=22===t.code&&0===s._storageSize()?"Private browsing is unsupported":t.message}return o?(r&&r.success&&("0.9.10"===t.VERSION?r.success(n,o,r):r.success(o)),u&&u.resolve(o)):(i=i?i:"Record Not Found",r&&r.error&&("0.9.10"===t.VERSION?r.error(n,i,r):r.error(i)),u&&u.reject(i)),r&&r.complete&&r.complete(o),u&&u.promise()},t.ajaxSync=t.sync,t.getSyncMethod=function(e,n){var r=n&&n.ajaxSync;return r||!a(e,"localStorage")&&!a(e.collection,"localStorage")?t.ajaxSync:t.localSync},t.sync=function(e,n,r){return t.getSyncMethod(n,r).apply(this,[e,n,r])},t.LocalStorage})},103:function(t,e,n){var r,o,i,a,s,u,c,p,l,f,_,d,h,y,m,g,b=function(t,e){function n(){this.constructor=t}for(var r in e)v.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},v={}.hasOwnProperty;r=n(2),c=n(3),r.localStorage=n(90),l=n(46),o=n(54).BaseLocalStorageCollection,p=n(49),u=r.Radio.channel("global"),a=r.Radio.channel("bumblr"),d="//api.tumblr.com/v2",f=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return b(e,t),e.prototype.url=function(){return d+"/"+this.id+"/posts/photo?callback=?"},e}(r.Collection),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return b(e,t),e.prototype.mode="server",e.prototype.full=!0,e.prototype.baseURL=d,e.prototype.url=function(){return this.baseURL+"/blog/"+this.base_hostname+"/posts/photo?api_key="+this.api_key},e.prototype.fetch=function(t){var n,r,o;return t||(t={}),r=t.data||{},n=this.state.currentPage,o=n*this.state.pageSize,t.offset=o,t.dataType="jsonp",e.__super__.fetch.call(this,t)},e.prototype.parse=function(t){var n;return n=t.response.total_posts,this.state.totalRecords=n,e.__super__.parse.call(this,t.response.posts)},e.prototype.state={firstPage:0,pageSize:15},e.prototype.queryParams={pageSize:"limit",offset:function(){return this.state.currentPage*this.state.pageSize}},e}(l),y=function(t){var e,n,r;return r=a.request("get_app_settings"),e=r.get("consumer_key"),n=new i,n.api_key=e,n.base_hostname=t,n},m="make_blog_post_collection",a.reply(m,function(t){return y(t)}),s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return b(e,t),e.prototype.model=p.BlogInfo,e.prototype.add_blog=function(t){var e,n;return n=t+".tumblr.com",e=new p.BlogInfo,e.set("id",n),e.set("name",t),e.api_key=this.api_key,this.add(e),this.save(),e.fetch(),e},e}(o),h=new s,g=a.request("get_app_settings"),_=g.get("consumer_key"),h.api_key=_,a.reply("get_local_blogs",function(){return h}),t.exports={PhotoPostCollection:f}},104:function(t,e,n){var r,o,i,a,s,u,c,p,l,f,_,d,h,y,m,g=function(t,e){function n(){this.constructor=t}for(var r in e)b.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},b={}.hasOwnProperty;r=n(7),o=n(2),p=n(3),d=n(10),c=n(23).MainController,h=n(31).make_sidebar_template,f=n(49),s=n(103),l=n(106),_=n(107),a=o.Radio.channel("bumblr"),m=h(),y=new o.Model({entries:[{name:"List Blogs",url:"#bumblr/listblogs"},{name:"Settings",url:"#bumblr/settings"}]}),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return g(e,t),e.prototype.template=m,e.prototype.regions={sidebar:"#sidebar",content:"#main-content"},e}(o.Marionette.View),u=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return g(e,t),e.prototype.layoutClass=i,e.prototype.sidebarclass=_,e.prototype.sidebar_model=y,e.prototype.set_header=function(t){var e;return e=r("#header"),e.text(t)},e.prototype.start=function(){return this.setup_layout_if_needed(),this.set_header("Bumblr"),this.list_blogs()},e.prototype.show_mainview=function(){var t;return this._make_sidebar(),t=new l.MainBumblrView,this._show_content(t),d.scroll_top_fast()},e.prototype.show_dashboard=function(){var t;return this._make_sidebar(),t=new l.BumblrDashboardView,this._show_content(t),d.scroll_top_fast()},e.prototype.list_blogs=function(){return this.setup_layout_if_needed(),this._make_sidebar(),n.e(0,function(t){return function(){var e,r,o;return console.log("sidebar created"),r=a.request("get_local_blogs"),console.log("blogs",r),e=n(158),o=new e({collection:r}),t._show_content(o)}}(this))},e.prototype.view_blog=function(t){return this.setup_layout_if_needed(),this._make_sidebar(),n.e(0,function(e){return function(){var r,o,i,s;return i=t+".tumblr.com",o=a.request("make_blog_post_collection",i),r=n(160),s=o.fetch(),s.done(function(){var t;return t=new r({collection:o}),e._show_content(t),d.scroll_top_fast()})}}(this))},e.prototype.add_new_blog=function(){return this.setup_layout_if_needed(),this._make_sidebar(),n.e(0,function(t){return function(){var e,r;return e=n(159),r=new e,t._show_content(r),d.scroll_top_fast()}}(this))},e.prototype.settings_page=function(){return this.setup_layout_if_needed(),this._make_sidebar(),n.e(0,function(t){return function(){var e,r,o;return e=n(161),r=a.request("get_app_settings"),o=new e({model:r}),t._show_content(o),d.scroll_top_fast()}}(this))},e}(c),t.exports=u},105:function(t,e,n){var r,o,i,a,s,u=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;r=n(22),i=n(104),a=Backbone.Radio.channel("global"),o=Backbone.Radio.channel("bumblr"),s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return u(e,t),e.prototype.appRoutes={bumblr:"start","bumblr/settings":"settings_page","bumblr/dashboard":"show_dashboard","bumblr/listblogs":"list_blogs","bumblr/viewblog/:id":"view_blog","bumblr/addblog":"add_new_blog"},e}(r),a.reply("applet:bumblr:route",function(){var t,e,n;return e=new i(a),t=o.request("get_local_blogs"),t.fetch(),n=new s({controller:e})})},106:function(t,e,n){var r,o,i,a,s,u,c,p,l=function(t,e){function n(){this.constructor=t}for(var r in e)f.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},f={}.hasOwnProperty;r=n(2),s=n(3),p=n(4),o=r.Radio.channel("bumblr"),c=p.renderable(function(t){return p.p("main bumblr view")}),u=p.renderable(function(t){return p.p("bumblr_dashboard_view")}),a=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return l(e,t),e.prototype.template=c,e}(r.Marionette.View),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return l(e,t),e.prototype.template=u,e}(r.Marionette.View),t.exports={MainBumblrView:a,BumblrDashboardView:i}},107:120,108:function(t,e,n){var r,o,i,a,s,u,c,p,l,f,_,d,h,y=function(t,e){function n(){this.constructor=t}for(var r in e)m.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},m={}.hasOwnProperty;r=n(2),p=n(3),c=n(23).MainController,d=n(26).login_form,f=n(12).SlideDownRegion,u=r.Radio.channel("global"),l=r.Radio.channel("messages"),s=r.Radio.channel("hubby"),i=r.Radio.channel("static-documents"),h=n(4),_=h.renderable(function(){return h.div("#header-stuff.row",function(){return h.div(".col-sm-4",function(){return h.div("#calendar.mini-calendar.panel"),h.div("#meeting-info")}),h.div("#main-content.col-sm-8")})}),a=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return y(e,t),e.prototype.template=_,e.prototype.regions=function(){return{content:new f({el:"#main-content",speed:"slow"}),minicalendar:"#calendar",meeting:"#meeting-info"}},e}(r.Marionette.View),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return y(e,t),e.prototype.layoutClass=a,e.prototype._view_resource=function(t){return n.e(0,function(e){return function(){var r,o;return r=n(88).FrontDoorMainView,o=new r({model:t}),e.layout.showChildView("content",o)}}(this))},e.prototype._view_login=function(){return n.e(0,function(t){return function(){var e,r;return e=n(162),r=new e,t.layout.showChildView("content",r)}}(this))},e.prototype.view_page=function(t){var e,n;return e=i.request("get-document",t),n=e.fetch(),n.done(function(t){return function(){return t._view_resource(e)}}(this)),n.fail(function(t){return function(){return l.request("danger","Failed to get document")}}(this))},e.prototype.frontdoor_needuser=function(){var t;return t=u.request("current-user"),t.has("name")?this.frontdoor_hasuser(t):this.show_login()},e.prototype.show_login=function(){return this.setup_layout_if_needed(),this._view_login()},e.prototype.frontdoor_hasuser=function(t){return this.default_view()},e.prototype.default_view=function(){return this.setup_layout_if_needed(),n.e(0,function(t){return function(){var e;return e=n(88).PostList,t.view_page("intro"),s.request("view-calendar",t.layout,"minicalendar")}}(this))},e.prototype.frontdoor=function(){var t;return t=u.request("main:app:appmodel"),t.get("needUser")?this.frontdoor_needuser():this.default_view()},e}(c),t.exports=o},109:function(t,e,n){var r,o,i,a,s=function(t,e){function n(){this.constructor=t}for(var r in e)u.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;r=n(22),o=n(108),i=Backbone.Radio.channel("global"),a=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.appRoutes={"":"frontdoor",frontdoor:"frontdoor","frontdoor/view":"frontdoor","frontdoor/view/:name":"view_page","frontdoor/login":"show_login","pages/:name":"view_page"},e}(r),i.reply("applet:frontdoor:route",function(){var t,e;return t=new o(i),e=new a({controller:t})})},110:function(t,e,n){var r,o,i,a,s,u,c,p,l,f,_,d,h,y=function(t,e){function n(){this.constructor=t}for(var r in e)m.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},m={}.hasOwnProperty;o=n(2),c=n(3),h=n(4),d=n(157),u=n(23).MainController,l=n(12).SlideDownRegion,_=n(10),s=o.Radio.channel("global"),p=o.Radio.channel("messages"),a=o.Radio.channel("hubby"),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return y(e,t),e.prototype.template=h.renderable(function(){return h.div(".row",function(){return h.div("#main-toolbar.col-sm-6.col-sm-offset-3")}),h.div(".row",function(){return h.div("#main-content.col-sm-10.col-sm-offset-1")})}),e.prototype.regions=function(){var t;return t=new l({el:"#main-content"}),t.slide_speed=d(".01s"),{content:t,toolbar:"#main-toolbar"}},e}(o.Marionette.View),f=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return y(e,t),e.prototype.template=h.renderable(function(){return h.div(".btn-group.btn-group-justified",function(){return h.div("#show-calendar-button.btn.btn-default",function(){return h.i(".fa.fa-calendar"," Calendar")}),h.div("#list-meetings-button.btn.btn-default",function(){return h.i(".fa.fa-list"," List Meetings")})})}),e.prototype.ui={show_cal_btn:"#show-calendar-button",list_btn:"#list-meetings-button"},e.prototype.events={"click @ui.show_cal_btn":"show_calendar","click @ui.list_btn":"list_meetings"},e.prototype.show_calendar=function(){return _.navigate_to_url("#hubby")},e.prototype.list_meetings=function(){return _.navigate_to_url("#hubby/listmeetings")},e}(o.Marionette.View),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return y(e,t),e.prototype.layoutClass=r,e.prototype.setup_layout_if_needed=function(){return e.__super__.setup_layout_if_needed.call(this),this.layout.showChildView("toolbar",new f)},e.prototype.show_calendar=function(t,e){return n.e(2,function(r){return function(){var r,o,i;return r=n(163),o={},"minicalendar"===e&&(o.minicalendar=!0,o.layout=t),i=new r(o),t.showChildView(e,i)}}(this))},e.prototype.mainview=function(){return this.setup_layout_if_needed(),this.show_calendar(this.layout,"content")},e.prototype.list_meetings=function(){return this.setup_layout_if_needed(),n.e(0,function(t){return function(){var e,r,o,i;return r=n(27).MainMeetingModel,o=a.request("meetinglist"),e=n(164),i=o.fetch(),i.done(function(){var n;return n=new e({collection:o}),t.layout.showChildView("content",n)}),i.fail(function(){return p.request("danger","Failed to load meeting list")})}}(this))},e.prototype.show_meeting=function(t,e,r){return n.e(0,function(o){return function(){var o,i,a,s;return o=n(27).MainMeetingModel,i=n(165),a=new o({id:r}),s=a.fetch(),s.done(function(){var n;return n=new i({model:a}),t.showChildView(e,n)}),s.fail(function(){return p.request("danger","Failed to load meeting")})}}(this))},e.prototype.view_meeting=function(t){return this.setup_layout_if_needed(),this.show_meeting(this.layout,"content",t)},e}(u),t.exports=i},111:function(t,e,n){var r,o,i,a,s,u,c=function(t,e){function n(){this.constructor=t}for(var r in e)p.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},p={}.hasOwnProperty;r=n(22),o=n(110),n(27),a=Backbone.Radio.channel("global"),i=Backbone.Radio.channel("hubby"),s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return c(e,t),e.prototype.appRoutes={hubby:"mainview","hubby/listmeetings":"list_meetings","hubby/viewmeeting/:id":"view_meeting"},e}(r),u=void 0,u=new Date("2016-10-15"),i.reply("maincalendar:set-date",function(){var t;return t=$("#maincalendar"),u=t.fullCalendar("getDate")}),i.reply("maincalendar:get-date",function(){return u}),a.reply("applet:hubby:route",function(){var t,e;return t=new o(a),i.reply("view-calendar",function(e,n){return t.show_calendar(e,n)}),i.reply("view-meeting",function(e,n,r){return t.show_meeting(e,n,r)}),e=new s({controller:t})})},112:function(t,e,n){var r,o,i,a,s,u,c,p,l,f,_,d=function(t,e){function n(){this.constructor=t}for(var r in e)h.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;r=n(7),l=n(7),c=n(8),o=n(2),i=n(116),a=n(12).BootstrapModalRegion,u=n(114),_=n(4),f=_.renderable(function(){return _.div("#navbar-view-container"),_.div(".container-fluid",function(){return _.div(".row",function(){return _.div(".col-sm-12",function(){return _.div("#messages")})}),_.div("#applet-content.row")}),_.div("#footer"),_.div("#modal")}),s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return d(e,t),e.prototype.template=f,e.prototype.regions={messages:"#messages",navbar:"#navbar-view-container",modal:new a,applet:"#applet-content",footer:"#footer"},e}(o.Marionette.View),p=new i({hasUser:!1,needUser:!1,brand:{name:"Umeboshi",url:"/"},appView:s,navbarView:u,container:"container-fluid"}),t.exports=p},113:function(t,e,n){var r,o,i,a,s,u,c,p,l,f=function(t,e){function n(){this.constructor=t}for(var r in e)_.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},_={}.hasOwnProperty;r=n(7),i=n(2),u=n(3),l=n(4),n(29),p=n(50),n(52),n(30),n(115),s=i.Radio.channel("global"),c=i.Radio.channel("messages"),a=i.Radio.channel("static-documents"),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,t),e.prototype.templateContext=function(){return{applets:this.applets}},e.prototype.template=l.renderable(function(t){return(null!=t?t.applets:void 0)?l.li(".dropdown",function(){return l.a(".dropdown-toggle",{"data-toggle":"dropdown"},function(){return l.text(t.label),l.b(".caret")}),l.ul(".dropdown-menu",function(){var e,n,r,o,i;for(o=t.applets,i=[],n=0,r=o.length;n<r;n++)e=o[n],i.push(l.li({appname:applets[e].appname},function(){return l.a({href:applets[e].url},applets[e].name)}));return i})}):l.li(function(){return l.a({href:t.url},t.label)})}),e}(i.Marionette.View),s.reply("mainpage:init",function(t){var e;return e=s.request("main:app:object"),p(e),s.trigger("mainpage:displayed")}),s.on("mainpage:displayed",function(){var t,e;return t=s.request("main:app:object"),e=s.request("main:app:appmodel")}),t.exports={}},114:function(t,e,n){var r,o,i,a,s,u,c,p,l=function(t,e){function n(){this.constructor=t}for(var r in e)f.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},f={}.hasOwnProperty;p=n(4),c=n(24),s=c.navbar_collapse_button,i=c.dropdown_toggle,r=Backbone.Radio.channel("global"),a=p.renderable(function(t){var e;return e=!1,p.div("."+(t.container||"container"),function(){return p.div(".navbar-header",function(){return s("navbar-view-collapse"),p.a(".navbar-brand",{href:t.brand.url},t.brand.name)}),p.div("#navbar-view-collapse.collapse.navbar-collapse",function(){return p.ul(".nav.navbar-nav.nav-pills",function(){var n,r,o,i,a,s,u,c,l,f,_,d,h,y,m;for(r={},d=t.applets,s=0,l=d.length;s<l;s++)n=d[s],r[n.appname]=n;for(h=t.applet_menus,m=[],u=0,f=h.length;u<f;u++)if(a=h[u],null!=a?a.applets:void 0){for(i=!0,y=a.applets,c=0,_=y.length;c<_;c++)o=y[c],r[o].needUser&&!e||(i=!1);if(i)continue;m.push(p.li(".dropdown",function(){return p.a(".dropdown-toggle",{"data-toggle":"dropdown"},function(){return p.text(a.label),p.b(".caret")}),p.ul(".dropdown-menu",function(){var t,n,i,s;for(i=a.applets,s=[],t=0,n=i.length;t<n;t++)o=i[t],r[o].needUser&&!e||s.push(p.li({appname:r[o].appname},function(){return p.a({href:r[o].url},r[o].name)}));return s})}))}else m.push(p.li(function(){return p.a({href:a.url},a.label)}));return m}),p.ul("#user-menu.nav.navbar-nav.navbar-right"),p.div("#form-search-container")})})}),u=p.renderable(function(t){return p.nav("#navbar-view.navbar.navbar-static-top.navbar-default",{xmlns:"http://www.w3.org/1999/xhtml","xml:lang":"en",role:"navigation"},function(){return a(t)})}),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return l(e,t),e.prototype.template=u,e.prototype.regions={appletmenus:"#applet-menus",usermenu:"#user-menu",mainmenu:"#main-menu"},e}(Backbone.Marionette.View),t.exports=o},115:function(t,e,n){var r,o,i,a,s,u,c,p,l,f,_,d=function(t,e){function n(){this.constructor=t}for(var r in e)h.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;r=n(7),_=n(8),o=n(2),c=n(3),a=n(54).BaseLocalStorageCollection,i=n(119).BaseCollection,u=o.Radio.channel("global"),p=o.Radio.channel("messages"),s=o.Radio.channel("static-documents"),l=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return d(e,t),e.prototype.url=function(){return"/assets/documents/"+this.id+".md"},e.prototype.fetch=function(t){return t=_.extend(t||{},{dataType:"text"}),e.__super__.fetch.call(this,t)},e.prototype.parse=function(t){return{content:t}},e}(o.Model),f=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return d(e,t),e.prototype.model=l,e}(i),s.reply("get-document",function(t){var e;return e=new l({id:t})}),t.exports={StaticDocument:l}},116:function(t,e,n){var r,o,i,a,s,u,c=function(t,e){function n(){this.constructor=t}for(var r in e)p.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},p={}.hasOwnProperty;r=n(7),u=n(7),a=n(8),o=n(2),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return c(e,t),e.prototype.defaults={apiRoot:"/api/dev",brand:{name:"Brand",url:"/"},frontdoor_app:"frontdoor",userprofile_app:"userprofile",hasUser:!1,needUser:!1,applets:[],applet_menus:[],appRegion:"body",appView:null,navbarView:null,container:"container",regions:{},routes:[]},e}(o.Model),s={label:"Applets",applets:["foo","bar","another"],single_applet:!1,url:"/this/is/used/if/applets/is/empty/for/plain/link"},t.exports=i},119:function(t,e,n){var r,o,i=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;r=n(2),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.parse=function(t){return t.data},e}(r.Collection),t.exports={BaseCollection:o}},157:function(t,e){function n(t){if(t=String(t),!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*p;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"hrs":case"hr":case"h":return n*u;case"minutes":case"minute":case"mins":case"min":case"m":return n*s;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(t){return t>=c?Math.round(t/c)+"d":t>=u?Math.round(t/u)+"h":t>=s?Math.round(t/s)+"m":t>=a?Math.round(t/a)+"s":t+"ms"}function o(t){return i(t,c,"day")||i(t,u,"hour")||i(t,s,"minute")||i(t,a,"second")||t+" ms"}function i(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var a=1e3,s=60*a,u=60*s,c=24*u,p=365.25*c;t.exports=function(t,e){e=e||{};var i=typeof t;if("string"===i&&t.length>0)return n(t);if("number"===i&&isNaN(t)===!1)return e.long?o(t):r(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}}});